{"version":3,"file":"ej2-popups.umd.min.js","sources":["src/es5/common/position.js","src/es5/common/collision.js","src/es5/popup/popup.js","src/es5/spinner/spinner.js","src/es5/dialog/dialog.js","src/es5/tooltip/tooltip.js"],"sourcesContent":["/**\n * Position library\n */\nvar elementRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    while (element.offsetParent && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while (element.offsetParent && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement) {\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft();\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos);\n}\nfunction setPopup(element, pos) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top');\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.fixedParent = false;\n        return _this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = relateToElement.getBoundingClientRect();\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (scrollElement.getBoundingClientRect) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        this.checkCollision();\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        this.element.style.left = pos.left + 'px';\n        this.element.style.top = pos.top + 'px';\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = ele.getBoundingClientRect();\n        var anchorRect = anchorEle.getBoundingClientRect();\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            var data = fit(this.element, this.viewPortElement, param);\n            this.element.style.left = data.left + 'px';\n            this.element.style.top = data.top + 'px';\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     */\n    Popup.prototype.show = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property(document.body)\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Property({ X: 'left', Y: 'top' })\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n","import { isNullOrUndefined, classList } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args) {\n    var radius;\n    var container = create_spinner_container(args.target);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n}\nfunction createLabel(container, label) {\n    var labelEle = document.createElement('div');\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID);\n    fb_calculate_attributes(radius, container);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius);\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerContainer, uniqueID) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', CLS_FABRICSPIN);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerContainer.insertBefore(svgFabric, innerContainer.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target) {\n    var spinnerContainer = document.createElement('div');\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = document.createElement('div');\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.e-spin-fabric');\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args) {\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser } from '@syncfusion/ej2-base';\nimport { createElement, addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\n/**\n * Represents the Dialog component that displays information to the user, and used to get the user input.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide();\n            _this.closedFrom = event;\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.headerContent = null;\n    };\n    ;\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                if (!isNullOrUndefined(this.btnObj) && document.activeElement === this.btnObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(this.btnObj)) {\n                        this.btnObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide();\n            this.closedFrom = event;\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        attributes(this.element, { role: 'dialog' });\n        if (isNullOrUndefined(this.zIndex)) {\n            this.getZindexPartial();\n        }\n        this.setTargetContent();\n        if (this.header !== '') {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        if (!isNullOrUndefined(this.content) && this.content !== '') {\n            this.setContent();\n        }\n        else if (this.element.hasChildNodes()) {\n            this.contentEle = this.element;\n        }\n        if (this.footerTemplate !== '') {\n            this.setFooterTemplate();\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            this.setButton();\n        }\n        if (this.allowDragging && (!this.isModal) && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function () {\n                _this.focusContent();\n                _this.trigger('open');\n            },\n            close: function (event) {\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closedFrom);\n                _this.closedFrom = {};\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n    };\n    Dialog.prototype.positionChange = function () {\n        if (!this.isModal) {\n            this.popupObj.setProperties({\n                position: {\n                    X: this.position.X, Y: this.position.Y\n                }\n            });\n        }\n        else {\n            this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n        }\n    };\n    Dialog.prototype.getZindexPartial = function () {\n        // upto body traversal\n        var dialogParent = this.element.parentElement;\n        var parentZindex = [];\n        while (dialogParent) {\n            if (dialogParent.tagName !== 'BODY') {\n                var index = document.defaultView.getComputedStyle(dialogParent, null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(dialogParent, null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    parentZindex.push(index);\n                }\n                dialogParent = dialogParent.parentElement;\n            }\n            else {\n                break;\n            }\n        }\n        //Body direct children element traversal\n        var childrenZindex = [];\n        for (var i = 0; i < document.body.children.length; i++) {\n            if (!this.element.isEqualNode(document.body.children[i])) {\n                var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    childrenZindex.push(index);\n                }\n            }\n        }\n        childrenZindex.push('999');\n        var finalValue = parentZindex.concat(childrenZindex);\n        this.zIndex = Math.max.apply(Math, finalValue) + 1;\n    };\n    ;\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var btn = createElement('button', { attrs: { type: 'button' } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj.appendTo(this.ftrTemplateContent.children[i]);\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        typeof (this.content) === 'string' ? this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n        !isNullOrUndefined(this.headerContent) ? this.element.insertBefore(this.contentEle, this.element.children[1]) :\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var isContent = this.element.innerHTML.replace(/\\s/g, '') !== '';\n        if (this.element.children.length > 0 || isContent) {\n            this.setProperties({ content: this.element.innerHTML }, true);\n            this.element.innerHTML = '';\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        this.headerEle = createElement('div', { id: this.element.id + '_title', className: DLG_HEADER, innerHTML: this.header });\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        this.ftrTemplateContent = createElement('div', {\n            className: DLG_FOOTER_CONTENT,\n            innerHTML: (this.footerTemplate !== '' ? this.footerTemplate : this.buttonContent.join(''))\n        });\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = createElement('div', { className: DLG_CONTAINER });\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        this.element.removeChild(this.contentEle);\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '') {\n                        detach(this.headerEle);\n                    }\n                    else {\n                        this.element.getElementsByClassName(DLG_HEADER).length > 0 ?\n                            this.element.getElementsByClassName(DLG_HEADER)[0].innerHTML = this.header\n                            : this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    this.element.getElementsByClassName(DLG_FOOTER_CONTENT).length > 0 ?\n                        this.ftrTemplateContent.innerHTML = this.footerTemplate : this.setFooterTemplate();\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && this.header === '') {\n                            detach(this.headerContent);\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n                    if (this.isModal) {\n                        this.setIsModal();\n                        this.wireEvents();\n                        if (!isNullOrUndefined(this.targetEle)) {\n                            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n                        }\n                    }\n                    else {\n                        removeClass([this.element], MODAL_DLG);\n                        removeClass([document.body], SCROLL_DISABLED);\n                        detach(this.dlgOverlay);\n                        while (this.dlgContainer.firstChild) {\n                            this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n                        }\n                        this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'animationSettings':\n                    this.show();\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                        }\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!this.isModal) && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (oldProp.position.X === this.position.X && oldProp.position.Y === this.position.Y) {\n                        break;\n                    }\n                    if (this.isModal) {\n                        this.dlgContainer.classList.remove('e-dlg-' + oldProp.position.X + '-' + oldProp.position.Y);\n                        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n                    }\n                    else {\n                        this.popupObj.position = this.position;\n                        break;\n                    }\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @private\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            if (!isNullOrUndefined(this.btnObj)) {\n                this.btnObj.destroy();\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Specifies dialog offset x and y position changed dynamically or\n     * change the header,footer height or width dynamically, reposition the dialog as per the new changes.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * To show the Dialog element on screen.\n     * To enable the fullScreen Dialog pass the parameter to 'true'.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            this.trigger('beforeOpen');\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            this.visible = true;\n        }\n    };\n    /**\n     * To hide the Dialog element on screen.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function () {\n        this.trigger('beforeClose');\n        if (this.isModal) {\n            this.dlgOverlay.style.display = 'none';\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        this.visible = false;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!this.isModal) && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property()\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Property({ effect: 'Fade', duration: 400, delay: 0 })\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property({ X: 'center', Y: 'center' })\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, createElement, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip widget\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        if (this.position.indexOf('top') === 0 || this.position.indexOf('bottom') === 0) {\n            _a = this.position.split(' '), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(' '), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n        var _a, _b;\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'right top':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'right center':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'right bottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'bottom right':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'bottom center':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'bottom left':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'left bottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'left center':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'left top':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'top left':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'top right':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            topValue = this.tipClass === TIP_BOTTOM ? '100%' : -(tipHeight) + 'px';\n            var tipPosExclude = tooltipPositionX !== 'center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'left') || (!tipPosExclude && this.tipPointerPosition === 'end')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'right') || (!tipPosExclude && this.tipPointerPosition === 'start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            leftValue = this.tipClass === TIP_RIGHT ? tooltipWidth + 'px' : -(tipWidth) + 'px';\n            var tipPosExclude = tooltipPositionY !== 'center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'top') || (!tipPosExclude && this.tipPointerPosition === 'end')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'bottom') || (!tipPosExclude && this.tipPointerPosition === 'start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            if (typeof (this.content) === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                while (tooltipContent.firstChild) {\n                    tooltipContent.removeChild(tooltipContent.firstChild);\n                }\n                tooltipContent.appendChild(this.content);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass);\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'right' : affectedPos.indexOf('right') >= 0 ? 'left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'bottom' : affectedPos.indexOf('bottom') >= 0 ? 'top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('bottom') === 0 || this.position.indexOf('top') === 0) ?\n                elePos.vertical + ' ' + this.tooltipPositionX : this.tooltipPositionX + ' ' + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('left') === 0) {\n                elePos.vertical = (newpos === 'left top' || newpos === 'left center') ? 'top' : 'bottom';\n                newpos = (elePos.vertical + ' ' + 'left');\n            }\n            if (newpos.indexOf('right') === 0) {\n                elePos.vertical = (newpos === 'right top' || newpos === 'right center') ? 'top' : 'bottom';\n                newpos = (elePos.vertical + ' ' + 'right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('bottom') === 0 || newpos.indexOf('top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('bottom') === 0 || this.position.indexOf('top') === 0) ?\n                elePos.vertical + ' ' + elePos.horizontal : elePos.horizontal + ' ' + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left + this.offsetX;\n            elePos.top = eventPageY + colpos.top + this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'center';\n        this.tooltipPositionY = 'top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'custom') {\n                return;\n            }\n            if (opensOn === 'focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'auto') {\n            trigger = (Browser.isDevice) ? 'hover' : 'hover focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (!this.isSticky) {\n            if (e.type === 'focus') {\n                EventHandler.add(target, 'blur', this.onMouseOut, this);\n            }\n            if (e.type === 'mouseover') {\n                EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.add(target, 'mousemove touchstart', this.onMouseMove, this);\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'custom') {\n                return;\n            }\n            if (opensOn === 'focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart', this.onMouseMove);\n        }\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && target) {\n                        this.reposition(target);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    var trgt = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && trgt) {\n                        this.reposition(trgt);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass);\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass);\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * Hides the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * Refreshes the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * Destroys the Tooltip widget.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('top center')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n"],"names":["calculateRelativeBasedPosition","anchor","element","anchorPos","left","top","tempAnchor","offsetParent","offsetLeft","offsetTop","scrollLeft","scrollTop","parentElement","calculatePosition","currentElement","positionX","positionY","fixedParent","parentDocument","ownerDocument","posX","posY","pos","elementRect","getBoundingClientRect","setPosx","getElementHCenter","setPosy","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","updatePosition","toLowerCase","value","getBodyScrollTop","documentElement","body","getBodyScrollLeft","bottom","height","right","width","fit","viewPortElement","axis","position","X","Y","elemData","targetContainer","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","x","y","elemOffset","data","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","push","rightSide","leftSide","bottomSide","flip","target","offsetX","offsetY","tEdge","TL","TR","BL","BR","eEdge","edge","updateElementData","setPosition","leftFlip","topFlip","getComputedStyle","style","setPopup","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","window","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parent","tagName","parentStyle","test","overflow","overflowY","overflowX","document","createMaterialSpinner","container","radius","uniqueID","random_generator","globalTimeOut","timeOut","type","innerContainer","svgMaterial","createElementNS","setAttribute","CLS_MATERIALSPIN","matCirclePath","CLS_SPINCIRCLE","insertBefore","firstChild","appendChild","create_material_element","diameter","svg","querySelector","path","strokeSize","getStrokeSize","transformOrigin","offset","drawArc","Math","PI","getDashOffset","mat_calculate_attributes","createFabricSpinner","svgFabric","CLS_FABRICSPIN","fabricCirclePath","fabricCircleArc","CLS_SPINARC","create_fabric_element","innerConainer","centerX","centerY","circle","join","defineCircle","startArc","endArc","start","defineArcPoints","end","defineArc","fb_calculate_attributes","setTheme","theme","CLS_SPININWRAP","isNullOrUndefined","removeChild","svgBoot","CLS_BOOTSPIN","item","bootCircle","defaultRadius","create_bootstrap_element","circleEle","boot_calculate_attributes","createBootstrapSpinner","generateSeries","begin","stop","formSeries","i","series","count","increment","parseFloat","toFixed","random","combine","charAt","floor","length","animateMaterial","spinnerInfo","easing","duration","max","mat_animation","currentTime","min","Date","getTime","startTime","updatePath","change","id","globalInfo","previousId","setTimeout","bind","getSize","rotate","createCircle","easeAnimation","current","timestamp","timecount","angle","radians","cos","sin","showSpinner","showHideSpinner","isHide","spinnerWrap","classList","contains","CLS_SPINWRAP","inner","CLS_SPINTEMPLATE","CLS_HIDESPIN","CLS_SHOWSPIN","svgEle","getAttribute","isAnimate","clearTimeout","globalObject","globalVariables","timeOutVar","startMatAnimate","boot_animate","rotation","getElementsByClassName","animateBootstrap","hideSpinner","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","CLASSNAMES","Popup","_super","options","_this","call","onPropertyChanged","newProp","oldProp","_i","_a","keys","setStyleAttribute","formatUnit","zIndex","setEnableRtl","refreshPosition","parseInt","toString","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","getPersistData","addOnPersist","destroy","remove","unwireEvents","render","add","styles","wireEvents","Browser","isDevice","EventHandler","orientationOnChange","getRelateToElement","parent_1","scrollRefresh","parent_2","relateTo","e","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","relateToElement","scrollElement","parent_3","isElementVisible","rect","parent_4","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","preRender","reposition","enableRtl","content","innerHTML","textContent","checkFixedParent","checkCollision","display","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","param","callFit","horz","collision","vert","show","animationOptions","showAnimation","removeClass","addClass","isDestroyed","Animation","animate","hideAnimation","Property","Event","NotifyPropertyChanges","Component","ButtonProps","apply","ChildProperty","ROOT","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CLOSE_ICON","SCROLL_DISABLED","FULLSCREEN","DLG_CLOSE_ICON_BTN","Dialog","initialize","initRender","closeIconClickEventHandler","event","closedFrom","dlgOverlayClickEventHandler","l10n","L10n","close","locale","headerContent","keyDown","keyCode","isModal","btnObj","activeElement","shiftKey","preventDefault","focusableElements","focus","isTagName","indexOf","isContentEdit","hasAttribute","closeOnEscape","ctrlKey","primaryButtonEle","buttonIndex_1","buttons","some","index","buttonModel","isPrimary","click","targetEle","setCSSClass","setMaxHeight","attributes","role","getZindexPartial","setTargetContent","header","setHeader","showCloseIcon","renderCloseIcon","hasChildNodes","contentEle","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","open","focusContent","unBindEvent","storeActiveElement","positionChange","setEnableRTL","visible","dlgOverlay","setProperties","dialogParent","parentZindex","defaultView","getPropertyValue","childrenZindex","children","isEqualNode","finalValue","concat","dragObj","Draggable","clone","handle","dragStart","dragStop","drag","dragArea","buttonContent","btn","createElement","attrs","outerHTML","Button","ftrTemplateContent","appendTo","aria-describedby","className","maxHeight","offsetHeight","isContent","replace","headerEle","aria-labelledby","createHeaderContent","closeIcon","closeIconBtnObj","cssClass","iconCss","closeIconTitle","prepend","setLocale","getConstant","oldCSSClass","split","parentNode","getValidFocusNode","items","node","u","clientHeight","tabIndex","disabled","disableElement","querySelectorAll","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msMatchesSelector","Element","bindEvent","detach","unWireEvents","classArray","isFullScreen","fullScreen","openAnimation","name","animationSettings","effect","delay","dialogOpen","closeAnimation","args","Collection","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_RIGHT","POPUP_OPEN","POPUP_CLOSE","Tooltip","formatPosition","tooltipPositionY","tooltipPositionX","_b","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","dataBind","tooltipEventArgs","clear","tooltipEleWidth","offsetWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","removeAttribute","isSticky","tipClose","ICON","touchStartEvent","onStickyClose","addDescribedBy","describedby","trim","data-tooltip-id","removeDescribedBy","splice","orgdescribedby","tapHoldHandler","evt","autoCloseTimer","targetHover","originalEvent","touchEndHandler","targetClick","closest","hideTooltip","animation","targetList_1","slice","ctrlId","target_1","restoreElement","showTooltip","wireMouseEvents","showTimer","hideTimer","cancel","isHidden","getUniqueID","TOOLTIP_WRAP","aria-hidden","maxWidth","PopupAnimation","timingFunction","undefined","openDelay","horizontal","vertical","affectedPos","newpos","eleOffset","arrowleft","targetElement","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","touches","pageX","pageY","colpos","touchEnd","scrollHandler","opensOn","triggerList_1","getTriggerList","wireFocusEvents","touchModule","Touch","tapHoldThreshold","tapHold","touchEndEvent","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","trgt","refresh","Complex","spinTemplate","spinCSSClass","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","CLS_SPINLABEL","spinnerContainer","spinnerInnerContainer","wrap","inner_wrap","create_spinner_container","template","getTheme","defaultSize","calculateRadius","label","labelEle","createLabel","replaceContent","svgElement","replaceTheme","ensureTemplate"],"mappings":"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"}
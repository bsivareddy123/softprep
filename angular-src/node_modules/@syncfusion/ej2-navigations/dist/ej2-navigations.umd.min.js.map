{"version":3,"file":"ej2-navigations.umd.min.js","sources":["src/es5/common/h-scroll.js","src/es5/toolbar/toolbar.js","src/es5/accordion/accordion.js","src/es5/context-menu/context-menu.js","src/es5/tab/tab.js","src/es5/treeview/treeview.js","src/es5/sidebar/sidebar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this) });\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n            EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = buildTag('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = buildTag('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        var nav = selectAll('#' + ele.id + '_nav.e-' + ele.id + '_nav');\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            detach(nav[1]);\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = buildTag('div', { id: id, className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = buildTag('div', { id: id, className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = buildTag('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target);\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        addDisable.classList.add(CLS_DISABLE);\n        addDisable.setAttribute('aria-disabled', 'true');\n        addDisable.removeAttribute('tabindex');\n        clearInterval(this.timeout);\n        removeDisable.classList.remove(CLS_DISABLE);\n        removeDisable.setAttribute('aria-disabled', 'false');\n        removeDisable.setAttribute('tabindex', '0');\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(40)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        this.trigger('beforeCreate');\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && isVisible(this.popObj.element)) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM);\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'SlideUp', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = popupCheck.children;\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj) {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'SlideDown', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT') {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        this.trigger('clicked', eventArgs);\n        if (isPopupElement && !eventArgs.cancel) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.element.style.top = this.element.offsetHeight + 'px';\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'SlideDown', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: 50, enableRtl: this.enableRtl }, innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                width += (el.offsetWidth + parseFloat(window.getComputedStyle(el).marginRight));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth;\n        if (this.tbarAlign || this.scrollModule) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        else {\n            itemWidth = innerItem.offsetWidth;\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /** @hidden */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    this.destroyHScroll();\n                    this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            setStyle(el, { display: '', height: eleHeight + 'px' });\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR)) {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            ele = buildTag('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (element.offsetHeight),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose,\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if ((window.innerHeight + scrollVal) < popupElePos) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element.parentElement;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (sepCheck > 0 && itemCount === itemPopCount) {\n                        var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                        if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                            setStyle(sepEle, { display: 'none' });\n                        }\n                    }\n                    sepCheck++;\n                    itemCount = 0;\n                    itemPopCount = 0;\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        var nav = buildTag('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = buildTag('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = el.offsetWidth;\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                eleSplice.slice(0, index).forEach(function (el) {\n                    if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                        if (el.classList.contains(CLS_SEPARATOR)) {\n                            el.style.display = '';\n                            width -= el.offsetWidth;\n                        }\n                        sepBeforePri_1++;\n                    }\n                });\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(buildTag('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(buildTag('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(buildTag('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = buildTag('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i]);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item);\n            if (this.tbarEle.length >= index && innerItems.length > 0) {\n                this.destroyMode();\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    templateFn = templateCompiler(tempStr);\n                    detach(ele);\n                    item.template = tempStr;\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = buildTag('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = buildTag('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = buildTag('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        new Button({ iconCss: iconCss, iconPosition: iconPos }, dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item) {\n        var innerEle;\n        var dom;\n        innerEle = buildTag('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', item.tooltipText);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj) {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && property === 'overflow' && this.popupPriCount !== 0) {\n                                --this.popupPriCount;\n                            }\n                            this.destroyMode();\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass(innerEles, [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = buildTag('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = buildTag('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT') {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = buildTag('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = buildTag('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = buildTag('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = buildTag('div', { className: CLS_HEADERICN });\n            var icon = buildTag('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        if (!isNOU(templateFn) && templateFn().length > 0 && !(isNOU(templateFn()[0].tagName) && templateFn().length === 1)) {\n            [].slice.call(templateFn()).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = buildTag('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = buildTag('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                });\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, createElement, detach, append, rippleEffect, isVisible } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { calculatePosition, isCollide, fit, getScrollableParent } from '@syncfusion/ej2-popups';\nvar DOWNARROW = 'downarrow';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar RTL = 'e-rtl';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar WRAPPER = 'e-contextmenu-wrapper';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\n/**\n * Specifies context menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.animation = new Animation({});\n        _this.navIdx = [];\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized animation with parent menu animation settings.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        if (this.element.tagName === 'EJ-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    ContextMenu.prototype.render = function () {\n        this.initWrapper();\n        this.renderItems();\n        this.wireEvents();\n    };\n    ContextMenu.prototype.initWrapper = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = createElement('div', { className: WRAPPER });\n            document.body.appendChild(wrapper);\n        }\n        if (this.cssClass) {\n            wrapper.classList.add(this.cssClass);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n        this.element.style.zIndex = this.getZIndex();\n    };\n    ContextMenu.prototype.renderItems = function () {\n        if (!this.items.length) {\n            this.items = ListBase.createJsonFromElement(this.element);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    ContextMenu.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(wrapper, 'mouseover', this.moverHandler, this);\n            EventHandler.add(document, 'mousedown', this.mouseDownHandler, this);\n        }\n        EventHandler.add(document, 'click', this.clickHandler, this);\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: {\n                downarrow: DOWNARROW,\n                uparrow: UPARROW,\n                enter: ENTER,\n                leftarrow: LEFTARROW,\n                rightarrow: RIGHTARROW,\n                escape: ESCAPE\n            }\n        });\n        rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    ContextMenu.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.' + WRAPPER) !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    ContextMenu.prototype.keyBoardHandler = function (e) {\n        e.preventDefault();\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n    };\n    ContextMenu.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = e.action === DOWNARROW ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            fliIdx = this.getIdx(cul, fli);\n            fli.classList.remove(FOCUSED);\n            e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n            if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                fliIdx = defaultIdx;\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    ContextMenu.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    ContextMenu.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    ContextMenu.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    ContextMenu.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    ContextMenu.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].clientY + 1, e.changedTouches[0].clientX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.clientY + 1, e.clientX + 1, e);\n            }\n        }\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        this.closeMenu();\n    };\n    ContextMenu.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                ul = wrapper.children[cnt - 1];\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    ContextMenu.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top To specify ContextMenu vertical positioning.\n     * @param left To specify ContextMenu horizontal positioning.\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left) {\n        this.openMenu(null, null, top, left);\n    };\n    ContextMenu.prototype.openMenu = function (li, item, top, left, e) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item.items);\n            if (Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = { text: item.text, iconCss: ICONS + ' e-previous' };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n        }\n        navIdx = this.getIndex(li ? li.textContent : null);\n        var items = li ? item.items : this.items;\n        var eventArgs = { element: ul, items: items, parentItem: item, event: e, cancel: false };\n        this.trigger('beforeOpen', eventArgs);\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    ContextMenu.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    ContextMenu.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    ContextMenu.prototype.createItems = function (items) {\n        var _this = this;\n        var showIcon = this.hasField(items, 'iconCss');\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            itemCreating: function (args) {\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n            },\n            itemCreated: function (args) {\n                if (args.curData.separator) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData.iconCss && !args.curData.separator) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData.items && args.curData.items.length) {\n                    var span = createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    args.item.removeAttribute('role');\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.toRawObject(items.slice()), listBaseOptions, true);\n        ul.setAttribute('tabindex', '0');\n        return ul;\n    };\n    ContextMenu.prototype.toRawObject = function (items) {\n        var item;\n        var menuItems = [];\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i].properties;\n            menuItems.push(item);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.' + WRAPPER)) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n    };\n    ContextMenu.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ContextMenu.prototype.getWrapper = function () {\n        return closest(this.element, '.' + WRAPPER);\n    };\n    ContextMenu.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.' + WRAPPER) : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.textContent);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (!Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item.items.length) {\n                                if (e.type === 'mouseover') {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    ContextMenu.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    ContextMenu.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    ContextMenu.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]].items;\n        }\n        return items;\n    };\n    ContextMenu.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    ContextMenu.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI') {\n            return elem;\n        }\n        return closest(elem, 'li');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        wrapper.classList.add(newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'filter':\n                    this.closeMenu();\n                    this.filter = newProp.filter;\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    ContextMenu.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    ContextMenu.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(wrapper, 'mouseover', this.moverHandler);\n            EventHandler.remove(document, 'mousedown', this.mouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.clickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    ContextMenu.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    ContextMenu.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = { element: ul, parentItem: item, items: item ? item.items : this.items };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    ContextMenu.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.getIndex = function (data, items, navIdx, isCallBack) {\n        if (items === void 0) { items = this.items; }\n        if (navIdx === void 0) { navIdx = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        var item;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if (item.text === data) {\n                navIdx.push(i);\n                break;\n            }\n            else if (item.items.length) {\n                navIdx = this.getIndex(data, item.items, navIdx, true);\n                if (navIdx[navIdx.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        navIdx.pop();\n                    }\n                }\n                else {\n                    navIdx.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    navIdx.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && navIdx[0] === -1) ? [] : navIdx;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the ContextMenu based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @returns void\n     */\n    ContextMenu.prototype.enableItems = function (items, enable) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(disabled);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.add(disabled);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the ContextMenu based on the items text.\n     * @param items Text items that needs to be shown.\n     * @returns void\n     */\n    ContextMenu.prototype.showItems = function (items) {\n        this.showHideItems(items, false);\n    };\n    /**\n     * This method is used to hide the menu items in the ContextMenu based on the items text.\n     * @param items Text items that needs to be hidden.\n     * @returns void\n     */\n    ContextMenu.prototype.hideItems = function (items) {\n        this.showHideItems(items, true);\n    };\n    ContextMenu.prototype.showHideItems = function (items, ishide) {\n        var ul;\n        var idx;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[idx].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the ContextMenu based on the items text.\n     * @param items Text items that needs to be removed.\n     * @returns void\n     */\n    ContextMenu.prototype.removeItems = function (items) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item after that the element to be inserted.\n     * @returns void\n     */\n    ContextMenu.prototype.insertAfter = function (items, text) {\n        this.insertItems(items, text);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item before that the element to be inserted.\n     * @returns void\n     */\n    ContextMenu.prototype.insertBefore = function (items, text) {\n        this.insertItems(items, text, false);\n    };\n    ContextMenu.prototype.insertItems = function (items, text, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], null, items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, 'iconCss');\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    ContextMenu.prototype.getZIndex = function () {\n        var index;\n        var position;\n        var props;\n        var zIndex = ['999'];\n        for (var i = 0, len = document.body.children.length; i < len; i++) {\n            props = document.defaultView.getComputedStyle(document.body.children[i]);\n            index = props.getPropertyValue('z-index');\n            position = props.getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                zIndex.push(index);\n            }\n        }\n        return (Math.max.apply(Math, zIndex) + 1).toString();\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ContextMenu.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            detach(wrapper);\n        }\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Property(false)\n    ], ContextMenu.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], ContextMenu.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"select\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(Component));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.prevIndex = 0;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.templateEle = [];\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(buildTag('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, buildTag('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = buildTag('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        this.btnCls = buildTag('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } }).outerHTML;\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(buildTag('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = buildTag('span', { className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' } }).outerHTML;\n                    var cont = buildTag('div', { className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls }).outerHTML;\n                    var wrap = buildTag('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(buildTag('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var inHTML = '';\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        items.forEach(function (item, i) {\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            var id = ((tbCount === 0) ? i : (_this.isReplace === true) ? (i + index) : tbCount + i);\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE : '';\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            var tEle = (txtEmpty) ? buildTag('div', {\n                className: CLS_TEXT, innerHTML: tHtml, attrs: { 'role': 'presentation' }\n            }).outerHTML : '';\n            var icon = buildTag('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            }).outerHTML;\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    inHTML = (pos === 'left' || pos === 'top') ? icon + '' + tEle : tEle + '' + icon;\n                }\n                else {\n                    inHTML = (css === '') ? tEle : icon;\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            var tCont = buildTag('div', { className: CLS_TEXT_WRAP, innerHTML: inHTML + '' + _this.btnCls }).outerHTML;\n            var wrap = buildTag('div', { className: CLS_WRAP, innerHTML: tCont, attrs: wrapAttrs });\n            var attrObj = {\n                id: CLS_ITEM + '_' + id, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap.outerHTML };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.e-content', this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt;\n        newCnt = this.findEle(this.cntEle.children, CLS_CONTENT + '_' + no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.findEle(this.cntEle.children, CLS_CONTENT + '_' + idNo);\n        }\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.prevActiveEle = newCnt.id;\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = buildTag('div');\n        var templateFn = compile(cnt);\n        if (!isNOU(templateFn) && templateFn().length > 0) {\n            [].slice.call(templateFn()).forEach(function (el) {\n                tempEle.appendChild(el);\n            });\n            ele.appendChild(tempEle);\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.getContent = function (ele, index, callType) {\n        var eleStr;\n        var cnt = this.items[Number(index)].content;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.innerHTML = cnt.outerHTML;\n        }\n        if (!isNOU(eleStr)) {\n            this.templateEle.push(cnt.toString());\n        }\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(buildTag('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, i, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    ele.innerHTML = '';\n                }\n                this.templateEle = [];\n                this.getContent(ele, 0, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.e-content', this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            var item = select('.' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + this.extIndex(id), this.element);\n            if (isNOU(item)) {\n                this.cntEle.appendChild(buildTag('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = select('.' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + this.extIndex(id), this.element);\n                this.getContent(eleTrg, Number(this.extIndex(id)), 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        this.trigger('selected', eventArg);\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right') {\n            this.select(this.selectedItem - 1);\n        }\n        else {\n            if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n                this.select(this.selectedItem + 1);\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { title: this.title }, this.locale).getConstant('title'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        this.trigger('adding', { addedItems: items });\n        if (isNOU(index)) {\n            index = selectAll('.' + CLS_TB_ITEM).length - 1;\n        }\n        if (this.isTemplate === true || selectAll('.' + CLS_TB_ITEM).length - 1 < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            if (_this.isReplace === true) {\n                var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, _this.element);\n                detach(hdrItem);\n                _this.items.splice((index + place), 0, item);\n            }\n            else {\n                _this.items.push(item);\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        this.trigger('added', { addedItems: items });\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removingArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removingArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.refreshActiveBorder();\n        var no = this.extIndex(trg.id);\n        var cntTrg = this.findEle(select('.e-content', this.element).children, CLS_CONTENT + '_' + no);\n        if (!isNOU(cntTrg)) {\n            cntTrg.outerHTML = '';\n        }\n        var removedArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removed', removedArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            if (item.classList.contains(CLS_ACTIVE)) {\n                this.select((index !== 0) ? index - 1 : index + 1);\n            }\n        }\n        else {\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            isSwiped: this.isSwipeed\n        };\n        this.trigger('selecting', eventArg);\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                this.isReplace = false;\n                            }\n                            if (property === 'content') {\n                                if (!isNOU(cntItem)) {\n                                    (cntItem.classList.contains('e-active') ? (cntItem.innerHTML = newVal) : cntItem.remove());\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        if (isNOU(this.tbObj)) {\n                            this.renderContainer();\n                            if (!isNOU(this.cntEle)) {\n                                this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n                            }\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, createElement, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            fields: this.fields.properties,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.listBaseOption.fields.url = this.fields.navigateUrl;\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.isAnimate = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                _this.treeList.pop();\n                _this.treeData = e.result;\n                _this.isNumberTypeId = _this.getType();\n                _this.setRootData();\n                _this.renderItems(true);\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = this.fields.dataSource;\n                this.setRootData();\n            }\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                cNodes[j].setAttribute('aria-expanded', 'false');\n                addClass([cNodes[j]], NODECOLLAPSED);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        for (var i = 0; i < eNodes.length; i++) {\n            this.renderChildNodes(eNodes[i]);\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            this.selectNode(sNodes[i], null, true);\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (e) {\n        var target = e.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, e);\n                        this.triggerClickEvent(e, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, e);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, e);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, e, false);\n                    }\n                }\n                this.triggerClickEvent(e, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, !isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        this.setHeight(liEle, ul);\n        if (!this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.expand.effect,\n                duration: this.animation.expand.duration,\n                timingFunction: this.animation.expand.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = liEle.offsetHeight;\n                    end = select('.' + TEXTWRAP, currLi).offsetHeight;\n                },\n                progress: function (args) {\n                    args.element.style.display = 'block';\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'block';\n                    _this.expandedNode(liEle, ul, icon);\n                }\n            });\n        }\n        else {\n            this.expandedNode(liEle, ul, icon);\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        currLi.setAttribute('aria-expanded', 'true');\n        removeClass([currLi], NODECOLLAPSED);\n        if (this.isLoaded && this.expandArgs) {\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        addClass([currLi], NODECOLLAPSED);\n        this.aniObj.animate(ul, {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n            begin: function (args) {\n                liEle.style.overflow = 'hidden';\n                start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                end = liEle.offsetHeight;\n            },\n            progress: function (args) {\n                proxy.animateHeight(args, start, end);\n            },\n            end: function (args) {\n                liEle.style.overflow = '';\n                args.element.style.display = 'none';\n                liEle.style.height = '';\n                removeClass([icon], PROCESS);\n                currLi.setAttribute('aria-expanded', 'false');\n                if (_this.isLoaded) {\n                    _this.trigger('nodeCollapsed', colArgs);\n                }\n            }\n        });\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            this.treeList.push('false');\n            mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                _this.treeList.pop();\n                childItems = e.result;\n                _this.currentLoadData = childItems;\n                if (isNOU(childItems) || childItems.length === 0) {\n                    detach(eicon);\n                    parentLi.removeAttribute('aria-expanded');\n                }\n                else {\n                    var prop = _this.getActualProperties(mapper_1);\n                    _this.listBaseOption.fields = prop;\n                    _this.listBaseOption.fields.url = prop.navigateUrl;\n                    var id = parentLi.getAttribute('data-uid');\n                    var nodeData = _this.getNodeObject(id);\n                    setValue('child', childItems, nodeData);\n                    _this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                    parentLi.appendChild(ListBase.createList(childItems, _this.listBaseOption));\n                    _this.expandNode(parentLi, eicon);\n                    _this.ensureCheckNode(parentLi);\n                    _this.finalizeNode(parentLi);\n                    _this.renderSubChild(parentLi, expandChild);\n                }\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ensureChildCheckState(element);\n            this.ensureParentCheckState(element);\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n            this.unselectNode(li, e);\n        }\n        else {\n            this.selectNode(li, e, multiSelect);\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode)) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    this.setFocus(focusedNode, parentLi);\n                    this.navigateToFocus(true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        this.setFocus(focusedNode, rootNode);\n        this.navigateToFocus(isBackwards);\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        return isNOU(fNode) ? select('.' + LISTITEM, this.element) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        addClass([nextNode], [HOVER, FOCUS]);\n        this.updateIdAttr(preNode, nextNode);\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            this.setHover(currentLi);\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        });\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        this.trigger('nodeEdited', this.getEditEvent(liEle, newText, null));\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM)) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target);\n                _this.trigger('nodeDragStart', eventArgs);\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                }\n                _this.dragStartAction = true;\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot || dropTarget.classList.contains(ROOT)) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget);\n                _this.trigger('nodeDragStop', eventArgs);\n                if (eventArgs.cancel) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        this.trigger('nodeDragging', this.getDragEvent(e.event, this, e.target, e.target));\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj = e.dragData.draggable.ej2_instances[0];\n        var dragTarget = dragObj.dragTarget;\n        var dragLi = (closest(dragTarget, '.' + LISTITEM));\n        var dropLi = (closest(dropTarget, '.' + LISTITEM));\n        detach(e.droppedElement);\n        document.body.style.cursor = '';\n        if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n            return;\n        }\n        if (dragObj.allowMultiSelection && (dragLi.classList.contains(ACTIVE) || (offsetY < 7 ||\n            (e.target.offsetHeight > 0 && offsetY > (e.target.offsetHeight - 10))))) {\n            var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n            for (var i = 0; i < sNodes.length; i++) {\n                if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                    continue;\n                }\n                this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n            }\n        }\n        else {\n            this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target));\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (dropTarget.nodeName === 'LI') {\n            this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            dropUl.insertBefore(dragLi, dropUl.childNodes[index]);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE)) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl)) {\n            ListBase.generateIcon(dropLi, COLLAPSIBLE, this.listBaseOption);\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL([], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            dropLi.setAttribute('aria-expanded', 'true');\n            removeClass([dropLi], NODECOLLAPSED);\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            dragParentLi.removeAttribute('aria-expanded');\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        return {\n            cancel: false,\n            event: event,\n            draggedNode: obj.dragLi,\n            draggedNodeData: obj.dragData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            target: target\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote) {\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(nodes, this.listBaseOption, level);\n        var dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.navigateUrl;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_1 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_1.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    proxy_2.clickHandler(e.originalEvent);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_3.expandHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        this.wireExpandOnEvent(true);\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        });\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll();\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    this.wireExpandOnEvent(true);\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    this.listBaseOption.fields.url = this.fields.navigateUrl;\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { Object[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        var dropLi = this.getElement(target);\n        nodes = this.getSortedData(nodes);\n        if (this.fields.dataSource instanceof DataManager) {\n            this.addGivenNodes(nodes, dropLi, index, true);\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n        }\n    };\n    /**\n     * Initiates the editing of the TreeView node\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele) && this.allowEditing) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures the node visibility and brings into view if the node is invisible by specifying the node's ID or node element.\n     * The TreeView will expand and scroll to the specific node to bring it to visibility.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, createElement, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable and collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ````\n * ````typescript\n * <script>\n *   let sidebarObject = new Sidebar({ });\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setContext();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        this.setMediaQuery();\n        this.setType(this.type);\n    };\n    Sidebar.prototype.setContext = function () {\n        if (this.contextTo) {\n            this.contextTo.insertAdjacentElement('afterbegin', this.element);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.contextTo], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n        }\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.contextTo && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        if (this.element.classList.contains(CLOSE)) {\n            return;\n        }\n        if (this.element.classList.contains(OPEN)) {\n            this.eventArguments = { name: 'change', element: this.element };\n            this.trigger('change', this.eventArguments);\n        }\n        addClass([this.element], CLOSE);\n        removeClass([this.element], OPEN);\n        this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n        this.setDock();\n        this.setType(this.type);\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (!this.enableDock && sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n        }\n        this.eventArguments = { name: 'change', element: this.element };\n        this.trigger('close', this.eventArguments);\n        this.destroyBackDrop();\n        if (this.closeOnDocumentClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n        this.setAnimation();\n        if (this.type === 'Slide') {\n            document.body.classList.remove('e-sidebar-overflow');\n        }\n    };\n    /**\n     * Shows the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        removeClass([this.element], VISIBILITY);\n        if (this.element.classList.contains(OPEN)) {\n            return;\n        }\n        if (this.element.classList.contains(CLOSE)) {\n            this.eventArguments = { name: 'open', element: this.element };\n            this.trigger('change', this.eventArguments);\n        }\n        addClass([this.element], [OPEN, TRASITION]);\n        setStyle(this.element, { 'transform': '' });\n        removeClass([this.element], CLOSE);\n        setStyle(this.element, { 'width': formatUnit(this.width) });\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setType(this.type);\n        this.createBackDrop();\n        this.eventArguments.name = 'open';\n        this.eventArguments.element = this.element;\n        this.trigger('open', this.eventArguments);\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        this.setAnimation();\n        if (this.type === 'Slide') {\n            document.body.classList.add('e-sidebar-overflow');\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.isOpen()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + formatUnit(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.isOpen()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + formatUnit(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.contextTo && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.isOpen()) {\n            this.modal = createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    /**\n     * Specifies the current state of the Sidebar component.\n     * @returns boolean\n     */\n    Sidebar.prototype.isOpen = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.isOpen()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (e.target.closest('.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setWidth();\n                    if (!this.isOpen()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'contextTo':\n                    if (isNullOrUndefined(this.contextTo)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.contextTo], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    if (this.closeOnDocumentClick) {\n                        EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n                    }\n                    break;\n                case 'enableDock':\n                    if (!this.isOpen()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.isOpen()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and removes all its related events\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        if (this.contextTo) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.contextTo], CONTEXT);\n        }\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"contextTo\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_RTL","CLS_DISABLE","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","HScroll","_super","options","element","call","preRender","browser","Browser","info","name","browserCheck","isDevice","ieCheck","initialize","id","getUniqueID","uniqueId","style","display","enableRtl","classList","add","render","touchModule","Touch","scroll","touchHandler","bind","createNavIcon","EventHandler","scrollEle","scrollHandler","buildTag","className","scrollDiv","setAttribute","ele","_i","innerEle_1","slice","children","ele_1","appendChild","overflowX","scrollItems","getPersistData","addOnPersist","getModuleName","destroy","remove","nav","selectAll","_a","elem","removeAttribute","detach","concat","clsRight","navItem","clsLeft","navEle","navLeftItem","insertBefore","firstChild","eventBinding","onKeyPress","e","_this","keyTimer","window","setTimeout","keyTimeout","eleScrolling","onKeyUp","click","clearTimeout","forEach","el","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","setInterval","scrollDis","rootEle","querySelector","scrlLeft","scrollLeft","scrollStep","distance","distanceX","scrollDirection","arrowDisabling","addDisable","removeDisable","width","offsetWidth","navLeftEle","navRightEle","Math","ceil","scrollWidth","disEle","onPropertyChanged","newProp","oldProp","keys","Property","NotifyPropertyChanges","Component","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","Item","apply","ChildProperty","Toolbar","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","trigger","scrollModule","tbarItemsCol","items","popupPriCount","wireEvents","clickHandler","resize","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","tagName","keyCode","isVisible","hide","duration","destroyHScroll","document","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","destroyItems","querySelectorAll","tbarItems","destroyMode","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","action","eleFocus","nodes","popupCheck","value","popFrstEle","lastElementChild","activeEle","activeEleRemove","top","offsetHeight","show","tbarScrollChk","pos","sib","skipEle","parentElement","isNOU","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","indexOf","eventArgs","item","cancel","position","X","Y","offsetX","dataBind","renderControl","formatUnit","height","setStyle","attributes","role","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","overflow","itemWidthCal","parseFloat","getComputedStyle","marginRight","innerItem","itemWidth","eleWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","overflowMode","getElementsByClassName","removePositioning","createPopupEle","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","nodeIndex","nodePri","index","tbResize","push","childNodes","tbarElement","eleItem","popupInit","popupEle","maxHeight","popup","Popup","relateTo","offsetY","open","close","appendTo","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollVal","scrollY","innerHeight","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","marginLeft","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","offsetLeft","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","popupEleWidth","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","align","toLowerCase","sepBeforePri_1","refreshPositioning","margin","tbarWid","popWid","left","right","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","itemEleDom","innerPos","renderSubComponent","setAttr","attr","keyVal","enableItems","isEnable","elements","len","enable","removeClass","addClass","addItems","itemsDiv","itemAgn","items_1","type","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","templateCompiler","template","tempArray","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","prefixIcon","suffixIcon","Button","iconPosition","htmlAttributes","tooltipText","cssClass","itemClick","showTextOn","sTxt","currentTarget","curEle","itemsRerender","tEle","changedProb","property","newProperty","refresh","itemCol","hideItem","Collection","Event","CLS_ACRDN_ROOT","CLS_ROOT","CLS_HEADER","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_EXPANDICN","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_TOGANIMATE","CLS_EXPANDSTATE","AccordionActionSettings","AccordionAnimationSettings","Complex","effect","easing","AccordionItem","undefined","Accordion","enter","space","isDestroy","templateEle","eleStr","body","nested","isNested","enablePersistence","expandedItems","initExpand","aria-multiselectable","expandMode","select","initItemExpand","rippleEffect","selector","eventName","focusIn","focusOut","content","innerEles","header","tabindex","aria-level","headerEle","toggleIconGenerate","aria-labelledby","aria-hidden","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","nextElementSibling","headerEleGenerate","ariaAttr","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","isHeader","temString","eleVal","itemcnt","ctn","trgtItemEle","animation","timingFunction","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","animate","begin","progress","minHeight","Animation","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","isHidden","enableItem","eleHeader","isExpand","itemExpand","acrdn","DOWNARROW","FOCUSED","HEADER","RIGHTARROW","SELECTED","SEPARATOR","WRAPPER","DISABLED","HIDE","MenuItem","ContextMenu","navIdx","isTapHold","ejInst","getValue","ul","createElement","ngElement","setValue","initWrapper","wrapper","getWrapper","zIndex","getZIndex","ListBase","createJsonFromElement","createItems","append","targetElems","isIos","cmenuHandler","targetElement","getScrollableParent","parent_1","moverHandler","mouseDownHandler","keyBoardHandler","downarrow","uparrow","leftarrow","rightarrow","escape","closeMenu","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","getItem","openMenu","sli","canOpen","changedTouches","clientY","clientX","ulIndex","isMenuVisible","closeArgs","beforeCloseArgs","cnt","parentItem","event","toggleAnimation","valueOf","filter","split","li","lastChild","data","ICONS","hdata","hli","getIndex","textContent","pop","setPosition","toggleVisiblity","collide","isCollide","offset","fit","Number","replace","x","xCollision","visibility","showIcon","hasField","listBaseOptions","moduleName","itemCreating","curData","itemCreated","separator","span","createList","toRawObject","menuItems","properties","getLI","showItemOnClick","field","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","idx","classname","getItems","skipHdr","toggle","unWireEvents","getChangedItemIndex","insertAfter","uls","getInstance","parent_2","keyboardModule","isMenuOpen","animationSettings","getBoundingClientRect","isCallBack","unshift","disabled","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","props","defaultView","getPropertyValue","max","CLS_HIDDEN","CLS_ICON_CLOSE","CLS_WRAP","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","CLS_PROGRESS","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","prevIndex","animateOptions","animObj","title","delete","tbObj","expTemplateContent","isTemplate","cntEle","isPopup","initRender","isSwipeed","css","setCssClass","aria-activedescendant","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","btnCls","CLS_ICONS","attrs","hdrItems","aria-controls","txt","cont","wrap","tabIndex","parseObject","clicked","setCloseButton","showCloseButton","setProperties","hdrItem","contents","inHTML","tbCount","tItems","isReplace","tHtml","txtEmpty","wrapAttrs","tCont","tItem","removeActiveClass","hdrActEle","no","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","prev","current","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compile","getContent","callType","place","list","heightAdjustMode","getHeight","cs","hsCnt","bar","tbWidth","setActive","isNaN","trg_1","enableAnimation","eleTrg","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","refreshActiveBorder","hoverHandler","spaceKeyDown","swipe","swipeHandler","keyHandler","tabKeyModule","openPopup","shiftTab","removeEventListener","removeTab","velocity","swipeDirection","which","clstHead","actEle","ej2_instances","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","L10n","locale","getConstant","enableTab","addTab","addedItems","removingArgs","removedItem","removedIndex","cntTrg","removedArgs","hideTab","disable","changedProp","oldVal","newVal","cntItem","arr","tempHdrEle","ROOT","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","TREEINPUT","DRAGGING","SIBLING","DROPNEXT","FULLROW","EXPANDED","NODECOLLAPSED","CHECK","CHECKBOXWRAP","CHECKBOXFRAME","FOCUS","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","mouseDownStatus","checkActionNodes","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","fields","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","url","navigateUrl","aniObj","treeList","isLoaded","setTouchClass","selectedNodes","checkedNodes","setDataBinding","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","rippleFn","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","dataSource","DataManager","executeQuery","getQuery","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","rootData","mapper","query","columns","clone","Query","prop","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","level","ulElement","getSortedData","finalizeNode","showCheckBox","checkboxEle","createCheckBox","touchClass","checkValue","isChecked","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","node","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","child","hasChildren","groupBy","cusQuery","group","getDataSource","grpItem","j","iNodes","k","sNodes","selectNode","cNodes","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","checkBox","ensureParentCheckState","checkBoxEle","changeState","parentUL","currentParent","ensureChildCheckState","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","validateCheckNode","state","isPrevent","isAdd","ariaState","currLi","getCheckEvent","frameSpan","removeCheck","isUndefined","checked","getNodeData","isInteracted","firstNode","updateIdAttr","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","expandAction","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","hideSpinner","start","proxy","setHeight","expandedNode","animateHeight","expandArgs","colArgs","getExpandEvent","currentHeight","timeStamp","parentLi","expandChild","eicon","showSpinner","childItems","parents","mapper_1","getChildFields","getNodeObject","ensureCheckNode","renderSubChild","getFields","nodeLevel","dataLevel","getChildMapper","obj","parentId","isRoot","getChildGroup","objlen","dataId","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","temp","currNode","addSelect","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeName","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","parent","getScrollParent","parentPos","bottom","scrollTop","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","clientHeight","innerWidth","clientWidth","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","inputObj","Input","createInput","container","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","newData","getChildNodeObject","newList","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragObj","Draggable","enableTailMode","dragTarget","helper","sender","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","cursor","dragData","dragStart","getDragEvent","drag","cursorAt","targetTouches","dragAction","dragStop","removeVirtualEle","dropTarget","dropRoot","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","draggable","droppedElement","appendNode","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dropData","draggedNode","draggedNodeData","droppedNode","droppedNodeData","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","updateSelectedNodes","doGivenAction","toExpand","addGivenNodes","isRemote","updateMapper","createListItemFromJson","refNode","doDisableAction","doEnableAction","proxy_1","touchEditObj","tap","tapCount","wireClickEvent","proxy_2","touchClickObj","wireExpandOnEvent","proxy_3","touchExpandObj","matched","matches","createSpinner","setCheckedNodes","JSON","parse","stringify","uncheckAll","checkAll","addNodes","beginEdit","collapseAll","disableNodes","enableNodes","ensureVisible","expandAll","getNode","moveNodes","sourceNodes","removeNodes","updateNode","CLOSE","OPEN","TRASITION","RIGHT","OVER","PUSH","VISIBILITY","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setContext","setZindex","enableDock","setDock","setMediaQuery","setType","contextTo","insertAdjacentElement","dockSize","z-index","classELement","isNullOrUndefined","destroyBackDrop","sibling","showBackdrop","modal","eventArguments","transform","closeOnDocumentClick","documentclickHandler","setAnimation","createBackDrop","isOpen","mediaQuery","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","elementWidth"],"mappings":"+lBAAA,IAAIA,EAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAK5DM,EAAU,QACVC,EAAc,YAGdC,EAAe,cACfC,EAAoB,oBACpBC,EAAmB,mBACnBC,EAAiB,eACjBC,EAAsB,qBACtBC,EAAqB,oBAcrBC,EAAyB,SAAUC,GAOnC,SAASD,EAAQE,EAASC,GACtB,OAAOF,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KA0RlD,OAjSAX,EAAUqC,EAASC,GAanBD,EAAQxB,UAAU6B,UAAY,WAC1B/B,KAAKgC,QAAUC,UAAQC,KAAKC,KAC5BnC,KAAKoC,aAAgC,YAAjBpC,KAAKgC,QACzBhC,KAAKqC,SAAWJ,UAAQI,SACxB,IAAIR,EAAU7B,KAAK6B,QACnB7B,KAAKsC,QAA2B,SAAjBtC,KAAKgC,SAAuC,SAAjBhC,KAAKgC,QAC/ChC,KAAKuC,aACc,KAAfV,EAAQW,KACRX,EAAQW,GAAKC,cAAY,WACzBzC,KAAK0C,UAAW,GAEpBb,EAAQc,MAAMC,QAAU,QACpB5C,KAAK6C,WACLhB,EAAQiB,UAAUC,IAAI7B,IAO9BQ,EAAQxB,UAAU8C,OAAS,WACvBhD,KAAKiD,YAAc,IAAIC,QAAMlD,KAAK6B,SAAWsB,OAAQnD,KAAKoD,aAAaC,KAAKrD,QACvEA,KAAKqC,SAKNrC,KAAK6B,QAAQiB,UAAUC,IAtDlB,oBAkDL/C,KAAKsD,cAActD,KAAK6B,SACxB0B,eAAaR,IAAI/C,KAAKwD,UAAW,SAAUxD,KAAKyD,cAAezD,QAMvE0B,EAAQxB,UAAUqC,WAAa,WAC3B,IAAIiB,EAAYE,gBAAS,OAASC,UAjErB,sBAkETC,EAAYF,gBAAS,OAASC,UAnErB,kBAoEbC,EAAUC,aAAa,WAAY,MAGnC,IAAK,IAFDC,EAAM9D,KAAK6B,QAENkC,EAAK,EAAGC,KADCC,MAAMnC,KAAKgC,EAAII,UACOH,EAAKC,EAAWrD,OAAQoD,IAAM,CAClE,IAAII,EAAQH,EAAWD,GACvBP,EAAUY,YAAYD,GAE1BP,EAAUQ,YAAYZ,GACtBM,EAAIM,YAAYR,GAChBA,EAAUjB,MAAM0B,UAAY,SAC5BrE,KAAKwD,UAAYI,EACjB5D,KAAKsE,YAAcd,GAEvB9B,EAAQxB,UAAUqE,eAAiB,WAE/B,OAAOvE,KAAKwE,cADK,gBAQrB9C,EAAQxB,UAAUuE,cAAgB,WAC9B,MAAO,WAMX/C,EAAQxB,UAAUwE,QAAU,WACxB,IAAIZ,EAAM9D,KAAK6B,QACfiC,EAAInB,MAAMC,QAAU,GACpBkB,EAAIhB,UAAU6B,OAvGP,aAyGP,IAAK,IADDC,EAAMC,YAAU,IAAMf,EAAItB,GAAK,UAAYsB,EAAItB,GAAK,QAC/CuB,EAAK,EAAGe,KAAQb,MAAMnC,KAAK9B,KAAKsE,YAAYJ,UAAWH,EAAKe,EAAGnE,OAAQoD,IAAM,CAClF,IAAIgB,EAAOD,EAAGf,GACdD,EAAIM,YAAYW,GAEhB/E,KAAK0C,UACL1C,KAAK6B,QAAQmD,gBAAgB,MAEjCC,SAAOjF,KAAKwD,WACRoB,EAAIjE,OAAS,IACbsE,SAAOL,EAAI,IACXK,SAAOL,EAAI,KAEfrB,eAAaoB,OAAO3E,KAAKwD,UAAW,SAAUxD,KAAKyD,eACnDzD,KAAKiD,YAAYyB,UACjB1E,KAAKiD,YAAc,KACnBtB,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,OAElC0B,EAAQxB,UAAUoD,cAAgB,SAAUzB,GACxC,IAAIW,EAAKX,EAAQW,GAAG0C,OAAO,QACvBC,EAAW,KAAOtD,EAAQW,GAAG0C,OAAO,QAAU3D,EAAiB,IAAMC,GACrEoD,EAAMlB,gBAAS,OAASlB,GAAIA,EAAImB,UAAWwB,IAC/CP,EAAIf,aAAa,gBAAiB,SAClC,IAAIuB,EAAU1B,gBAAS,OAASC,UAAWtC,EAAoB,IAAMD,EAAe,aAChFiE,EAAU,KAAOxD,EAAQW,GAAG0C,OAAO,QAAU3D,EAAiB,IAAME,GACpE6D,EAAS5B,gBAAS,OAASlB,GAAIA,EAAImB,UAAW0B,EAAU,IAAMlE,IAClEmE,EAAOzB,aAAa,gBAAiB,QACrC,IAAI0B,EAAc7B,gBAAS,OAASC,UAAWrC,EAAmB,IAAMF,EAAe,aACvFkE,EAAOlB,YAAYmB,GACnBX,EAAIR,YAAYgB,GAChBR,EAAIf,aAAa,WAAY,KAC7BhC,EAAQuC,YAAYQ,GACpB/C,EAAQ2D,aAAaF,EAAQzD,EAAQ4D,YACjCzF,KAAKsC,UACLsC,EAAI9B,UAAUC,IAAI,cAClBuC,EAAOxC,UAAUC,IAAI,eAEzB/C,KAAK0F,cAAcd,EAAKU,KAE5B5D,EAAQxB,UAAUyF,WAAa,SAAUC,GACrC,IAAIC,EAAQ7F,KACZ,GAAc,UAAV4F,EAAErF,IAAiB,CAKnBP,KAAK8F,SAAWC,OAAOC,WAAW,WAH9BH,EAAMI,YAAa,EACnBJ,EAAMK,aAAa,GAAIN,EAAEtF,SAI1B,OAGXoB,EAAQxB,UAAUiG,QAAU,SAAUP,GACpB,UAAVA,EAAErF,MAGFP,KAAKiG,WACLjG,KAAKiG,YAAa,EAGlBL,EAAEtF,OAAO8F,QAEbC,aAAarG,KAAK8F,YAEtBpE,EAAQxB,UAAUwF,aAAe,SAAU5B,GACvC,IAAI+B,EAAQ7F,KACZ8D,EAAIwC,QAAQ,SAAUC,GAClB,IAAIrD,QAAMqD,GAAMC,QAASX,EAAMY,eAAepD,KAAKwC,GAAQa,iBAAkB,MAC7EH,EAAGI,iBAAiB,UAAWd,EAAMF,WAAWtC,KAAKwC,IACrDU,EAAGI,iBAAiB,QAASd,EAAMM,QAAQ9C,KAAKwC,IAChDU,EAAGI,iBAAiB,UAAWd,EAAMe,aAAavD,KAAKwC,IACvDU,EAAGI,iBAAiB,WAAYd,EAAMe,aAAavD,KAAKwC,IACxDU,EAAGI,iBAAiB,cAAe,SAAUf,GACzCA,EAAEiB,mBAENtD,eAAaR,IAAIwD,EAAI,QAASV,EAAMiB,kBAAmBjB,MAG/DnE,EAAQxB,UAAU0G,aAAe,WAC7BG,cAAc/G,KAAKgH,UAEvBtF,EAAQxB,UAAUuG,eAAiB,SAAUb,GACzC,IAAIC,EAAQ7F,KACRiH,EAAOrB,EAAEsB,cAAc5G,OAC3B2G,EAAOjH,KAAKmH,SAASF,EAAM1F,GAAkB0F,EAAKG,kBAAoBH,EAKtEjH,KAAKgH,QAAUjB,OAAOsB,YAAY,WAF9BxB,EAAMK,aAFM,GAEkBe,IAI/B,KAEPvF,EAAQxB,UAAUiH,SAAW,SAAUrD,EAAKH,GACxC,OAAOG,EAAIhB,UAAUqE,SAASxD,IAElCjC,EAAQxB,UAAUgG,aAAe,SAAUoB,EAAWL,GAClD,IAAIpF,EAAU7B,KAAKwD,UACf+D,EAAUvH,KAAK6B,QACfiB,EAAYmE,EAAKnE,UACjBA,EAAUqE,SAAS5F,KACnBuB,EAAYmE,EAAKO,cAAc,IAAMpG,GAAc0B,WAEnD9C,KAAKmH,SAASI,EAASrG,IAAYlB,KAAKoC,eACxCkF,GAAaA,GAEjB,IAAIG,EAAW5F,EAAQ6F,YACjB1H,KAAKmH,SAASI,EAASrG,IAAYlB,KAAKoC,cAAiBpC,KAAKsC,QAC5DQ,EAAUqE,SAAS9F,GACnBQ,EAAQ6F,WAAaD,EAAWH,EAGhCzF,EAAQ6F,WAAaD,EAAWH,EAIhCxE,EAAUqE,SAAS7F,GACnBO,EAAQ6F,WAAaD,EAAWH,EAGhCzF,EAAQ6F,WAAaD,EAAWH,GAI5C5F,EAAQxB,UAAU4G,kBAAoB,SAAUlB,GAC5C5F,KAAKkG,aAAalG,KAAK2H,WAAY/B,EAAEtF,SAEzCoB,EAAQxB,UAAUkD,aAAe,SAAUwC,GACvC,IACIgC,EADA9D,EAAM9D,KAAKwD,UAEfoE,EAAWhC,EAAEiC,UACR7H,KAAY,SAAKA,KAAKmH,SAASnH,KAAK6B,QAASX,KAC9C0G,GAAYA,GAEU,SAAtBhC,EAAEkC,gBACFhE,EAAI4D,WAAa5D,EAAI4D,WAAaE,EAEP,UAAtBhC,EAAEkC,kBACPhE,EAAI4D,WAAa5D,EAAI4D,WAAaE,IAG1ClG,EAAQxB,UAAU6H,eAAiB,SAAUC,EAAYC,GACrDD,EAAWlF,UAAUC,IAAI5B,GACzB6G,EAAWnE,aAAa,gBAAiB,QACzCmE,EAAWhD,gBAAgB,YAC3B+B,cAAc/G,KAAKgH,SACnBiB,EAAcnF,UAAU6B,OAAOxD,GAC/B8G,EAAcpE,aAAa,gBAAiB,SAC5CoE,EAAcpE,aAAa,WAAY,KACvC7D,KAAK4G,gBAETlF,EAAQxB,UAAUuD,cAAgB,SAAUmC,GACxC,IAAItF,EAASsF,EAAEtF,OACX4H,EAAQ5H,EAAO6H,YACfZ,EAAUvH,KAAK6B,QACfuG,EAAapI,KAAK6B,QAAQ2F,cAAc,IAAM/F,GAC9C4G,EAAcrI,KAAK6B,QAAQ2F,cAAc,IAAMhG,GAC/CkG,EAAapH,EAAOoH,WAIxB,GAHIA,GAAc,IACdA,GAAcA,GAEC,IAAfA,GACM1H,KAAKmH,SAASI,EAASrG,IAAYlB,KAAKoC,cAAiBpC,KAAKsC,QAChEtC,KAAK+H,eAAeK,EAAYC,GAGhCrI,KAAK+H,eAAeM,EAAaD,QAGpC,GAAIE,KAAKC,KAAKL,EAAQR,EAAa,KAAOpH,EAAOkI,aAC5CxI,KAAKmH,SAASI,EAASrG,IAAYlB,KAAKoC,cAAiBpC,KAAKsC,QAChEtC,KAAK+H,eAAeM,EAAaD,GAGjCpI,KAAK+H,eAAeK,EAAYC,OAGnC,CACD,IAAII,EAASzI,KAAK6B,QAAQ2F,cAAc,IAAMjG,EAAiB,IAAMJ,GACjEsH,IACAA,EAAO3F,UAAU6B,OAAOxD,GACxBsH,EAAO5E,aAAa,gBAAiB,SACrC4E,EAAO5E,aAAa,WAAY,QAW5CnC,EAAQxB,UAAUwI,kBAAoB,SAAUC,EAASC,GACrD,IAAK,IAAI7E,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,aACD,MACJ,IAAK,YACD4E,EAAQ9F,UAAY7C,KAAK6B,QAAQiB,UAAUC,IAAI7B,GAAWlB,KAAK6B,QAAQiB,UAAU6B,OAAOzD,MAKxGd,GACI0I,WAAS,KACVpH,EAAQxB,UAAW,kBAAc,GACpCwB,EAAUtB,GACN2I,yBACDrH,IAELsH,aC7UE3J,EAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAW5DqI,EAAY,kBACZC,EAAW,iBACXhI,EAAU,QACViI,EAAgB,cAChBC,EAAgB,kBAChBC,EAAgB,oBAEhBlI,EAAc,YACdmI,EAAgB,iBAChBC,EAAe,eACfC,EAAmB,kBACnBC,EAAkB,kBAElBC,EAAc,YAIdC,EAAiB,mBACjBC,EAAc,aAGdC,EAAiB,gBACjBC,EAAY,kBAEZC,EAAiB,eACjBC,EAAiB,WACjBC,EAAa,gBAKbC,EAAsB,SAAUvI,GAEhC,SAASuI,IACL,OAAkB,OAAXvI,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KA4C/D,OA9CAX,EAAU6K,EAAMvI,GAIhBvB,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,UAAM,GACzBE,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,YAAQ,GAC3BE,GACI0I,WAAS,SACVoB,EAAKhK,UAAW,aAAS,GAC5BE,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,gBAAY,GAC/BE,GACI0I,YAAS,IACVoB,EAAKhK,UAAW,yBAAqB,GACxCE,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,kBAAc,GACjCE,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,kBAAc,GACjCE,GACI0I,WAAS,SACVoB,EAAKhK,UAAW,gBAAY,GAC/BE,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,gBAAY,GAC/BE,GACI0I,WAAS,WACVoB,EAAKhK,UAAW,YAAQ,GAC3BE,GACI0I,WAAS,SACVoB,EAAKhK,UAAW,kBAAc,GACjCE,GACI0I,WAAS,OACVoB,EAAKhK,UAAW,sBAAkB,GACrCE,GACI0I,WAAS,KACVoB,EAAKhK,UAAW,mBAAe,GAClCE,GACI0I,WAAS,SACVoB,EAAKhK,UAAW,aAAS,GACrBgK,GACTE,iBAYEC,EAAyB,SAAU1I,GAOnC,SAAS0I,EAAQzI,EAASC,GACtB,IAAIgE,EAAQlE,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAenD,OAXA6F,EAAMyE,YACFC,SAAU,YACVC,UAAW,aACXC,OAAQ,UACRC,SAAU,YACVC,UAAW,QACXC,WAAY,SACZC,IAAK,MACLC,KAAM,OACNC,IAAK,OAEFlF,EAs7CX,OA58CAxG,EAAUgL,EAAS1I,GA4BnB0I,EAAQnK,UAAUwE,QAAU,WACxB,IAAImB,EAAQ7F,KACR8D,EAAM9D,KAAK6B,QAGf,IAFAF,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,MAC9BA,KAAKgL,eACElH,EAAI2B,YACP3B,EAAImH,YAAYnH,EAAI2B,YAEpBzF,KAAKkL,SACLpH,EAAIM,YAAYpE,KAAKmL,SAEzBnL,KAAKoL,gBACLpL,KAAKqL,OAAS,KACdrL,KAAKsL,UAAY,KACjBtL,KAAK2E,OAAO3E,KAAK6B,QAAS,aAC1BiC,EAAIkB,gBAAgB,UACnB,gBAAiB,mBAAoB,gBAAiB,QAAQsB,QAAQ,SAAUiF,GAC7E1F,EAAMhE,QAAQmD,gBAAgBuG,MAOtClB,EAAQnK,UAAU6B,UAAY,WAC1B/B,KAAKwL,QAAQ,gBACbxL,KAAKyL,aAAe,KACpBzL,KAAKqL,OAAS,KACdrL,KAAK0L,aAAe1L,KAAK2L,MACzB3L,KAAK4L,cAAgB,EACjB5L,KAAK6C,WACL7C,KAAK+C,IAAI/C,KAAK6B,QAASX,IAG/BmJ,EAAQnK,UAAU2L,WAAa,WAC3BtI,eAAaR,IAAI/C,KAAK6B,QAAS,QAAS7B,KAAK8L,aAAc9L,MAC3D+F,OAAOY,iBAAiB,SAAU3G,KAAK+L,OAAO1I,KAAKrD,OACnDA,KAAKgM,UAAY,IAAIC,iBAAejM,KAAK6B,SACrCqK,UAAWlM,KAAKmM,iBAAiB9I,KAAKrD,MACtCsK,WAAYtK,KAAKsK,aAErB/G,eAAaR,IAAI/C,KAAK6B,QAAS,UAAW7B,KAAKoM,WAAYpM,MAC3DA,KAAK6B,QAAQgC,aAAa,WAAY,MAE1CwG,EAAQnK,UAAUkM,WAAa,SAAUxG,GACrC,GAAyB,UAArBA,EAAEtF,OAAO+L,QAAb,CAGkB,IAAdzG,EAAE0G,UAA8D,IAA7C1G,EAAEtF,OAAOwC,UAAUqE,SAAS,cAAyBoF,YAAUvM,KAAKqL,OAAOxJ,UAC9F7B,KAAKqL,OAAOmB,MAAOrK,KAAM,UAAWsK,SAAU,OAEpB,KAAd7G,EAAE0G,SAAgC,KAAd1G,EAAE0G,SAAgC,KAAd1G,EAAE0G,SAAgC,KAAd1G,EAAE0G,UAE1E1G,EAAEiB,mBAGVwD,EAAQnK,UAAU8K,aAAe,WAC7BzH,eAAaoB,OAAO3E,KAAK6B,QAAS,QAAS7B,KAAK8L,cAChD9L,KAAK0M,iBACL1M,KAAKgM,UAAUtH,UACfnB,eAAaoB,OAAOgI,SAAU,SAAU3M,KAAK4M,UAC7CrJ,eAAaoB,OAAO3E,KAAK6B,QAAS,UAAW7B,KAAKoM,YAClD7I,eAAaoB,OAAOgI,SAAU,QAAS3M,KAAK4M,WAEhDvC,EAAQnK,UAAUkL,cAAgB,WAC9BpL,KAAK6M,WACL7M,KAAK8M,YAAeC,SAAWC,WAAaC,YAEhD5C,EAAQnK,UAAU0M,SAAW,SAAUhH,GACnC,IAAIsH,EAASC,UAAQvH,EAAEtF,OAAQ,YAC3BN,KAAKqL,QAAUkB,YAAUvM,KAAKqL,OAAOxJ,WAAaqL,GAClDlN,KAAKqL,OAAOmB,MAAOrK,KAAM,UAAWsK,SAAU,OAGtDpC,EAAQnK,UAAUwM,eAAiB,WAC3B1M,KAAKyL,eACDzL,KAAKsL,WACLtL,KAAK+C,IAAI/C,KAAKyL,aAAa5J,QAAS+H,GAExC5J,KAAKyL,aAAa/G,UAClB1E,KAAKyL,aAAe,OAG5BpB,EAAQnK,UAAUkN,aAAe,cAC1BnJ,MAAMnC,KAAK9B,KAAK6B,QAAQwL,iBAAiB,IAAMnE,IAAW5C,QAAQ,SAAUC,GAC3EtB,SAAOsB,KAEX,IAAI+G,EAAYtN,KAAK6B,QAAQ2F,cAAc,IAAMyB,GAC7CjJ,KAAKsL,eACFrH,MAAMnC,KAAKwL,EAAUpJ,UAAUoC,QAAQ,SAAUC,GAChDtB,SAAOsB,KAEXvG,KAAKsL,WAAY,EACjBtL,KAAK2E,OAAO2I,EAAW1D,IAE3B5J,KAAKoL,iBAETf,EAAQnK,UAAUqN,YAAc,WACxBvN,KAAKyL,eACLzL,KAAK2E,OAAO3E,KAAKyL,aAAa5J,QAASX,GACvClB,KAAK0M,kBAEL1M,KAAKqL,QACLrL,KAAKwN,aAAaxN,KAAKqL,OAAOxJ,SAAS,IAG/CwI,EAAQnK,UAAU6C,IAAM,SAAUe,EAAK2J,GACnC3J,EAAIhB,UAAUC,IAAI0K,IAEtBpD,EAAQnK,UAAUyE,OAAS,SAAUb,EAAK2J,GACtC3J,EAAIhB,UAAU6B,OAAO8I,IAEzBpD,EAAQnK,UAAUwN,aAAe,SAAU5J,GACvC,IAAI6J,EAAS7J,EAAIsD,kBACbuG,GACAA,EAAOC,QACP5N,KAAK6N,gBAAgB/J,IAGrBA,EAAI8J,SAGZvD,EAAQnK,UAAU4N,YAAc,SAAUC,EAAW9G,GAWjD,OATI8G,GAAa/N,KAAKqL,QAAUkB,YAAUvM,KAAKqL,OAAOxJ,SAC3C7B,KAAKqL,OAAOxJ,QAAQ2F,cAAc,IAAM0B,GAE1ClJ,KAAK6B,UAAYoF,GAAQ8G,EACvB/N,KAAK6B,QAAQ2F,cAAc,IAAM0B,GAGjCiE,UAAQlG,EAAM,IAAMiC,IAInCmB,EAAQnK,UAAU8N,YAAc,SAAUC,EAAMrI,EAAGqB,EAAMiH,EAAQC,GAC7D,IAAI9C,EAASrL,KAAKqL,OACd9D,EAAUvH,KAAK6B,QACfuM,GAAejM,KAAM,UAAWsK,SAAU,KAC9C,OAAQ7G,EAAEyI,QACN,IAAK,YACG9G,IAAYN,EACZjH,KAAK0N,aAAaO,GAEZC,GACNlO,KAAKsO,SAASL,EAAM,QAExB,MACJ,IAAK,WACIC,GACDlO,KAAKsO,SAASL,EAAM,YAExB,MACJ,IAAK,OACL,IAAK,MACD,IAAInK,OAAM,EACNyK,OAAQ,EACZ,GAAIN,EAAM,CACN,IAAIO,EAAarB,UAAQc,EAAM,YAC3BO,EACIjC,YAAUvM,KAAKqL,OAAOxJ,WACtB0M,EAAQC,EAAWtK,SAEfJ,EADa,SAAb8B,EAAEyI,OACIE,EAAM,GAGNA,EAAMA,EAAM5N,OAAS,KAKnC4N,EAAQvO,KAAK6B,QAAQwL,iBAAiB,IAAMpE,EAAY,KAAOC,GAE3DpF,EADa,SAAb8B,EAAEyI,OACIE,EAAM,GAGNA,EAAMA,EAAM5N,OAAS,IAG/BmD,GACA9D,KAAK0N,aAAa5J,GAG1B,MACJ,IAAK,SACL,IAAK,WACD,IAAI2K,EAAqB,WAAb7I,EAAEyI,OAAsB,WAAa,OACjD,GAAIhD,GAAU8B,UAAQlG,EAAM,YAAa,CACrC,IAAIiG,EAAS7B,EAAOxJ,QAChB6M,EAAaxB,EAAO9F,kBACxB,GAAe,aAAVqH,GAAwBC,IAAeT,GAAoB,SAAVQ,GAAoBvB,EAAOyB,mBAAqBV,EAClG,OAGAjO,KAAKsO,SAASL,EAAMQ,OAGN,aAAb7I,EAAEyI,QAAyBhD,GAAUkB,YAAUlB,EAAOxJ,UAC3D7B,KAAK0N,aAAaO,GAEtB,MACJ,IAAK,MACD,IAAKE,IAAcD,EAAQ,CACvB,IAAI/J,EAAQ8J,EAAK7G,kBACbG,IAAYN,IACRjH,KAAK4O,UACL5O,KAAK4O,UAAUhB,SAGf5N,KAAK6O,gBAAgB1K,GACrBA,EAAMyJ,SAEV5N,KAAK6B,QAAQmD,gBAAgB,aAGrC,MACJ,IAAK,aACGqG,GACAA,EAAOmB,KAAK4B,GAEhB,MACJ,IAAK,YACD,IAAKF,EACD,OAEA7C,IAAWkB,YAAUlB,EAAOxJ,UAC5BwJ,EAAOxJ,QAAQc,MAAMmM,IAAMvH,EAAQwH,aAAe,KAClD1D,EAAO2D,MAAO7M,KAAM,YAAasK,SAAU,OAG3CpB,EAAOmB,KAAK4B,KAK5B/D,EAAQnK,UAAUiM,iBAAmB,SAAUvG,GAC3C,IAAIqB,EAAOrB,EAAEtF,OACb,GAAqB,UAAjB2G,EAAKoF,QAAT,CAGAzG,EAAEiB,iBACF,IAAIoH,EACAF,EAAY9G,EAAKnE,UAAUqE,SAASuC,GACpCuF,EAAgBhI,EAAKnE,UAAUqE,SA7VrB,kBA8Vd8G,EAAOjO,KAAK8N,YAAYC,EAAW9G,KACvBgI,IACRjP,KAAKgO,YAAYC,EAAMrI,EAAGqB,EAAM8G,EAAWkB,KAGnD5E,EAAQnK,UAAUoO,SAAW,SAAUnB,EAAS+B,GAC5C,IAAIC,EAAM5P,OAAO4N,GAAS+B,EAAM,kBAC5B/H,EAAW,SAAUZ,GACrB,OAAOA,EAAGzD,UAAUqE,SAASgC,IAAkB5C,EAAGzD,UAAUqE,SAAShG,IAEzE,GAAIgO,EAAK,CACL,IAAIC,EAAUjI,EAASgI,GACvB,GAAIC,GACI7P,OAAO4P,GAAKD,EAAM,oBAClBC,EAAM5P,OAAO4P,GAAKD,EAAM,kBACxBE,EAAUjI,EAASgI,IAGf,YADAnP,KAAKsO,SAASa,EAAKD,GAK/BlP,KAAK0N,aAAayB,QAEjB,GAAInP,KAAKsL,UAAW,CACrB,IAAIvG,EAAOxF,OAAO4N,EAAQkC,eAAeH,EAAM,kBAI/C,GAHKI,oBAAMvK,IAAkC,IAAzBA,EAAKb,SAASvD,SAC9BoE,EAAOxF,OAAOwF,GAAMmK,EAAM,oBAEzBI,oBAAMvK,IAASA,EAAKb,SAASvD,OAAS,EACvC,GAAY,SAARuO,EAAgB,CAEZ/H,EADAZ,EAAKxB,EAAKyC,cAAc,IAAM0B,IAE9BlJ,KAAKsO,SAAS/H,EAAI2I,IAGlB3I,EAAGa,kBAAkBwG,QACrB5N,KAAK6N,gBAAgBtH,QAGxB,CACD,IAAIA,EACAY,EADAZ,EAAKxB,EAAK4J,kBAEV3O,KAAKsO,SAAS/H,EAAI2I,GAGlBlP,KAAK0N,aAAanH,MAMtC8D,EAAQnK,UAAU4L,aAAe,SAAUlG,GACvC,IAAIqB,EAAOrB,EAAEtF,OACTiP,EAAUtI,EAAKnE,UACfgB,EAAM9D,KAAK6B,QACX2N,GAAkBF,oBAAMnC,UAAQlG,EAAM,IAAM4C,IAC5C4F,EAAWtC,UAAQlG,EAAO,IAAMyC,GAC/B+F,IACDA,EAAWxI,IAEVnD,EAAII,SAAS,GAAGpB,UAAUqE,SAAS,cAAiBoI,EAAQpI,SAASuC,KACtE6F,EAAUtI,EAAKO,cAAc,YAAY1E,YAEzCyM,EAAQpI,SAASiC,IAAkBmG,EAAQpI,SAASkC,KACpDrJ,KAAK0P,kBAAkB5L,EAAK2L,EAAUvO,GAE1C,IAAIyO,EACA1B,EAAOd,UAAQvH,EAAEtF,OAAQ,IAAM4I,GACnC,IAAKoG,oBAAMrB,KAASA,EAAKnL,UAAUqE,SAAShG,IAAkBsO,EAAS3M,UAAUqE,SAASuC,GAA1F,CAGIuE,IACA0B,EAAU3P,KAAK2L,MAAM3L,KAAK6M,QAAQ+C,QAAQ3B,KAE9C,IAAI4B,GAAc3I,cAAetB,EAAGkK,KAAMH,GAC1C3P,KAAKwL,QAAQ,UAAWqE,GACpBL,IAAmBK,EAAUE,QAC7B/P,KAAKqL,OAAOmB,MAAOrK,KAAM,UAAWsK,SAAU,QAItDpC,EAAQnK,UAAUwP,kBAAoB,SAAU5L,EAAK2L,EAAUvO,GAC3D,IAAImK,EAASrL,KAAKqL,OACdkB,YAAUlB,EAAOxJ,UACjB4N,EAAS3M,UAAU6B,OAAOoF,GAC1BsB,EAAOmB,MAAOrK,KAAM,UAAWsK,SAAU,QAGrC3I,EAAIhB,UAAUqE,SAASjG,KACvBmK,EAAOxI,WAAY,EACnBwI,EAAO2E,UAAaC,EAAG,OAAQC,EAAG,QAEf,IAAnB7E,EAAO8E,SAAkBrM,EAAIhB,UAAUqE,SAASjG,KAChDmK,EAAOxI,WAAY,EACnBwI,EAAO2E,UAAaC,EAAG,QAASC,EAAG,QAEvC7E,EAAO+E,WACP/E,EAAOxJ,QAAQc,MAAMmM,IAAM9O,KAAK6B,QAAQkN,aAAe,KACvDU,EAAS3M,UAAUC,IAAIgH,GACvBsB,EAAO2D,MAAO7M,KAAM,YAAasK,SAAU,QAOnDpC,EAAQnK,UAAU8C,OAAS,WACvBhD,KAAKuC,aACLvC,KAAKqQ,gBACLrQ,KAAK6L,cAETxB,EAAQnK,UAAUqC,WAAa,WAC3B,IAAI2F,EAAQoI,aAAWtQ,KAAKkI,OACxBqI,EAASD,aAAWtQ,KAAKuQ,QACH,SAAtBtO,UAAQC,KAAKC,MAAmC,SAAhBnC,KAAKuQ,QACrCC,oBAASxQ,KAAK6B,SAAW0O,OAAUA,IAEvCC,oBAASxQ,KAAK6B,SAAWqG,MAASA,IAIlCuI,aAAWzQ,KAAK6B,SAFZ6O,KAAQ,UAAWC,gBAAiB,QAASC,gBAAiB,QAASC,mBAAoB,gBAInGxG,EAAQnK,UAAUmQ,cAAgB,WAC9BrQ,KAAKkL,QAAWlL,KAAK6B,QAAQqC,SAASvD,OAAS,EAAKX,KAAK6B,QAAQ2F,cAAc,OAAS,KACxFxH,KAAK8M,YAAeC,SAAWC,WAAaC,WAC5CjN,KAAK8Q,cACL9Q,KAAK+Q,qBACD/Q,KAAKsL,WACLtL,KAAKgR,kBAELhR,KAAKqL,QAAUrL,KAAKqL,OAAOxJ,QAAQoP,kBAAoB,GAAKjR,KAAKkR,kBAAkBlR,KAAK6B,QAAS7B,KAAKqL,OAAOxJ,UAC7G7B,KAAKwN,aAAaxN,KAAKqL,OAAOxJ,SAAS,IAG/CwI,EAAQnK,UAAUiR,YAAc,SAAUtP,EAASuP,IAC1CpR,KAAKyL,cAAgBzL,KAAKqR,cAAcxP,EAASuP,EAAW,MACzDpR,KAAKsL,WACLtL,KAAK6B,QAAQ2F,cAAc,IAAMyB,EAAY,KAAOU,GAAgB3E,gBAAgB,SAExFhF,KAAKyL,aAAe,IAAI/J,GAAUiG,WAAY,GAAI9E,UAAW7C,KAAK6C,WAAauO,EAAW,IAC1FpR,KAAK2E,OAAO3E,KAAKyL,aAAa5J,QAAS+H,GACvC4G,oBAASxQ,KAAK6B,SAAWyP,SAAU,aAG3CjH,EAAQnK,UAAUqR,aAAe,SAAU5F,GACvC,IAAIzD,EAAQ,EAMZ,SALGjE,MAAMnC,KAAK+C,YAAU,IAAMqE,EAAUyC,IAAQrF,QAAQ,SAAUC,GAC1DgG,YAAUhG,KACV2B,GAAU3B,EAAG4B,YAAcqJ,WAAWzL,OAAO0L,iBAAiBlL,GAAImL,gBAGnExJ,GAEXmC,EAAQnK,UAAUmR,cAAgB,SAAUxP,EAAS8P,GACjD,GAAIrC,oBAAMzN,IAAYyN,oBAAMqC,KAAepF,YAAU1K,GACjD,OAAO,EAEX,IACI+P,EADAC,EAAWhQ,EAAQsG,YAGnByJ,EADA5R,KAAKsL,WAAatL,KAAKyL,aACXzL,KAAKuR,aAAavR,KAAKyL,aAAekG,EAAUnK,cAAc,sBAAwBmK,GAGtFA,EAAUxJ,YAE1B,IAAI2J,EAASjQ,EAAQ2F,cAAc,IAAMkC,GACrCqI,EAAYlQ,EAAQ2F,cAAc,iBACtC,OAAIoK,EAAYC,GAAYC,EAASA,EAAO3J,YAAe4J,EAAoC,EAAxBA,EAAU5J,YAAkB,IAQvGkC,EAAQnK,UAAU8R,gBAAkB,WAChChS,KAAK+L,UAET1B,EAAQnK,UAAU6Q,mBAAqB,WACnC,IAAIjN,EAAM9D,KAAK6B,QACXuP,EAAatN,EAAI0D,cAAc,IAAMyB,GACrCgJ,EAAgBjS,KAAK4L,cAAgB,EACzC,GAAI9H,GAAOA,EAAII,SAASvD,OAAS,EAG7B,OAFAX,KAAKkS,UAAYpO,EAAIqE,YACrBnI,KAAK2E,OAAO3E,KAAK6B,QAAS,aAClB7B,KAAKmS,cACT,IAAK,aACDnS,KAAK0M,iBACL1M,KAAKmR,YAAYrN,EAAKA,EAAIsO,uBAAuBnJ,IACjD,MACJ,IAAK,QACDjJ,KAAK+C,IAAI/C,KAAK6B,QAAS,aACnB7B,KAAKsL,WACLtL,KAAKqS,qBAELrS,KAAKqR,cAAcvN,EAAKsN,IAAea,KACvCjS,KAAKsS,eAAexO,KAAQG,MAAMnC,KAAK+C,YAAU,IAAMoE,EAAY,KAAOC,EAAUpF,KACpF9D,KAAK6B,QAAQ2F,cAAc,IAAMkC,GAAa7F,aAAa,WAAY,MAEvE7D,KAAKsL,YACLtL,KAAK+C,IAAIqO,EAAYxH,GACrB5J,KAAKgR,qBAMzB3G,EAAQnK,UAAUoS,eAAiB,SAAUxO,EAAKyO,GAC9C,IAAIC,EAAW1O,EAAI0D,cAAc,IAAMkC,GAClC8I,GACDxS,KAAKyS,gBAAgB3O,GAEzB0O,EAAW1O,EAAI0D,cAAc,IAAMkC,GACnC,IAAImI,EAAY/N,EAAIqE,YAAeqK,EAAoB,YACvDxS,KAAK6B,QAAQiB,UAAU6B,OAAO,SAC9B6L,oBAASxQ,KAAK6B,SAAW6Q,UAAW,YACpC1S,KAAK2S,cAAc7O,EAAKyO,EAAUV,GAAU,GACxC7R,KAAK6C,WACL7C,KAAK6B,QAAQiB,UAAUC,IAAI,SAE/B/C,KAAK6B,QAAQc,MAAMiQ,eAAe,aAClC5S,KAAK6S,eAETxI,EAAQnK,UAAU4S,iBAAmB,SAAUC,EAASC,EAAUlP,EAAKmP,GACnE,IAAIpR,EAAUkR,EAAQlR,QAClB0M,EAAQ1J,YAAU,IAAM2E,EAAkB1F,GAC1CoP,EAAY,EAEZC,EAAU,KADKlP,MAAMnC,KAAK+C,YAAU,IAAMiF,EAAWjI,EAAQ2F,cAAc,IAAMyB,KAE3E3C,QAAQ,SAAUC,EAAI6M,GAC5B7E,EAAQ1J,YAAU,IAAM2E,EAAkB1F,GACtCyC,EAAGzD,UAAUqE,SAASqC,IAAqB+E,EAAM5N,OAAS,EACtDoS,EAAQM,UAAY9E,EAAM5N,OAASyS,GACnCtP,EAAI0B,aAAae,EAAIgI,EAAM6E,MACzBD,IAGFrP,EAAI0B,aAAae,EAAIzC,EAAII,SAASqK,EAAM5N,WACtCwS,GAGD5M,EAAGzD,UAAUqE,SAASqC,IAC3B1F,EAAI0B,aAAae,EAAIzC,EAAI2B,cACvB0N,GAEGJ,EAAQM,UAAY9M,EAAGzD,UAAUqE,SAASsC,IAAoB3F,EAAII,SAASvD,OAAS,GAAsB,IAAjB4N,EAAM5N,QACpGmD,EAAI0B,aAAae,EAAIzC,EAAI2B,cACvB0N,GAEG5M,EAAGzD,UAAUqE,SAASsC,GAC3BuJ,EAASM,KAAK/M,GAETwM,EAAQM,UACbvP,EAAI0B,aAAae,EAAIzC,EAAIyP,WAAWL,EAAYC,MAC9CD,GAGFpP,EAAIM,YAAYmC,GAEpBiK,oBAASjK,GAAM3D,QAAS,GAAI2N,OAAQ0C,EAAY,SAEpDD,EAAS1M,QAAQ,SAAUC,GACvBzC,EAAIM,YAAYmC,KAGpB,IAAK,IADDsG,EAAUhI,YAAU,IAAMqE,EAAUrH,EAAQ2F,cAAc,IAAMyB,IAC3DjI,EAAI6L,EAAQlM,OAAS,EAAGK,GAAK,EAAGA,IAAK,CAC1C,IAAIwS,EAAc3G,EAAQ7L,GAC1B,IAAIwS,EAAY1Q,UAAUqE,SAASgC,GAI/B,MAHAqH,oBAASgD,GAAe5Q,QAAS,WAO7CyH,EAAQnK,UAAU2S,YAAc,WAC5B,IACII,EACAQ,EAFA5R,EAAU7B,KAAK6B,QAGnB4R,EAAU5R,EAAQ2F,cAAc,IAAM0B,EAAW,SAAWC,EAAgB,WAAaW,EAAY,MACrGmJ,EAAsC,SAAzBpR,EAAQc,MAAM4N,QAA8C,KAAzB1O,EAAQc,MAAM4N,OAAiB,KAAOkD,EAAQ1E,aAC9F,IAAIjL,EAGAA,EADAjC,EAAQ2F,cAAc,IAAM3F,EAAQW,GAAK,UAAYqH,GAC/ChI,EAAQ2F,cAAc,IAAM3F,EAAQW,GAAK,UAAYqH,GAGrDnG,gBAAS,OAASlB,GAAIX,EAAQW,GAAK,SAAUmB,UAAWkG,IAElE7J,KAAK8S,iBAAiB9S,QAAgB8D,EAAKmP,GAC3CjT,KAAK0T,UAAU7R,EAASiC,IAE5BuG,EAAQnK,UAAUwT,UAAY,SAAU7R,EAASiC,GAC7C,GAAK9D,KAAKqL,OAmBL,CACD,IAAIsI,EAAW3T,KAAKqL,OAAOxJ,QAC3B2O,oBAASmD,GAAYC,UAAW,GAAIhR,QAAS,UAC7C4N,oBAASmD,GAAYC,UAAWD,EAAS5E,aAAe,KAAMnM,QAAS,SAtBzD,CACdf,EAAQuC,YAAYN,GACpB0M,oBAASxQ,KAAK6B,SAAWyP,SAAU,KACnC,IAAIuC,EAAQ,IAAIC,QAAM,MAClBC,SAAU/T,KAAK6B,QACfmS,QAAUnS,EAAoB,aAC9BgB,UAAW7C,KAAK6C,UAChBoR,KAAMjU,KAAK2K,UAAUtH,KAAKrD,MAC1BkU,MAAOlU,KAAK4K,WACZoF,SAAUhQ,KAAK6C,WAAcoN,EAAG,OAAQC,EAAG,QAAYD,EAAG,QAASC,EAAG,SAE1E2D,EAAMM,SAASrQ,GACfP,eAAaR,IAAI4J,SAAU,SAAU3M,KAAK4M,SAASvJ,KAAKrD,OACxDuD,eAAaR,IAAI4J,SAAU,SAAU3M,KAAK4M,SAASvJ,KAAKrD,OACxD6T,EAAMhS,QAAQc,MAAMiR,UAAYC,EAAMhS,QAAQkN,aAAe,KAC7D8E,EAAMrH,OACNxM,KAAKqL,OAASwI,EACd7T,KAAK6B,QAAQgC,aAAa,gBAAiB,UAQnDwG,EAAQnK,UAAUyK,UAAY,SAAU/E,GACpC,IAAIyF,EAASrL,KAAKqL,OACdsI,EAAW3T,KAAKqL,OAAOxJ,QACvBuS,EAAUpU,KAAKqL,OAAOxJ,QAAQwN,cAC9BI,EAAW2E,EAAQ5M,cAAc,IAAMkC,GAC3C8G,oBAASnF,EAAOxJ,SAAW0O,OAAQ,OAAQqD,UAAW,KACtDvI,EAAOxJ,QAAQc,MAAMiR,UAAYvI,EAAOxJ,QAAQkN,aAAe,KAC/D,IAAIsF,EAAcV,EAASW,UAAYX,EAAS5E,aAAewF,oBAAkBH,GAAStF,IACtF0F,EAAU/E,EAASrI,kBACvBqI,EAAS3M,UAAUC,IAAIgH,GACvBjH,YAAU0R,GAAUpL,IAAiBC,IACrC,IAAIoL,EAAYnF,oBAAMvJ,OAAO2O,SAAW,EAAI3O,OAAO2O,QACnD,GAAK3O,OAAO4O,YAAcF,EAAaJ,EAAa,CAChD,IAAIO,EAAkBjB,EAAS5E,cAAiBsF,EAActO,OAAO4O,YAAcF,EAAa,GAChGpJ,EAAOkF,OAASqE,EAAiB,KACjC,IAAK,IAAI5T,EAAI,EAAGA,GAAK2S,EAAS1C,kBAAmBjQ,IAAK,CAClD,IAAI8C,EAAM6P,EAASzP,SAASlD,GAC5B,GAAI8C,EAAIwQ,UAAYxQ,EAAIiL,aAAe6F,EAAgB,CACnDA,EAAiB9Q,EAAIwQ,UACrB,OAGR9D,oBAASnF,EAAOxJ,SAAW+R,UAAWgB,EAAiB,SAG/DvK,EAAQnK,UAAU0K,WAAa,SAAUhF,GACrC,IACI6J,EADUzP,KAAK6B,QAAQwN,cACJ7H,cAAc,IAAMkC,GACvC8K,EAAU/E,EAASrI,kBACvBqI,EAAS3M,UAAU6B,OAAOoF,GAC1BjH,YAAU0R,GAAUnL,IAAiBD,KAEzCiB,EAAQnK,UAAUyS,cAAgB,SAAU7O,EAAK+Q,EAAOhD,EAAUiD,GAgB9D,IAAK,IAfDC,EAAc/U,KAAK4L,cAAgB,EAEnCoJ,EAASnD,EACToD,EAAW,EACXC,EAAY,EACZC,EAAe,EACfC,EAAa,SAAUtR,EAAK2J,GAC5B,IAAI4H,GAAO,EAMX,OALA5H,EAAInH,QAAQ,SAAUgP,GACdxR,EAAIhB,UAAUqE,SAASmO,KACvBD,GAAO,KAGRA,GAEFrU,EAdC6T,EAAMlU,OAcG,EAAGK,GAAK,EAAGA,IAAK,CAC/B,IAAIuU,EAAO/D,WAAYzL,OAAO0L,iBAAiBoD,EAAM7T,IAAK0Q,aAC1D6D,GAAQ/D,WAAYzL,OAAO0L,iBAAiBoD,EAAM7T,IAAKwU,YACvD,IAAIC,EAAcZ,EAAM7T,KAAOhB,KAAK6M,QAAQ,GACxC4I,IACAzV,KAAK0V,YAAcH,GAEvB,IAAII,EAAWF,EAAeZ,EAAM7T,GAAGmH,YAAcoN,EAAQV,EAAM7T,GAAGmH,YAMtE,GALIiN,EAAWP,EAAM7T,IAAKiJ,KAAgB8K,IACtCF,EAAM7T,GAAG8B,UAAUC,IAAI+G,GACvB0G,oBAASqE,EAAM7T,IAAM4B,QAAS,OAAQgT,SAAUD,EAAW,OAC3DR,KAECN,EAAM7T,GAAG6U,WAAahB,EAAM7T,GAAGmH,YAAcoN,EAAQ1D,EAAU,CAChE,GAAIgD,EAAM7T,GAAG8B,UAAUqE,SAASgC,GAAgB,CAC5C,GAAI8L,EAAW,GAAKC,IAAcC,EAAc,CAC5C,IAAIW,EAASjB,EAAM7T,EAAIkU,GAAaD,EAAW,IAC3CG,EAAWU,GAAS3M,EAAea,KACnCwG,oBAASsF,GAAUlT,QAAS,SAGpCqS,IACAC,EAAY,EACZC,EAAe,OAGfD,IAEAL,EAAM7T,GAAG8B,UAAUqE,SAASqC,IAAqBsL,EACjDjD,GAAagD,EAAM7T,GAAGmH,cAEhBiN,EAAWP,EAAM7T,IAAKmI,EAAea,IAM3C6H,GAAagD,EAAM7T,GAAGmH,eALtB0M,EAAM7T,GAAG8B,UAAUC,IAAI+G,GACvB0G,oBAASqE,EAAM7T,IAAM4B,QAAS,OAAQgT,SAAUD,EAAW,OAC3DR,MAOZ,GAAIL,EAAK,CACL,IAAIiB,EAAWlR,YAAU,IAAMqE,EAAW,SAAWY,EAAY,IAAK9J,KAAK6B,SAC3E7B,KAAK2S,cAAc7O,EAAKiS,EAAUf,GAAQ,KAGlD3K,EAAQnK,UAAUuS,gBAAkB,SAAU5Q,GAC1C,IAAIW,EAAKX,EAAQW,GAAG0C,OAAO,QACvBvB,EAAY,KAAO9B,EAAQW,GAAG0C,OAAO,kBACrCN,EAAMlB,gBAAS,OAASlB,GAAIA,EAAImB,UAAWA,IACrB,SAAtB1B,UAAQC,KAAKC,MAAyC,SAAtBF,UAAQC,KAAKC,MAC7CyC,EAAI9B,UAAUC,IAAI,cAEtB,IAAIqC,EAAU1B,gBAAS,OAASC,UAAW0F,EAAgB,aAC3DzE,EAAIR,YAAYgB,GAChBR,EAAIf,aAAa,WAAY,KAC7BhC,EAAQuC,YAAYQ,IAExByF,EAAQnK,UAAU8V,WAAa,SAAUnB,EAAOoB,EAAMC,EAAQ3P,EAAI4P,EAAKC,EAAOC,EAAKC,GAC/E,IAAIC,EAAcD,EACdpJ,EAASlN,KAAKqL,OAAOxJ,QAErB2U,EAAY3R,YAAU,IAAMiF,EAAY,SAAWN,EAAmB,IAAK0D,GAAQvM,OACnFyU,EAAa,SAAUtR,EAAK2J,GAC5B,OAAO3J,EAAIhB,UAAUqE,SAASsG,IAElC,GAAuC,IAAnC5I,YALQ,0DAKSgQ,GAAOlU,OAAc,CACtC,IAAI8V,EAAS5B,EAAM3Q,SAAS+R,GAAQA,EAAOC,GAAU,GACjDQ,GAAgBpH,oBAAMmH,IAAWrB,EAAWqB,EAAQzM,GACxD,IAAMsF,oBAAMmH,IAAWrB,EAAWqB,EAAQtN,KAAmBoD,YAAUkK,IAAYC,EAAa,CAE5FD,EAAO9T,MAAMC,QAAU,UACvB,IAAI+T,EAAcF,EAAOtO,YAAyE,EAA1DqJ,WAAWzL,OAAO0L,iBAAiBgF,GAAQ/E,aAC/EkF,EAAUH,EAAOI,uBAChBT,EAAQO,EAAeN,GAAOF,GAC/BtB,EAAMrP,aAAae,EAAIsO,EAAM3Q,SAAU+R,EAAOM,GAAgBN,EAAOC,KAChE5G,oBAAMsH,KACPA,EAAQjU,MAAMC,QAAU,KAIxBgU,EAAQ9T,UAAUqE,SAASgC,KAC3ByN,EAAQjU,MAAMC,QAZL,QAejB6T,EAAO9T,MAAMC,QAAU,QAGvBiS,EAAMrP,aAAae,EAAIsO,EAAM3Q,SAAU+R,EAAOM,GAAgBN,EAAOC,UAIzErB,EAAMrP,aAAae,EAAIsO,EAAM3Q,SAAU+R,EAAOM,EAAeC,KAGrEnM,EAAQnK,UAAUsN,aAAe,SAAUmG,EAAUjP,GACjD,IAAIZ,EAAM9D,KAAK6B,QACXiQ,EAAShO,EAAI0D,cAAc,IAAMkC,GACjC6I,EAAWzO,EAAI0D,cAAc,IAAMyB,GACvC,IAAIqG,oBAAMwC,GAAV,CAGAS,EAASvN,gBAAgB,SACzB2O,EAAShR,MAAMC,QAAU,QACzB,IAAIsF,EAAQpE,EAAIqE,aAAe2J,EAAO3J,YAAcoK,EAASpK,aAC7DnI,KAAK8W,gBAAgB5O,EAAOyL,EAAUjP,GACtCiP,EAAShR,MAAMC,QAAU,GACQ,IAA7B+Q,EAASzP,SAASvD,QAAgBmR,GAAU9R,KAAKqL,SACjDpG,SAAO6M,GACPA,EAAS,KACT9R,KAAKqL,OAAO3G,UACZO,SAAOjF,KAAKqL,OAAOxJ,SACnB7B,KAAKqL,OAAS,KACdvH,EAAID,aAAa,gBAAiB,SAClCC,EAAIhB,UAAU6B,OAAO,gBAG7B0F,EAAQnK,UAAU6W,eAAiB,SAAU3D,EAAOb,GAChD,IAAIyE,KAAe/S,MAAMnC,KAAKyQ,EAASlF,iBAAiB,IAAMrD,IAC1DiN,KACAC,EAAQ,EACZ,OAAIF,EAAUrW,OAAS,GACnBqW,EAAU1Q,QAAQ,SAAUxC,GACxBmT,EAAU3D,QAAQrP,MAAMnC,KAAKyQ,EAASrO,UAAU0L,QAAQ9L,MAMhEmT,EAAU3Q,QAAQ,SAAUmH,GACpBA,GAAO2F,GACP8D,MAGDA,GAPI,GASf7M,EAAQnK,UAAUgR,kBAAoB,SAAUiG,EAAMjK,GAClDA,EAAOvK,MAAMC,QAAU,QACvB,IAAIwT,EAAQpW,KAAKoX,cAAclK,EAAO9F,mBACtC8F,EAAO9F,kBAAkBzE,MAAMiQ,eAAe,YAC9C,IAAIyE,EAAYF,EAAKhP,YAAcgP,EAAK3P,cAAc,IAAMkC,GAAavB,YACrEmP,EAAeH,EAAK3P,cAAc,IAAMyB,GAAWd,YAEvD,OADA+E,EAAOvK,MAAMiQ,eAAe,WACxByE,EAAajB,EAAQkB,GAK7BjN,EAAQnK,UAAUkX,cAAgB,SAAU7Q,GACxCA,EAAG5D,MAAMqN,SAAW,WACpB,IAAIuH,EAAUhR,EAAG4B,YACbqP,EAAUjR,EAAGiB,cAAc,oBAC/B,GAAIjB,EAAGzD,UAAUqE,SAAS,iBAAmBZ,EAAGzD,UAAUqE,SAASoC,GAAe,CAC9E,IAAIkO,EAAMlR,EAAGrC,SAAS,IACjBoL,oBAAMkI,IAAYjR,EAAGzD,UAAUqE,SAASoC,GACzCiO,EAAQ7U,MAAMC,QAAU,QAElB0M,oBAAMkI,IAAYjR,EAAGzD,UAAUqE,SAASmC,KAC9CkO,EAAQ7U,MAAMC,QAAU,SAE5B6U,EAAI9U,MAAMiT,SAAW,KACrB2B,EAAUhR,EAAG4B,YACbsP,EAAI9U,MAAMiT,SAAW,GAChBtG,oBAAMkI,KACPA,EAAQ7U,MAAMC,QAAU,IAGhC,OAAO2U,GAEXlN,EAAQnK,UAAU4W,gBAAkB,SAAU5O,EAAOyL,EAAUjP,GA4D3D,IAAK,IAzDD8R,EACApD,EAHA2B,EAAc/U,KAAK4L,cAAgB,EACnC8L,EAAY1X,KAAK6M,QAIjB0F,EAAWvS,KAAK6B,QAAQ2F,cAAc,IAAMyB,GAC5CsN,EAAc,EACdoB,EAAU,SAAUpR,GACpB,GAAIA,EAAGzD,UAAUqE,SAAS8C,IAAe8K,IAAgBrQ,EACrD,MAAO,WAEX,IAAI6S,EAAUK,EAAOR,cAAc7Q,GAKnC,GAJIA,IAAOqR,EAAO/K,QAAQ,KACtB0K,GAAWK,EAAOlC,aAEtBnP,EAAG5D,MAAMqN,SAAW,KAChBuH,EAAUrP,GAASxD,GAuCnB,MAAO,QAjCP,GALA6B,EAAG5D,MAAMiT,SAAW,GACfrP,EAAGzD,UAAUqE,SAASsC,IACvBlD,EAAGzD,UAAU6B,OAAOmF,GAExBsJ,EAAQwE,EAAO/K,QAAQ+C,QAAQrJ,GAC3BqR,EAAOtM,UAAW,CAClB,IAAI4D,EAAM0I,EAAOjM,MAAMyH,GAAOyE,MAC9BzE,EAAQwE,EAAO9K,YAAYoC,EAAM,KAAK4I,eAAelI,QAAQrJ,GAC7DmR,EAAYE,EAAO9K,YAAYoC,EAAM,KAAK4I,eAC1CvF,EAAWqF,EAAO/V,QAAQ2F,cAAc,IAAMyB,EAAY,eAAsBiG,EAAI4I,eAExF,IAAIC,EAAiB,EACrBL,EAAUzT,MAAM,EAAGmP,GAAO9M,QAAQ,SAAUC,IACpCA,EAAGzD,UAAUqE,SAASqC,IAAqBjD,EAAGzD,UAAUqE,SAASgC,MAC7D5C,EAAGzD,UAAUqE,SAASgC,KACtB5C,EAAG5D,MAAMC,QAAU,GACnBsF,GAAS3B,EAAG4B,aAEhB4P,OAGRxB,EAAcqB,EAAOb,eAAe3D,EAAOb,GACvChM,EAAGzD,UAAUqE,SAASqC,IACtBoO,EAAO5B,WAAWzD,EAAUa,EAAO2E,EAAgBxR,EAAI7B,EAAS6S,EAASrP,EAAOqO,GAChFrO,GAAS3B,EAAG4B,aAEG,IAAViL,GACLb,EAAS/M,aAAae,EAAIgM,EAAS9M,YACnCyC,GAAS3B,EAAG4B,cAGZqO,EAAY3R,YAAU,IAAM2E,EAAkBoO,EAAOvM,OAAOxJ,SAASlB,OACrE4R,EAAS/M,aAAae,EAAIgM,EAASrO,SAAUkP,EAAQmD,EAAeC,IACpEtO,GAAS3B,EAAG4B,aAEhB5B,EAAG5D,MAAM4N,OAAS,IAMtBqH,EAAS5X,KACJ+D,EAAK,EAAGe,KAAQb,MAAMnC,KAAK6R,EAASzP,UAAWH,EAAKe,EAAGnE,OAAQoD,IAAM,CAG1E,GAAgB,UADF4T,EADL7S,EAAGf,IAGR,MAEQ/D,KAAKqR,cAAcrR,KAAK6B,QAAS7B,KAAK6B,QAAQuQ,uBAAuBnJ,GAAW,MAC1EvE,GAClB1E,KAAK+Q,sBAGb1G,EAAQnK,UAAUmS,kBAAoB,WAClC,IAAIvC,EAAO9P,KAAK6B,QAAQ2F,cAAc,IAAMyB,GAC5C,IAAIqG,oBAAMQ,IAAUA,EAAKhN,UAAUqE,SAASyC,GAA5C,CAGA5J,KAAK2E,OAAOmL,EAAMlG,GAClB,IAAI+H,KAAe1N,MAAMnC,KAAKgO,EAAKyD,YACnC5B,EAAU,GAAG3M,gBAAgB,SAC7B2M,EAAU,GAAG3M,gBAAgB,WAEjCqF,EAAQnK,UAAU8X,mBAAqB,WACnC,IAAIlI,EAAO9P,KAAK6B,QAAQ2F,cAAc,IAAMyB,GAC5CjJ,KAAK+C,IAAI+M,EAAMlG,GACf5J,KAAKgR,mBAET3G,EAAQnK,UAAU8Q,gBAAkB,WAChC,IAAIlB,EAAO9P,KAAK6B,QAAQ2F,cAAc,IAAMyB,GAC5C,IAAIqG,oBAAMQ,IAAUA,EAAKhN,UAAUqE,SAASyC,GAA5C,CAGA,IACI+H,EADAlC,EAAWzP,KAAK6B,QAAQ2F,cAAc,IAAMkC,GAQ5CuO,GALAtG,EADA3R,KAAKyL,gBACUxH,MAAMnC,KAAKgO,EAAKtI,cAAc,sBAAsBtD,aAGpDD,MAAMnC,KAAKgO,EAAKyD,aAEZ,GAAGpL,YAAcwJ,EAAU,GAAGxJ,YACjD+P,EAAUlY,KAAK6B,QAAQsG,YAC3B,GAAIsH,EAAU,CACVyI,GAAWzI,EAAStH,YACpB,IAAIgQ,EAAS1I,EAAStH,YAAc,KACpCwJ,EAAU,GAAG3M,gBAAgB,SAC7BhF,KAAK6C,UAAY8O,EAAU,GAAGhP,MAAMyV,KAAOD,EAASxG,EAAU,GAAGhP,MAAM0V,MAAQF,EAEnF,KAAID,GAAWD,GAAf,CAGA,IAAIxJ,GAAWyJ,EAAUD,EAAWtG,EAAU,GAAGxJ,aAAe,EAChEwJ,EAAU,GAAG3M,gBAAgB,SAC7B,IAAIuQ,EAAQ5D,EAAU,GAAGxJ,YAAcsG,EAAS,KAChDzO,KAAK6C,UAAY8O,EAAU,GAAGhP,MAAM+O,YAAc6D,EAAO5D,EAAU,GAAGhP,MAAM6S,WAAaD,KAE7FlL,EAAQnK,UAAUoY,cAAgB,SAAUxI,EAAMyI,EAASrJ,GACvD,IAAIrJ,EAAQ7F,KACZ,IAAI8P,EAAK0I,mBAAuC,SAAlB1I,EAAKwB,SAAnC,CAGA,IAAImH,KAIJ,GAHAA,EAASnF,KAAK5P,gBAAS,OAASC,UA9+BrB,oBA++BX8U,EAASnF,KAAK5P,gBAAS,OAASC,UAAWgG,KAC3C8O,EAASnF,KAAK5P,gBAAS,OAASC,UAj/BpB,qBAk/BA,IAARuL,GAA4B,SAAfY,EAAK+H,MAClBY,EAASnS,QAAQ,SAAUxC,GACvByU,EAAQnU,YAAYN,KAExB9D,KAAKsL,WAAY,EACjBtL,KAAK+C,IAAIwV,EAAS3O,QAEjB,GAAmB,SAAfkG,EAAK+H,MAAkB,CAC5B,IAAIa,EAAWH,EAAQhF,WACnBoF,EAAcF,EAAS,MACxBxU,MAAMnC,KAAK4W,GAAUpS,QAAQ,SAAUC,GACtCV,EAAMiH,WAAWC,MAAMuG,KAAK/M,GAC5BoS,EAAYvU,YAAYmC,KAE5BgS,EAAQnU,YAAYuU,GACpBJ,EAAQnU,YAAYqU,EAAS,IAC7BF,EAAQnU,YAAYqU,EAAS,IAC7BzY,KAAKsL,WAAY,EACjBtL,KAAK+C,IAAIwV,EAAS3O,MAG1BS,EAAQnK,UAAU0Y,aAAe,WAC7B,IAAI/S,EAAQ7F,KACZA,KAAKmL,QAAUnL,KAAKkL,QAAQ2N,WAAU,GACtC7Y,KAAK+C,IAAI/C,KAAKkL,QAASjC,GACvBjJ,KAAK6M,cACa5I,MAAMnC,KAAK9B,KAAKkL,QAAQhH,UACjCoC,QAAQ,SAAUxC,GACH,QAAhBA,EAAIuI,UACJxG,EAAMgH,QAAQyG,KAAKxP,GACnBA,EAAID,aAAa,gBAAiB,SAClCgC,EAAM9C,IAAIe,EAAKoF,OAI3BmB,EAAQnK,UAAU4Q,YAAc,WAC5B,IACIgI,EACAnH,EACAoH,EAHAjV,EAAM9D,KAAK6B,QAIX8J,EAAQ3L,KAAK2L,MAIjB,GAHI7H,GAAOA,EAAII,SAASvD,OAAS,IAC7BmY,EAAahV,EAAI0D,cAAc,IAAMyB,IAErB,MAAhBjJ,KAAKkL,QACLlL,KAAK4Y,oBAEJ,GAAI9U,GAAO6H,EAAMhL,OAAS,EAAG,CACzBmY,IACDA,EAAapV,gBAAS,OAASC,UAAWsF,KAE9C,IAAK,IAAIjI,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,IAC9B2Q,EAAY3R,KAAKgZ,mBAAmBrN,EAAM3K,KACD,IAArChB,KAAK6M,QAAQ+C,QAAQ+B,IACrB3R,KAAK6M,QAAQyG,KAAK3B,GAEjB3R,KAAKsL,WACNtL,KAAKsY,cAAc3M,EAAM3K,GAAI8X,EAAY9X,IAE7C+X,EAAWD,EAAWtR,cAAc,cAAgBmE,EAAM3K,GAAG6W,MAAMC,iBAEzDnM,EAAM3K,GAAGwX,mBAA2C,SAAtB7M,EAAM3K,GAAGsQ,UACzCtR,KAAK8M,YAAYnB,EAAM3K,GAAG6W,MAAQ,KAAKC,eAAexE,KAAK3B,GAE/DoH,EAAS3U,YAAYuN,IAGrBmH,EAAW1U,YAAYuN,GAG/B7N,EAAIM,YAAY0U,KAGxBzO,EAAQnK,UAAU+Y,QAAU,SAAUC,EAAMrX,GAGxC,IAAK,IADDsX,EADA5Y,EAAMhB,OAAOsJ,KAAKqQ,GAEblY,EAAI,EAAGA,EAAIT,EAAII,OAAQK,IAEjB,WADXmY,EAAS5Y,EAAIS,IACQhB,KAAK+C,IAAIlB,EAASqX,EAAKC,IAAWtX,EAAQgC,aAAasV,EAAQD,EAAKC,KAUjG9O,EAAQnK,UAAUkZ,YAAc,SAAUzN,EAAO0N,GAC7C,IAAIC,EAAW3N,EACX4N,EAAMD,EAAS3Y,OACf2O,oBAAM+J,KACNA,GAAW,GAEf,IAAIG,EAAS,SAAUH,EAAUvV,GACzBuV,GACAvV,EAAIhB,UAAU6B,OAAOxD,GACrB2C,EAAID,aAAa,gBAAiB,WAGlCC,EAAIhB,UAAUC,IAAI5B,GAClB2C,EAAID,aAAa,gBAAiB,UAG1C,GAAI0V,GAAOA,EAAM,EAAG,CAChB,IAAK,IAAIxV,EAAK,EAAGe,KAAQb,MAAMnC,KAAKwX,GAAWvV,EAAKe,EAAGnE,OAAQoD,IAAM,CAEjEyV,EAAOH,EADGvU,EAAGf,IAGjBsV,EAAWI,cAAYH,EAAUnY,GAAeuY,WAASJ,EAAUnY,OAElE,CAGDqY,EAAOH,EADAE,GAAe,IAARA,EAAaD,EAAS,GAAK3N,KAUjDtB,EAAQnK,UAAUyZ,SAAW,SAAUhO,EAAOyH,GAC1C,IAAIhC,EAEAmB,EADAqH,EAAW5Z,KAAK6B,QAAQ2F,cAAc,IAAMyB,GAE5C4Q,EAAU,OACVvK,oBAAM8D,KACNA,EAAQ,GAEZzH,EAAMrF,QAAQ,SAAUV,GACf0J,oBAAM1J,EAAEiS,QAAsB,SAAZjS,EAAEiS,OAAgC,SAAZgC,IACzCA,EAAUjU,EAAEiS,SAGpB,IAAK,IAAI9T,EAAK,EAAG+V,EAAUnO,EAAO5H,EAAK+V,EAAQnZ,OAAQoD,IAAM,CACzD,IAAI+L,EAAOgK,EAAQ/V,GAOnB,GANIuL,oBAAMQ,EAAKiK,QACXjK,EAAKiK,KAAO,UAEhB3I,EAAavM,YAAU,IAAMqE,EAAUlJ,KAAK6B,SAC5CiO,EAAK+H,MAAQgC,EACbtH,EAAWvS,KAAKgZ,mBAAmBlJ,GAC/B9P,KAAK6M,QAAQlM,QAAUyS,GAAShC,EAAWzQ,OAAS,EAAG,CACvDX,KAAKuN,cACL,IAAIyM,EAA6B,MAAlBlK,EAAK+H,MAAM,GAAa,EAAsB,MAAlB/H,EAAK+H,MAAM,GAAa,EAAI,EACnE/T,OAAM,EACL9D,KAAKsL,WAAyB,SAAZuO,EAQd7Z,KAAKsL,YACVxH,EAAMqJ,UAAQiE,EAAW,GAAI,IAAMnI,GAAW/E,SAAS8V,IACnDxU,aAAa+M,EAAUzO,EAAII,SAASkP,IACxCpT,KAAK8M,YAAYgD,EAAK+H,MAAQ,KAAKC,eAAemC,OAAO7G,EAAO,EAAGb,GACnEvS,KAAKgY,sBAGL5G,EAAW,GAAG8I,WAAW1U,aAAa+M,EAAUnB,EAAWgC,KAd3DpT,KAAKsY,cAAcxI,EAAM8J,EAAU,GACnC5Z,KAAKsL,WAAY,GACjBxH,EAAMqJ,UAAQiE,EAAW,GAAI,IAAMnI,GAAW/E,SAAS8V,IACnD5V,YAAYmO,GAChBvS,KAAK8M,YAAYgD,EAAK+H,MAAQ,KAAKC,eAAexE,KAAKf,GACvDvS,KAAKgY,sBAWThY,KAAK2L,MAAMsO,OAAO7G,EAAO,EAAGtD,GAC5B9P,KAAK6M,QAAQoN,OAAO7G,EAAO,EAAGb,GAC9Ba,IACApT,KAAKkS,UAAY0H,EAASzR,aAGlCyR,EAASjX,MAAMuF,MAAQ,GACvBlI,KAAK+Q,sBAQT1G,EAAQnK,UAAUia,YAAc,SAAUC,GACtC,IACIhH,EADAkG,EAAWc,EAEXhJ,KAAgBnN,MAAMnC,KAAK+C,YAAU,IAAMqE,EAAUlJ,KAAK6B,UAC9D,GAA0B,mBACtBuR,EAAQiH,SAASD,EAAKE,WAAY,IAClCta,KAAKua,kBAAkBnH,EAAOhC,QAG9B,GAAIkI,GAAYA,EAAS3Y,OAAS,EAC9B,IAAK,IAAIoD,EAAK,EAAGe,KAAQb,MAAMnC,KAAKwX,GAAWvV,EAAKe,EAAGnE,OAAQoD,IAAM,CACjE,IAAID,EAAMgB,EAAGf,GACbqP,EAAQpT,KAAK6M,QAAQ+C,QAAQ9L,GAC7B9D,KAAKua,kBAAkBnH,EAAOhC,GAC9BA,EAAavM,YAAU,IAAMqE,EAAUlJ,KAAK6B,aAG/C,CACGiC,EAAOwV,GAAYA,EAAS3Y,QAA8B,IAApB2Y,EAAS3Y,OAAgB2Y,EAAS,GAAKc,EACjFhH,EAAQhC,EAAWxB,QAAQ9L,GAC3B9D,KAAKua,kBAAkBnH,EAAOhC,GAGtCpR,KAAK+L,UAET1B,EAAQnK,UAAUqa,kBAAoB,SAAUnH,EAAOhC,GACnD,GAAIpR,KAAK6M,QAAQuG,IAAUhC,EAAWgC,GAAQ,CAC1C,IAAIoH,EAASxa,KAAK6M,QAAQ+C,QAAQwB,EAAWgC,IAC7C,GAAIpT,KAAKsL,UAAW,CAChB,IAAImP,OAAW,EACfA,EAAWza,KAAK8M,YAAY9M,KAAK2L,MAAM6O,GAAQ3C,MAAQ,KAAKC,eAAelI,QAAQ5P,KAAK6M,QAAQ2N,IAChGxa,KAAK8M,YAAY9M,KAAK2L,MAAM6O,GAAQ3C,MAAQ,KAAKC,eAAemC,OAAOQ,EAAU,GAErFxV,SAAOmM,EAAWgC,IAClBpT,KAAK2L,MAAMsO,OAAOO,EAAQ,GAC1Bxa,KAAK6M,QAAQoN,OAAOO,EAAQ,KAGpCnQ,EAAQnK,UAAUwa,eAAiB,SAAUC,EAAcpI,EAAUzC,GACjE,IAEI8K,EAFAC,EAAW/K,EAAKiK,KAChBe,EAASH,EAKb,GAH8B,qBAC1BC,EAA2C,mBAArBE,EAAe,UAEX,oBAAaF,GA8BtC,GAAiB,UAAbC,EAAsB,CACvB/W,EAAMJ,gBAAS,SACnBoM,EAAKtN,GAAMsB,EAAItB,GAAKsN,EAAKtN,GAAOsB,EAAItB,GAAKC,cAAY,WACrD8P,EAASnO,YAAYN,GACrBgX,EAAO3G,SAASrQ,QAlCoC,CACpD,IAAIiX,OAAa,EACbtN,EAAMkN,EACVlN,EAAiC,mBAAYkN,EAAaK,OAASL,EACnE,IAEI,GAAIhO,SAASU,iBAAiBI,GAAK9M,OAAQ,CACvC,IAAImD,EACAmX,GADAnX,EAAM6I,SAASnF,cAAciG,IACfyN,UAAUF,OAC5BD,EAAaI,UAAiBF,GAC9BhW,SAAOnB,GACPgM,EAAKsL,SAAWH,GAGxB,MAAOrV,GACHmV,EAAaI,UAAiB1N,GAElC,IAAI4N,OAAY,EACX/L,oBAAMyL,KACPM,EAAYN,KAAe/a,KAAM,cAEhCsP,oBAAM+L,IAAcA,EAAU1a,OAAS,MACrCsD,MAAMnC,KAAKuZ,GAAW/U,QAAQ,SAAUxC,GAClCwL,oBAAMxL,EAAIuI,WACXvI,EAAInB,MAAMC,QAAU,IAExB2P,EAASnO,YAAYN,KAUjC9D,KAAK+C,IAAIwP,EAhwCE,cAiwCXvS,KAAK6M,QAAQyG,KAAKf,IAEtBlI,EAAQnK,UAAUob,gBAAkB,SAAUxL,EAAMyC,GAChD,IAAIgJ,EAAM7X,gBAAS,UAAYC,UA9vCrB,eA+vCV4X,EAAI1X,aAAa,OAAQ,UACzB,IACI2X,EACAC,EAFAC,EAAU5L,EAAK6L,KAGnB7L,EAAKtN,GAAM+Y,EAAI/Y,GAAKsN,EAAKtN,GAAM+Y,EAAI/Y,GAAKC,cAAY,aACpD,IAAImZ,EAASlY,gBAAS,OAASC,UAAW,oBAuB1C,OAtBI+X,GACAE,EAAOC,UAAYH,EACnBH,EAAInX,YAAYwX,GAChBL,EAAIzY,UAAUC,IAAI,eAGlB/C,KAAK+C,IAAIwP,EAAU,iBAEnBzC,EAAKgM,YAAchM,EAAKiM,cACnBjM,EAAKgM,YAAchM,EAAKiM,YAAejM,EAAKgM,YAC7CN,EAAU1L,EAAKgM,WAAa,WAC5BL,EAAU,SAGVD,EAAU1L,EAAKiM,WAAa,WAC5BN,EAAU,UAGlB,IAAIO,UAASR,QAASA,EAASS,aAAcR,GAAWF,GACpDzL,EAAK5H,OACLsI,oBAAS+K,GAAOrT,MAASoI,aAAWR,EAAK5H,SAEtCqT,GAEXlR,EAAQnK,UAAU8Y,mBAAqB,SAAUlJ,GAC7C,IAAIyC,EACAgJ,EAeJ,IAdAhJ,EAAW7O,gBAAS,OAASC,UAAWuF,KAC/BrF,aAAa,gBAAiB,SAClC7D,KAAK6M,UACN7M,KAAK6M,YAELiD,EAAKoM,gBACLlc,KAAKiZ,QAAQnJ,EAAKoM,eAAgB3J,GAElCzC,EAAKqM,aACL5J,EAAS1O,aAAa,QAASiM,EAAKqM,aAEpCrM,EAAKsM,WACL7J,EAAS5O,UAAY4O,EAAS5O,UAAY,IAAMmM,EAAKsM,UAErDtM,EAAKsL,SACLpb,KAAK0a,eAAe5K,EAAKsL,SAAU7I,EAAUzC,QAG7C,OAAQA,EAAKiK,MACT,IAAK,UACDwB,EAAMvb,KAAKsb,gBAAgBxL,EAAMyC,IAC7B1O,aAAa,WAAY,MAC7B0O,EAASnO,YAAYmX,GACrBhJ,EAAS5L,iBAAiB,QAAS3G,KAAKqc,UAAUhZ,KAAKrD,OACvD,MACJ,IAAK,YACDA,KAAK+C,IAAIwP,EAAUpJ,GAI/B,GAAI2G,EAAKwM,WAAY,CACjB,IAAIC,EAAOzM,EAAKwM,WACH,YAATC,GACAvc,KAAK+C,IAAIwP,EAAUjJ,GACnBtJ,KAAK+C,IAAIwP,EAAU,iBAEL,aAATgK,GACLvc,KAAK+C,IAAIwP,EAAUhJ,GAG3B,GAAIuG,EAAKwB,SAAU,CACf,IAAIA,EAAWxB,EAAKwB,SACH,SAAbA,EACAtR,KAAK+C,IAAIwP,EAAU/I,GAED,SAAb8H,IACAiB,EAASzP,UAAUqE,SAASgC,IAC7BnJ,KAAK+C,IAAIwP,EAAU9I,IAQ/B,MAJsB,SAAlBqG,EAAKwB,UAAuBxB,EAAK0I,oBAAsBjG,EAASzP,UAAUqE,SAASgC,KACnFnJ,KAAK+C,IAAIwP,EAAUtI,GACnBjK,KAAK4L,iBAEF2G,GAEXlI,EAAQnK,UAAUmc,UAAY,SAAUzW,GACpC5F,KAAK6N,gBAAgBjI,EAAE4W,gBAE3BnS,EAAQnK,UAAU2N,gBAAkB,SAAU/J,GAC1C9D,KAAK6O,gBAAgB/K,EAAIsD,mBACzBpH,KAAK4O,UAAUhB,SAEnBvD,EAAQnK,UAAU2O,gBAAkB,SAAU4N,GACrCnN,oBAAMtP,KAAK4O,YACZ5O,KAAK4O,UAAU/K,aAAa,WAAY,MAE5C7D,KAAK4O,UAAY6N,EACbnN,oBAAMtP,KAAKkL,WAAauR,EAAOpN,cAAcvM,UAAUqE,SA32ChD,cA42CPsV,EAAOzX,gBAAgB,YAGvBhF,KAAK4O,UAAU/K,aAAa,WAAY,MAGhDwG,EAAQnK,UAAUqE,eAAiB,WAC/B,OAAOvE,KAAKwE,kBAOhB6F,EAAQnK,UAAUuE,cAAgB,WAC9B,MAAO,WAEX4F,EAAQnK,UAAUwc,cAAgB,SAAU/T,GACxC3I,KAAK2L,MAAQ3L,KAAK0L,aAClB1L,KAAKuN,cACLvN,KAAKoN,eACLpN,KAAK2L,MAAQhD,EACb3I,KAAK0L,aAAe1L,KAAK2L,MACzB3L,KAAK8Q,cACL9Q,KAAK+Q,sBAET1G,EAAQnK,UAAU6L,OAAS,WACvB,IAAIjI,EAAM9D,KAAK6B,QACf7B,KAAKqT,UAAW,EACZrT,KAAKsL,WACLtL,KAAKgR,kBAELhR,KAAKqL,QACLrL,KAAKqL,OAAOmB,OAEhB,IAAI6E,EAAgBrR,KAAKqR,cAAcvN,EAAKA,EAAIsO,uBAAuBnJ,GAAW,IAC7EoI,GACDrR,KAAK0M,iBAEL2E,GAAiBrR,KAAKyL,cAAiBzL,KAAKkS,YAAcpO,EAAIqE,eAG9DnI,KAAKkS,UAAYpO,EAAIqE,aAAekJ,IACpCrR,KAAK+Q,qBAEL/Q,KAAKqL,SACDrL,KAAKsL,WACLtL,KAAKqS,oBAETrS,KAAKwN,aAAaxN,KAAKqL,OAAOxJ,SAAS,GACnC7B,KAAKsL,WACLtL,KAAKgY,sBAGbhY,KAAKkS,UAAYpO,EAAIqE,YACrBnI,KAAKqT,UAAW,IASpBhJ,EAAQnK,UAAUwI,kBAAoB,SAAUC,EAASC,GAErD,IAAK,IADD+T,EAAO3c,KAAK6B,QACPkC,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,QACD,GAAM4E,EAAQgD,iBAAiBjM,OAASkJ,EAAQ+C,iBAAiBjM,MA2B7DM,KAAK0c,cAAc/T,EAAQgD,YAzB3B,IAAK,IADDiR,EAAcrd,OAAOsJ,KAAKF,EAAQgD,OAC7B3K,EAAI,EAAGA,EAAI4b,EAAYjc,OAAQK,IAAK,CACzC,IAAIoS,EAAQiH,SAAS9a,OAAOsJ,KAAKF,EAAQgD,OAAO3K,GAAI,IAChD6b,EAAWtd,OAAOsJ,KAAKF,EAAQgD,MAAMyH,IAAQ,GAE7C0J,GADcvd,OAAOqJ,EAAQ+C,MAAMyH,IAAQyJ,GAC7Btd,OAAOoJ,EAAQgD,MAAMyH,IAAQyJ,IAC/C,GAAI7c,KAAKsL,WAA0B,UAAbuR,EAAsB,CACxC7c,KAAK+c,UACL,OAE6B,sBAAbF,IAAqCC,GACjC9c,KAAK2L,MAAMyH,GAAwB,mBAAkB,aAAbyJ,GAAkD,IAAvB7c,KAAK4L,kBAC1F5L,KAAK4L,cAEX5L,KAAKuN,cACL,IAAIyP,KAAa/Y,MAAMnC,KAAK+C,YAAU,IAAMoE,EAAY,KAAOC,EAAUyT,IACzE1X,SAAO+X,EAAQ5J,IACfpT,KAAK6M,QAAQoN,OAAO7G,EAAO,GAC3BpT,KAAK2Z,UAAU3Z,KAAK2L,MAAMyH,IAASA,GACnCpT,KAAK2L,MAAMsO,OAAO7G,EAAO,GACrBpT,KAAK2L,MAAMyH,GAAOgI,UAClBpb,KAAK6M,QAAQoN,OAAOja,KAAK2L,MAAMhL,OAAQ,GAOnD,MACJ,IAAK,QACD,IAAI0V,EAAMsG,EAAKxU,YACfqI,oBAASmM,GAAQzU,MAASoI,aAAW3H,EAAQT,SAC7ClI,KAAK+Q,qBACD/Q,KAAKqL,QAAUgL,EAAMsG,EAAKxU,aAC1BnI,KAAKwN,aAAaxN,KAAKqL,OAAOxJ,SAAS,GAE3C,MACJ,IAAK,SACD2O,oBAASxQ,KAAK6B,SAAW0O,OAAUD,aAAW3H,EAAQ4H,UACtD,MACJ,IAAK,eACDvQ,KAAKuN,cACLvN,KAAK+Q,qBACD/Q,KAAK6C,WACL7C,KAAK+C,IAAI4Z,EAAMzb,GAEnBlB,KAAKgS,kBACL,MACJ,IAAK,YACDrJ,EAAQ9F,UAAY7C,KAAK+C,IAAI4Z,EAAMzb,GAAWlB,KAAK2E,OAAOgY,EAAMzb,GAC3DoO,oBAAMtP,KAAKyL,gBACZ9C,EAAQ9F,UAAY7C,KAAK+C,IAAI/C,KAAKyL,aAAa5J,QAASX,GAAWlB,KAAK2E,OAAO3E,KAAKyL,aAAa5J,QAASX,IAEzGoO,oBAAMtP,KAAKqL,UACZ1C,EAAQ9F,UAAY7C,KAAK+C,IAAI/C,KAAKqL,OAAOxJ,QAASX,GAAWlB,KAAK2E,OAAO3E,KAAKqL,OAAOxJ,QAASX,IAE9FlB,KAAKsL,WACLtL,KAAKgR,qBAYzB3G,EAAQnK,UAAU+c,SAAW,SAAU7J,EAAO3E,GAC1C,GAAIzO,KAAK6M,QAAQuG,GAAQ,CACrB,IAAIhC,KAAgBnN,MAAMnC,KAAK+C,YAAU,IAAMqE,EAAUlJ,KAAK6B,WAChD,IAAV4M,EACA2C,EAAWgC,GAAOtQ,UAAUC,IAv+C3B,YA0+CDqO,EAAWgC,GAAOtQ,UAAU6B,OA1+C3B,YA4+CL3E,KAAKgS,oBAGb5R,GACI8c,gBAAehT,IAChBG,EAAQnK,UAAW,aAAS,GAC/BE,GACI0I,WAAS,SACVuB,EAAQnK,UAAW,aAAS,GAC/BE,GACI0I,WAAS,SACVuB,EAAQnK,UAAW,cAAU,GAChCE,GACI0I,WAAS,eACVuB,EAAQnK,UAAW,oBAAgB,GACtCE,GACI0I,YAAS,IACVuB,EAAQnK,UAAW,iBAAa,GACnCE,GACI+c,WACD9S,EAAQnK,UAAW,eAAW,GACjCE,GACI+c,WACD9S,EAAQnK,UAAW,eAAW,GACjCE,GACI+c,WACD9S,EAAQnK,UAAW,iBAAa,GACnCE,GACI+c,WACD9S,EAAQnK,UAAW,oBAAgB,GACtCmK,EAAUjK,GACN2I,yBACDsB,IAELrB,aClkDE3J,EAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAQ5Dwc,EAAiB,eACjBC,EAAW,cACXnU,EAAW,eAGXoU,EAAa,iBAEbC,EAAgB,yBAChBC,EAAc,gBACdC,EAAY,kBACZC,EAAgB,gBAEhBC,EAAgB,gBAEhBC,EAAc,iBACdC,EAAW,WACXC,GAAa,aACbC,GAAa,WAEb5c,GAAc,YACd6c,GAAiB,qBAEjBC,GAAkB,iBAClBC,GAAyC,SAAUvc,GAEnD,SAASuc,IACL,OAAkB,OAAXvc,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAW/D,OAbAX,EAAU6e,EAAyBvc,GAInCvB,GACI0I,WAAS,cACVoV,EAAwBhe,UAAW,cAAU,GAChDE,GACI0I,WAAS,MACVoV,EAAwBhe,UAAW,gBAAY,GAClDE,GACI0I,WAAS,WACVoV,EAAwBhe,UAAW,cAAU,GACzCge,GACT9T,iBAEE+T,GAA4C,SAAUxc,GAEtD,SAASwc,IACL,OAAkB,OAAXxc,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAQ/D,OAVAX,EAAU8e,EAA4Bxc,GAItCvB,GACIge,WAAUC,OAAQ,UAAW5R,SAAU,IAAK6R,OAAQ,UAAYJ,KACjEC,EAA2Bje,UAAW,gBAAY,GACrDE,GACIge,WAAUC,OAAQ,YAAa5R,SAAU,IAAK6R,OAAQ,UAAYJ,KACnEC,EAA2Bje,UAAW,cAAU,GAC5Cie,GACT/T,iBAKEmU,GAA+B,SAAU5c,GAEzC,SAAS4c,IACL,OAAkB,OAAX5c,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAiB/D,OAnBAX,EAAUkf,EAAe5c,GAIzBvB,GACI0I,gBAAS0V,IACVD,EAAcre,UAAW,eAAW,GACvCE,GACI0I,gBAAS0V,IACVD,EAAcre,UAAW,cAAU,GACtCE,GACI0I,gBAAS0V,IACVD,EAAcre,UAAW,gBAAY,GACxCE,GACI0I,gBAAS0V,IACVD,EAAcre,UAAW,eAAW,GACvCE,GACI0I,YAAS,IACVyV,EAAcre,UAAW,gBAAY,GACjCqe,GACTnU,iBAYEqU,GAA2B,SAAU9c,GAOrC,SAAS8c,EAAU7c,EAASC,GACxB,IAAIgE,EAAQlE,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAYnD,OARA6F,EAAMyE,YACFG,OAAQ,UACRC,SAAU,YACVgU,MAAO,QACPC,MAAO,QACP7T,KAAM,OACNC,IAAK,OAEFlF,EAu0BX,OA11BAxG,EAAUof,EAAW9c,GAyBrB8c,EAAUve,UAAUwE,QAAU,WAC1B,IAAImB,EAAQ7F,KACR8D,EAAM9D,KAAK6B,QAOf,IANAF,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,MAC9BA,KAAKgL,eACLhL,KAAK4e,WAAY,EACjB5e,KAAK6e,YAAYvY,QAAQ,SAAUwY,GAC/BnS,SAASoS,KAAK3a,YAAYyB,EAAMhE,QAAQ2F,cAAcsX,IAASnc,MAAMC,QAAU,SAE5EkB,EAAI2B,YACP3B,EAAImH,YAAYnH,EAAI2B,YAExB,GAAIzF,KAAKkL,QACL,KAAOlL,KAAKmL,QAAQ1F,YAChB3B,EAAIM,YAAYpE,KAAKmL,QAAQ1F,YAGrC3B,EAAIkB,gBAAgB,UACnB,gBAAiB,uBAAwB,QAAQsB,QAAQ,SAAUiF,GAChE1F,EAAMhE,QAAQmD,gBAAgBuG,MAGtCkT,EAAUve,UAAU6B,UAAY,WAC5B,IAAIid,EAAS7R,UAAQnN,KAAK6B,QAAS,IAAM2b,GACzCxd,KAAKif,UAAW,EAChBjf,KAAK6e,eACA7e,KAAK4e,YACN5e,KAAK4e,WAAY,GAEhBtP,oBAAM0P,GAKPhf,KAAK6B,QAAQiB,UAAUC,IAAIqa,IAJ3B4B,EAAOlc,UAAUC,IA7Hd,YA8HH/C,KAAKif,UAAW,GAKhBjf,KAAK6C,WACL7C,KAAK+C,IAAI/C,KAAK6B,QA5IZ,SA8ID7B,KAAKkf,oBAAqB5P,oBAAMtP,KAAKmf,iBACtCnf,KAAKmf,mBAGbV,EAAUve,UAAU6C,IAAM,SAAUe,EAAK2J,GACrC3J,EAAIhB,UAAUC,IAAI0K,IAEtBgR,EAAUve,UAAUyE,OAAS,SAAUb,EAAK2J,GACxC3J,EAAIhB,UAAU6B,OAAO8I,IAMzBgR,EAAUve,UAAU8C,OAAS,WACzBhD,KAAKuC,aACLvC,KAAKqQ,gBACLrQ,KAAK6L,cAET4S,EAAUve,UAAUqC,WAAa,WAC7B,IAAI2F,EAAQoI,aAAWtQ,KAAKkI,OACxBqI,EAASD,aAAWtQ,KAAKuQ,QAC7BC,oBAASxQ,KAAK6B,SAAWqG,MAASA,EAAOqI,OAAUA,IAI/CvQ,KAAKmf,cAAcxe,OAAS,IAC5BX,KAAKof,WAAapf,KAAKmf,eAE3B1O,aAAWzQ,KAAK6B,SALZ8O,gBAAiB,QAASD,KAAQ,eAAgB2O,uBAAwB,SAMtD,WAApBrf,KAAKsf,YACLtf,KAAK6B,QAAQgC,aAAa,uBAAwB,UAG1D4a,EAAUve,UAAUmQ,cAAgB,WAChCrQ,KAAKkL,QAAWlL,KAAK6B,QAAQqC,SAASvD,OAAS,EAAK4e,SAAO,MAAOvf,KAAK6B,SAAW,KAClF7B,KAAK8Q,cACL9Q,KAAKwf,kBAETf,EAAUve,UAAU8K,aAAe,WAC/BzH,eAAaoB,OAAO3E,KAAK6B,QAAS,QAAS7B,KAAK8L,cAC3CwD,oBAAMtP,KAAKgM,YACZhM,KAAKgM,UAAUtH,WAGvB+Z,EAAUve,UAAU2L,WAAa,WAC7BtI,eAAaR,IAAI/C,KAAK6B,QAAS,QAAS7B,KAAK8L,aAAc9L,MACtDA,KAAKif,UAAajf,KAAK4e,WACxBa,eAAazf,KAAK6B,SAAW6d,SAAU,IAAMpC,IAE5Ctd,KAAKif,WACNjf,KAAKgM,UAAY,IAAIC,iBAAejM,KAAK6B,SACrCqK,UAAWlM,KAAKmM,iBAAiB9I,KAAKrD,MACtCsK,WAAYtK,KAAKsK,WACjBqV,UAAW,cAIvBlB,EAAUve,UAAU0f,QAAU,SAAUha,GACpCA,EAAEtF,OAAO+O,cAAcvM,UAAUC,IAnNrB,iBAqNhB0b,EAAUve,UAAU2f,SAAW,SAAUja,GACrCA,EAAEtF,OAAO+O,cAAcvM,UAAU6B,OAtNrB,iBAwNhB8Z,EAAUve,UAAU0Y,aAAe,WAC/B,IAAI/S,EAAQ7F,KACZA,KAAKmL,QAAUnL,KAAK6B,QAAQgX,WAAU,GACtC,IACIiH,EADAC,EAAY/f,KAAK6B,QAAQqC,SAE7BwV,WAASqG,GAAY7W,OAClBjF,MAAMnC,KAAKie,GAAWzZ,QAAQ,SAAUC,GAEvC,GADAA,EAAG/D,GAAKC,cAAY,cAChB8D,EAAGrC,SAASvD,OAAS,EAAG,CACxBkF,EAAM9C,IAAIwD,EAAGrC,SAAS,GAAIoZ,GAC1B,IAAI0C,EAASzZ,EAAGrC,SAAS,GACzBuM,aAAWuP,GAAUC,SAAY,IAAKvP,KAAQ,UAAWwP,aAAcH,EAAUpf,OAAO2Z,aACxF0F,EAAOxd,GAAKC,cAAY,gBACxBc,eAAaR,IAAIid,EAAQ,QAASna,EAAM+Z,QAAS/Z,GACjDtC,eAAaR,IAAIid,EAAQ,OAAQna,EAAMga,SAAUha,GACjD,IAAIsa,EAAYH,EAAO5Y,kBACnB+Y,GACAA,EAAUrd,UAAUC,IAAIwa,IAE5BuC,EAAUvZ,EAAGrC,SAAS,MAElB4b,EAAQtd,GAAKC,cAAY,eACzBud,EAAOnc,aAAa,gBAAiBic,EAAQtd,IAC7Csd,EAAQnd,MAAMC,QAAU,GACxB2D,EAAGzD,UAAUC,IAAI8a,GACjBtX,EAAGrC,SAAS,GAAGE,YAAYyB,EAAMua,sBACjCtd,YAAUgd,GAAUtC,EAAaI,OACjCnN,aAAWqP,GAAWO,kBAAmBL,EAAOxd,GAAI8d,cAAe,UACnER,EAAUA,EAAQ1Y,qBAEd0Y,EAAQhd,UAAUC,IAAI0a,GACtBqC,EAAQnd,MAAMC,QAAU,SAM5C6b,EAAUve,UAAUkgB,mBAAqB,WACrC,IAAIG,EAAU7c,gBAAS,OAASC,UAAW+Z,IACvC8C,EAAa9c,gBAAS,QAAUC,UAvPtB,gCAyPd,OADA4c,EAAQnc,YAAYoc,GACbD,GAEX9B,EAAUve,UAAUsf,eAAiB,WACjC,IAAIjG,EAAMvZ,KAAKof,WAAWze,OAC1B,GAAY,IAAR4Y,EAGJ,GAAwB,WAApBvZ,KAAKsf,WACLtf,KAAKygB,YAAW,EAAMzgB,KAAKof,WAAW7F,EAAM,SAG5C,IAAK,IAAIvY,EAAI,EAAGA,EAAIuY,EAAKvY,IACrBhB,KAAKygB,YAAW,EAAMzgB,KAAKof,WAAWpe,KAIlDyd,EAAUve,UAAU4Q,YAAc,WAC9B,IAEIa,EAFA9L,EAAQ7F,KACR8D,EAAM9D,KAAK6B,QAEXyN,oBAAMtP,KAAKof,cACXpf,KAAKof,eAET,IAAIzT,EAAQ3L,KAAK2L,MACZ2D,oBAAMtP,KAAKkL,SAGPpH,GAAO6H,EAAMhL,OAAS,GAC3BgL,EAAMrF,QAAQ,SAAUwJ,EAAMsD,GAC1BzB,EAAY9L,EAAM6a,gBAAgB5Q,EAAMsD,GACxCtP,EAAIM,YAAYuN,GACZA,EAAUV,kBAAoB,IAC9B1N,eAAaR,IAAI4O,EAAUnK,cAAc,IAAM8V,GAAa,QAASzX,EAAM+Z,QAAS/Z,GACpFtC,eAAaR,IAAI4O,EAAUnK,cAAc,IAAM8V,GAAa,OAAQzX,EAAMga,SAAUha,MAR5F7F,KAAK4Y,gBAab6F,EAAUve,UAAU4L,aAAe,SAAUlG,GACzC,IAGIwN,EACAmN,EAJA1a,EAAQ7F,KACRiH,EAAOrB,EAAEtF,OACTuP,KAIJ,GADc1C,UAAQlG,EAAM,IAAMoW,KAClBrd,KAAK6B,QAArB,CAGAoF,EAAKnE,UAAUC,IAAI,YACnB,IAAI4d,EAAYxT,UAAQlG,EAAM,IAAMiC,GAChC0X,EAAWzT,UAAQlG,EAAM,IAAMqW,GAC/BuD,EAAW1T,UAAQlG,EAAM,IAAMuW,GAC/BmD,IAAcrR,oBAAMsR,IAAatR,oBAAMuR,MACvCD,EAAWD,EAAUzc,SAAS,GAC9B2c,EAAWF,EAAUzc,SAAS,IAE9B0c,IACAL,EAAUhB,SAAO,IAAM7B,EAAekD,IAE1C,IAAIE,EACAD,IACAC,EAAe3T,UAAQ0T,EAAU,IAAM3X,IAE3C,IAAI6X,KACJ3N,EAAQpT,KAAKghB,eAAeL,GACxBG,IACAjR,EAAUC,KAAO9P,KAAK2L,MAAM3L,KAAKghB,eAAeF,KAEpDjR,EAAU3I,cAAgBtB,KACV0J,oBAAMiR,IAAYjR,oBAAMtP,KAAKkL,UAAYyV,EAAU1P,mBAAqB,KACvE3B,oBAAMuR,IAAcvR,oBAAMiQ,SAAO,IAAMjC,EAAa,KAAOI,EAAeoD,MACvFH,EAAUvc,YAAYpE,KAAKihB,iBAAiB7N,IAC5CpT,KAAKkhB,eAAeP,IAExB3gB,KAAKwL,QAAQ,UAAWqE,GACxB,IAAIsR,EAAeN,IAAavR,oBAAMiQ,SAAO,YAAasB,IAG1D,GAFAM,EAAcA,IAAgB7R,oBAAMiQ,SAAO,IAAMlC,EAAUwD,OAAgB1T,UAAQlG,EAAM,IAAMoW,KAAcrd,KAAK6B,UAClHoF,EAAKnE,UAAU6B,OAAO,cAClBsC,EAAKnE,UAAUqE,SAASqW,IAAgBvW,EAAKnE,UAAUqE,SAASsW,IAAc0D,GAAlF,IAGGld,MAAMnC,KAAK9B,KAAK6B,QAAQqC,UAAUoC,QAAQ,SAAUC,GAC/CA,EAAGzD,UAAUqE,SAAS4W,KACtBgD,EAAWzN,KAAK/M,KAGxB,IAAI6a,KAAgBnd,MAAMnC,KAAK9B,KAAK6B,QAAQwL,iBAAiB,IAAMnE,EAAW,iBAC9E,GAAIkY,EAAWzgB,OAAS,EACpB,IAAK,IAAIoD,EAAK,EAAGsd,EAAeD,EAAYrd,EAAKsd,EAAa1gB,OAAQoD,IAAM,CACxE,IAAIwC,EAAK8a,EAAatd,GACtBgd,EAAWzN,KAAK/M,EAAG8I,eAG3B,IAAIiS,GAAyD,IAAtCP,EAAWnR,QAAQkR,IAA+D,SAAvCD,EAASU,aAAa,aACpFC,GAAa,EACjB,IAAKlS,oBAAMqR,KAAerR,oBAAMsR,GAAW,CACvC,IAAIa,EAAalC,SAAO,IAAM/B,EAAamD,GAEvCe,EADYvU,UAAQwT,EAAW,IAAMvD,GACb5V,cAAc,IAAMyW,IAChD,GAAI3O,oBAAMmS,GACN,OAEJD,EAAcE,IAAgBf,GAC1BpU,YAAUkV,IAAiBH,IAAoBR,EAAahe,UAAUqE,SAAS2W,KAI1EiD,EAAWpgB,OAAS,GAA0B,WAApBX,KAAKsf,aAA4BgC,GAC5DP,EAAWza,QAAQ,SAAUC,GACzBV,EAAM8b,SAASpC,SAAO,IAAM/B,EAAajX,IACzCA,EAAGzD,UAAU6B,OAAOsZ,MAG5Bje,KAAK4hB,OAAOH,IATZzhB,KAAK2hB,SAASF,GAWbnS,oBAAMoS,IAAiBF,GACxBE,EAAY5e,UAAU6B,OAAOsZ,QAIzCQ,EAAUve,UAAU2hB,aAAe,SAAUxT,EAAQ8I,EAAMlQ,GACvD,IAAIgH,EACA6T,EAAW3U,UAAQlG,EAAM,IAAMiC,GAC/BjC,IAASkQ,EACTlJ,GAAoB,WAAXI,EAAsBpH,EAAK0H,iBAAmB1H,GAAMO,cAAc,IAAM8V,GAE5ErW,EAAKnE,UAAUqE,SAASmW,KAC7BwE,EAAuB,WAAXzT,EAAsByT,EAASjL,uBAAyBiL,EAASC,sBAEzE9T,EAAOsR,SAAO,IAAMjC,EAAYwE,IAGpC7T,GACAA,EAAKL,SAGb6Q,EAAUve,UAAUiM,iBAAmB,SAAUvG,GAC7C,IAAIqB,EAAOrB,EAAEtF,OACb,GAAqB,UAAjB2G,EAAKoF,QAAT,CAGAzG,EAAEiB,iBACF,IAEIiZ,EADA3I,EAAOnX,KAAK6B,QAEhB,OAAQ+D,EAAEyI,QACN,IAAK,SAGL,IAAK,WACDrO,KAAK6hB,aAAajc,EAAEyI,OAAQ8I,EAAMlQ,GAClC,MACJ,IAAK,QACL,IAAK,QACD6Y,EAAU7Y,EAAK8a,oBACVzS,oBAAMwQ,IAAYA,EAAQhd,UAAUqE,SAASqW,GACJ,SAAtCsC,EAAQyB,aAAa,cACrBta,EAAKb,QAITa,EAAKb,QAET,MACJ,IAAK,OACL,IAAK,OACmB,SAAbR,EAAEyI,OAAoB8I,EAAK/P,kBAAkBlD,SAAS,GAAKiT,EAAKxI,iBAAiBzK,SAAS,IAC5F0J,WAIjB6Q,EAAUve,UAAU8hB,kBAAoB,WACpC,IAAIhC,EAAStc,gBAAS,OAASC,UAAW2Z,EAAY9a,GAAIC,cAAY,kBAClEwf,GACAhC,SAAY,IAAKvP,KAAQ,UAAWwR,gBAAiB,QAASC,gBAAiB,QAC/ExR,gBAAiB,QAASuP,aAAclgB,KAAK2L,MAAMhL,OAAO2Z,YAG9D,OADA7J,aAAWuP,EAAQiC,GACZjC,GAEXvB,EAAUve,UAAUwgB,gBAAkB,SAAU5Q,EAAMsD,GAClD,IAAIb,EAGJ,GAFAA,EAAW7O,gBAAS,OAASC,UAAWuF,IACxCqJ,EAAS/P,GAAKC,cAAY,cACtBqN,EAAKkQ,OAAQ,CACb,IAAIoC,EAASpiB,KAAKgiB,oBACdK,EAAS3e,gBAAS,OAASC,UAAW4Z,IAC1C6E,EAAOhe,YAAYie,GACnBD,EAAOhe,YAAYpE,KAAKsiB,aAAaD,EAAQvS,EAAKkQ,OAAQ5M,GAAO,IACjEb,EAASnO,YAAYge,GAEzB,IAAIG,EAAMhD,SAAO,IAAMjC,EAAY/K,GASnC,IARIzC,EAAK0S,UAAalT,oBAAM8D,IAAYpT,KAAKkf,oBACD,IAApClf,KAAKof,WAAWxP,QAAQwD,IACxBpT,KAAKof,WAAW9L,KAAKF,GAGzBtD,EAAKsM,UACL7J,EAASzP,UAAUC,IAAI+M,EAAKsM,UAE5BtM,EAAK0L,QAAS,CACd,IAAIiH,EAAY/e,gBAAS,OAASC,UAvc1B,wBAwcJ+e,EAAOhf,gBAAS,QAAUC,UAAWmM,EAAK0L,QAAU,aACxDiH,EAAUre,YAAYse,GAClBpT,oBAAMiT,KACNA,EAAMviB,KAAKgiB,qBACP5d,YAAYqe,GAChBlQ,EAASnO,YAAYme,IAGrBA,EAAI/c,aAAaid,EAAWF,EAAIhP,WAAW,IAGnD,GAAIzD,EAAKgQ,QAAS,CACd,IAAI6C,EAAU3iB,KAAKogB,qBACf9Q,oBAAMiT,KACNA,EAAMviB,KAAKgiB,oBACXzP,EAASnO,YAAYme,IAEzBA,EAAIne,YAAYue,GAChB3iB,KAAK+C,IAAIwP,EAAUsL,GAEvB,OAAOtL,GAEXkM,EAAUve,UAAUoiB,aAAe,SAAUxe,EAAK2K,EAAO2E,EAAOwP,GAC5D,IAAI7H,EACA8H,EACJ,IACI,GAAIlW,SAASU,iBAAiBoB,GAAO9N,OAAQ,CACzC,IAAImiB,EAASnW,SAASnF,cAAciH,GACpCoU,EAAYC,EAAO5H,UAAUF,OAC7BlX,EAAIM,YAAY0e,GAChBA,EAAOngB,MAAMC,QAAU,IAG/B,MAAOgD,GACHmV,EAAaI,UAAiB1M,GAgBlC,OAdKa,oBAAMyL,MAAeA,IAAapa,OAAS,IAAO2O,oBAAMyL,IAAa,GAAG1O,UAAoC,IAAxB0O,IAAapa,OAQnE,IAA1BmD,EAAImN,oBACTnN,EAAI+X,UAAYpN,MARbxK,MAAMnC,KAAKiZ,KAAczU,QAAQ,SAAUC,GACrC+I,oBAAM/I,EAAG8F,WACV9F,EAAG5D,MAAMC,QAAU,IAEvBkB,EAAIM,YAAYmC,KAMnB+I,oBAAMuT,IACP7iB,KAAK6e,YAAYvL,KAAK7E,GAEnB3K,GAEX2a,EAAUve,UAAUghB,eAAiB,SAAU3I,GAC3C,IAAIyH,EAAST,SAAO,IAAMjC,EAAY/E,GAClCuH,EAAUP,SAAO,IAAM/B,EAAajF,GACxCyH,EAAOnc,aAAa,gBAAiBic,EAAQtd,IAC7Csd,EAAQjc,aAAa,kBAAmBmc,EAAOxd,KAEnDic,EAAUve,UAAU+gB,iBAAmB,SAAU7N,GAC7C,IAAI0M,EAAU9f,KAAK2L,MAAMyH,GAAO0M,QAC5BiD,EAAUrf,gBAAS,OAASC,UAAW6Z,EAAc,IAAMI,EAAapb,GAAIC,cAAY,iBAC5FgO,aAAWsS,GAAWzC,cAAe,SACrC,IAAI0C,EAAMtf,gBAAS,OAASC,UAAW8Z,IAEvC,OADAsF,EAAQ3e,YAAYpE,KAAKsiB,aAAaU,EAAKlD,EAAS1M,GAAO,IACpD2P,GAEXtE,EAAUve,UAAU0hB,OAAS,SAAU3a,GACnC,IAAI4I,EACAoT,EAAc9V,UAAQlG,EAAM,IAAMiC,GACtC,KAAIoG,oBAAMrI,IAAUsF,YAAUtF,IAA4C,SAAnCA,EAAKsa,aAAa,cAA4B0B,EAAYngB,UAAUqE,SAAShG,KAApH,CAGA,IACIugB,EADYvU,UAAQ8V,EAAa,IAAM7F,GACf5V,cAAc,IAAMyW,IAC5CiF,GACA/gB,KAAMnC,KAAKkjB,UAAUtB,OAAOvD,OAC5B5R,SAAUzM,KAAKkjB,UAAUtB,OAAOnV,SAChC0W,eAAgBnjB,KAAKkjB,UAAUtB,OAAOtD,QAEtCoE,EAAOnD,SAAO,IAAM7B,EAAeuF,GAAa7b,kBACpDyI,GAAchO,QAASohB,EACnBnT,KAAM9P,KAAK2L,MAAM3L,KAAKghB,eAAeiC,IACrCG,YAAY,GAChB,IAAIC,EAAMH,EAAU/gB,KAEpB,GADAnC,KAAKwL,QAAQ,YAAaqE,IACtBA,EAAUE,OAAd,CASA,GANA2S,EAAK5f,UAAUC,IAAIib,IACnBhe,KAAKsjB,kBAAkBL,GAClB3T,oBAAMoS,IACPA,EAAY5e,UAAU6B,OAAOsZ,IAEjCgF,EAAYngB,UAAUC,IAAIkb,IACF,SAAnBiF,EAAU/gB,KAGX,OAFAnC,KAAKujB,eAAe,QAASb,EAAMzb,EAAMgc,EAAapT,QACtD7P,KAAKujB,eAAe,MAAOb,EAAMzb,EAAMgc,EAAapT,GAGxD7P,KAAKwjB,gBAAgBH,EAAKX,EAAMzb,EAAMgc,EAAaC,EAAWrT,MAElE4O,EAAUve,UAAUsjB,gBAAkB,SAAUC,EAAIC,EAAKzc,EAAMgc,EAAaU,EAASvJ,GACjF,IACI7J,EADA1K,EAAQ7F,KAGD,cAAPyjB,GACAE,EAAQC,MAAQ,WACZ/d,EAAM0d,eAAe,QAASG,EAAKzc,EAAMgc,EAAa7I,GACtDnT,EAAKtE,MAAMqN,SAAW,WACtBO,EAAS0S,EAAYlU,aACX9H,EAAK8H,aACf9H,EAAKtE,MAAMiR,UAAa3M,EAAiB,aAAI,KAC7Cgc,EAAYtgB,MAAMiR,UAAY,IAElC+P,EAAQE,SAAW,WACfZ,EAAYtgB,MAAMmhB,UAAavT,EAAStJ,EAAK8H,aAAgB,MAEjE4U,EAAQ5Y,IAAM,WACVyF,oBAASvJ,GAAQ+I,SAAY,GAAI4D,UAAa,KAC9CqP,EAAYtgB,MAAMmhB,UAAY,GAC9Bje,EAAM0d,eAAe,MAAOG,EAAKzc,EAAMgc,EAAa7I,MAIxDuJ,EAAQC,MAAQ,WACZ/d,EAAM0d,eAAe,QAASG,EAAKzc,EAAMgc,EAAa7I,IAE1DuJ,EAAQ5Y,IAAM,WACVlF,EAAM0d,eAAe,MAAOG,EAAKzc,EAAMgc,EAAa7I,KAG5D,IAAI2J,YAAUJ,GAASA,QAAQ1c,IAEnCwX,EAAUve,UAAUqjB,eAAiB,SAAUM,EAAUnB,EAAMzb,EAAMgc,EAAapT,GAC9E7P,KAAK2E,OAAOsC,EAAM2W,GAClB5d,KAAK+C,IAAIkgB,EAAanF,IACtB9d,KAAK+C,IAAI2f,EAAM/E,GACE,QAAbkG,IACA7jB,KAAK+C,IAAIkgB,EAAalF,IACtB9W,EAAKpD,aAAa,cAAe,SACjC4M,aAAWxJ,EAAK4P,wBAA0BsL,gBAAiB,OAAQD,gBAAiB,SACpFQ,EAAK5f,UAAU6B,OAAOqZ,IACtBhe,KAAKwL,QAAQ,WAAYqE,KAGjC4O,EAAUve,UAAUojB,kBAAoB,SAAUxT,GAC9C,IAAIsD,EAAQpT,KAAKghB,eAAelR,IACW,IAAvC9P,KAAKmf,cAAcvP,QAAQwD,IAC3BpT,KAAKmf,cAAc7L,KAAKF,IAGhCqL,EAAUve,UAAU8gB,eAAiB,SAAUlR,GAC3C,SAAU7L,MAAMnC,KAAK9B,KAAK6B,QAAQqC,UAAU0L,QAAQE,IAExD2O,EAAUve,UAAU8jB,iBAAmB,SAAUlU,GAC7C,IAAIsD,EAAQpT,KAAKghB,eAAelR,GAChC9P,KAAKmf,cAAclF,OAAOja,KAAKmf,cAAcvP,QAAQwD,GAAQ,IAEjEqL,EAAUve,UAAUyhB,SAAW,SAAU1a,GACrC,IAAI4I,EACAoT,EAAc9V,UAAQlG,EAAM,IAAMiC,GACtC,IAAIoG,oBAAMrI,IAAUsF,YAAUtF,KAASgc,EAAYngB,UAAUqE,SAAShG,IAAtE,CAGA,IAAI+hB,GACA/gB,KAAMnC,KAAKkjB,UAAUvB,SAAStD,OAC9B5R,SAAUzM,KAAKkjB,UAAUvB,SAASlV,SAClC0W,eAAgBnjB,KAAKkjB,UAAUvB,SAASrD,QAExCoE,EAAOnD,SAAO,IAAM7B,EAAeuF,GAAa7b,kBACpDyI,GAAchO,QAASohB,EACnBnT,KAAM9P,KAAK2L,MAAM3L,KAAKghB,eAAeiC,IACrCG,YAAY,GAChB,IAAIC,EAAMH,EAAU/gB,KAEpB,GADAnC,KAAKwL,QAAQ,YAAaqE,IACtBA,EAAUE,OAAd,CAMA,GAHA/P,KAAKgkB,iBAAiBf,GACtBA,EAAYngB,UAAUC,IAAIkb,IAC1ByE,EAAK5f,UAAUC,IAAIib,IACK,SAAnBkF,EAAU/gB,KAGX,OAFAnC,KAAKikB,iBAAiB,QAASvB,EAAMzb,EAAMgc,EAAapT,QACxD7P,KAAKikB,iBAAiB,MAAOvB,EAAMzb,EAAMgc,EAAapT,GAG1D7P,KAAKkkB,kBAAkBb,EAAKpc,EAAMgc,EAAaP,EAAMQ,EAAWrT,MAEpE4O,EAAUve,UAAUgkB,kBAAoB,SAAUT,EAAIxc,EAAMkd,EAAUT,EAAKC,EAASvJ,GAChF,IACI7J,EACA6T,EACAC,EACAC,EAJAze,EAAQ7F,KAKD,YAAPyjB,GACAE,EAAQC,MAAQ,WACZS,EAAaF,EAASpV,aACtBoV,EAASxhB,MAAMmhB,UAAYO,EAAa,KACxCpd,EAAKtE,MAAMqN,SAAW,WACtBO,EAAS4T,EAASpV,aAClBqV,EAAand,EAAK8H,aAClB9H,EAAKtE,MAAMiR,UAAYwQ,EAAa,KACpCve,EAAMoe,iBAAiB,QAASP,EAAKzc,EAAMkd,EAAU/J,IAEzDuJ,EAAQE,SAAW,YACfS,EAAW/T,GAAU6T,EAAand,EAAK8H,eAC1BsV,IACTF,EAASxhB,MAAMmhB,UAAYQ,EAAS,OAG5CX,EAAQ5Y,IAAM,WACV9D,EAAKtE,MAAMC,QAAU,OACrBiD,EAAMoe,iBAAiB,MAAOP,EAAKzc,EAAMkd,EAAU/J,GACnD+J,EAASxhB,MAAMmhB,UAAY,GAC3BtT,oBAASvJ,GAAQ+I,SAAY,GAAI4D,UAAa,GAAIhR,QAAW,QAIjE+gB,EAAQC,MAAQ,WACZ/d,EAAMoe,iBAAiB,QAASP,EAAKzc,EAAMkd,EAAU/J,IAEzDuJ,EAAQ5Y,IAAM,WACVlF,EAAMoe,iBAAiB,MAAOP,EAAKzc,EAAMkd,EAAU/J,KAG3D,IAAI2J,YAAUJ,GAASA,QAAQ1c,IAEnCwX,EAAUve,UAAU+jB,iBAAmB,SAAUJ,EAAUnB,EAAMzb,EAAMgc,EAAapT,GAChF7P,KAAK2E,OAAO+d,EAAM/E,GAClB3d,KAAK2E,OAAOse,EAAanF,IACR,QAAb+F,IACA7jB,KAAK+C,IAAIkE,EAAM2W,GACf8E,EAAK5f,UAAU6B,OAAOqZ,IACtBhe,KAAK2E,OAAOse,EAAalF,IACzB9W,EAAKpD,aAAa,cAAe,QACjC4M,aAAWxJ,EAAK4P,wBAA0BsL,gBAAiB,QAASD,gBAAiB,UACrFliB,KAAKwL,QAAQ,WAAYqE,KAQjC4O,EAAUve,UAAUuE,cAAgB,WAChC,MAAO,aAEXga,EAAUve,UAAUqkB,iBAAmB,WACnC,IAAIhM,KAAatU,MAAMnC,KAAK9B,KAAK6B,QAAQqC,UACrCsgB,EAAUxkB,KAAK2L,MAAMhL,OACzB4X,EAAQjS,QAAQ,SAAUxC,GACtByb,SAAO,IAAMjC,EAAYxZ,GAAKD,aAAa,aAAc,GAAK2gB,MAUtE/F,EAAUve,UAAUukB,QAAU,SAAU3U,EAAMsD,GAC1C,IAAItP,EAAM9D,KAAK6B,QAIf,GAHIyN,oBAAM8D,KACNA,EAAQpT,KAAK2L,MAAMhL,QAEnBmD,EAAImN,mBAAqBmC,EAAO,CAChCpT,KAAK2L,MAAMsO,OAAO7G,EAAO,EAAGtD,GAC5B,IAAI4U,EAAe1kB,KAAK0gB,gBAAgB5Q,EAAMsD,GAC1CtP,EAAImN,oBAAsBmC,EAC1BtP,EAAIM,YAAYsgB,GAGhB5gB,EAAI0B,aAAakf,EAAc5gB,EAAII,SAASkP,IAEhD7P,eAAaR,IAAI2hB,EAAald,cAAc,IAAM8V,GAAa,QAAStd,KAAK4f,QAAS5f,MACtFuD,eAAaR,IAAI2hB,EAAald,cAAc,IAAM8V,GAAa,OAAQtd,KAAK6f,SAAU7f,MACtFA,KAAKukB,mBAETvkB,KAAKmf,iBACLnf,KAAK2kB,oBAAoB7gB,GACrBgM,EAAK0S,UACLxiB,KAAKygB,YAAW,EAAMrN,IAG9BqL,EAAUve,UAAUykB,oBAAsB,SAAU7gB,GAChD,IAAI+B,EAAQ7F,QACTiE,MAAMnC,KAAKgC,EAAII,UAAUoC,QAAQ,SAAUC,GACtCA,EAAGzD,UAAUqE,SAAS2W,KACtBjY,EAAMyd,kBAAkB/c,MASpCkY,EAAUve,UAAU0kB,WAAa,SAAUxR,GACvC,IAAItP,EAAM9D,KAAK6B,QAAQqC,SAASkP,GAC5B9D,oBAAMxL,KAGVmB,SAAOnB,GACP9D,KAAK2L,MAAMsO,OAAO7G,EAAO,GACzBpT,KAAKukB,mBACLvkB,KAAKmf,iBACLnf,KAAK2kB,oBAAoB3kB,KAAK6B,WAOlC4c,EAAUve,UAAUqf,OAAS,SAAUnM,GACnC,IAAItP,EAAM9D,KAAK6B,QAAQqC,SAASkP,GAC5B9D,oBAAMxL,IAAQwL,oBAAMiQ,SAAO,IAAMjC,EAAYxZ,KAGjDA,EAAII,SAAS,GAAG0J,SASpB6Q,EAAUve,UAAU+c,SAAW,SAAU7J,EAAOyR,GAC5C,IAAI/gB,EAAM9D,KAAK6B,QAAQqC,SAASkP,GAC5B9D,oBAAMxL,KAGNwL,oBAAMuV,KACNA,GAAW,GAEfA,EAAW7kB,KAAK+C,IAAIe,EA1xBT,UA0xB8B9D,KAAK2E,OAAOb,EA1xB1C,YAmyBf2a,EAAUve,UAAU4kB,WAAa,SAAU1R,EAAOiG,GAC9C,IAAIvV,EAAM9D,KAAK6B,QAAQqC,SAASkP,GAChC,IAAI9D,oBAAMxL,GAAV,CAGA,IAAIihB,EAAYjhB,EAAIsD,kBAChBiS,GACArZ,KAAK2E,OAAOb,EAAK3C,IACjBsP,aAAWsU,GAAa9E,SAAY,IAAKtP,gBAAiB,UAC1DoU,EAAUnX,UAGN9J,EAAIhB,UAAUqE,SAAS4W,MACvB/d,KAAKygB,YAAW,EAAOrN,GACvBpT,KAAK6hB,aAAa,WAAY7hB,KAAK6B,QAASkjB,IAEhD/kB,KAAK+C,IAAIe,EAAK3C,IACd4jB,EAAUlhB,aAAa,gBAAiB,QACxCkhB,EAAU/f,gBAAgB,eAUlCyZ,EAAUve,UAAUugB,WAAa,SAAUuE,EAAU5R,GACjD,IAAIvN,EAAQ7F,KACRmX,EAAOnX,KAAK6B,QAChB,GAAIyN,oBAAM8D,GACN,GAAwB,WAApBpT,KAAKsf,YAA2B0F,EAAU,CAC1C,IAAIlhB,EAAMqT,EAAKjT,SAASiT,EAAKlG,kBAAoB,GACjDjR,KAAKilB,WAAWD,EAAUlhB,EAAK9D,KAAKghB,eAAeld,WAGhDG,MAAMnC,KAAK9B,KAAK6B,QAAQqC,UAAUoC,QAAQ,SAAUC,GACnDV,EAAMof,WAAWD,EAAUze,EAAIV,EAAMmb,eAAeza,UAI3D,CACGzC,EAAM9D,KAAK6B,QAAQqC,SAASkP,GAChC,GAAI9D,oBAAMxL,KAASA,EAAIhB,UAAUqE,SAAS0W,IAAc/Z,EAAIhB,UAAUqE,SAAS4W,KAAeiH,EAC1F,OAGwB,WAApBhlB,KAAKsf,YACLtf,KAAKygB,YAAW,GAEpBzgB,KAAKilB,WAAWD,EAAUlhB,EAAKsP,KAI3CqL,EAAUve,UAAU+kB,WAAa,SAAUD,EAAUlhB,EAAKsP,GACtD,IAAI4P,EAAMlf,EAAII,SAAS,GACvB,IAAIJ,EAAIhB,UAAUqE,SAAShG,IAA3B,CAGA,GAAImO,oBAAM0T,IAAQgC,EACdhC,EAAMhjB,KAAKihB,iBAAiB7N,GAC5BtP,EAAIM,YAAY4e,GAChBhjB,KAAKkhB,eAAepd,QAEnB,GAAIwL,oBAAM0T,GACX,OAEJgC,EAAWhlB,KAAK4hB,OAAOoB,GAAOhjB,KAAK2hB,SAASqB,KAEhDvE,EAAUve,UAAUqE,eAAiB,WAEjC,OAAOvE,KAAKwE,cADK,mBAUrBia,EAAUve,UAAUwI,kBAAoB,SAAUC,EAASC,GAEvD,IAAK,IADDsc,EAAQllB,KAAK6B,QACRkC,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,YACD4E,EAAQ9F,UAAY7C,KAAK+C,IAAImiB,EAj3BnC,SAi3BqDllB,KAAK2E,OAAOugB,EAj3BjE,SAk3BM,MACJ,IAAK,SACD1U,oBAASxQ,KAAK6B,SAAW0O,OAAUD,aAAW3H,EAAQ4H,UACtD,MACJ,IAAK,QACDC,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAW3H,EAAQT,SACrD,MACJ,IAAK,aAC0B,WAAvBS,EAAQ2W,YACRtf,KAAK6B,QAAQgC,aAAa,uBAAwB,SAC9C7D,KAAKmf,cAAcxe,OAAS,GAC5BX,KAAKygB,YAAW,IAIpBzgB,KAAK6B,QAAQgC,aAAa,uBAAwB,WAMtEzD,GACI8c,gBAAeqB,KAChBE,EAAUve,UAAW,aAAS,GACjCE,GACI0I,WAAS,SACV2V,EAAUve,UAAW,aAAS,GACjCE,GACI0I,WAAS,SACV2V,EAAUve,UAAW,cAAU,GAClCE,GACI0I,WAAS,aACV2V,EAAUve,UAAW,kBAAc,GACtCE,GACIge,aAAYD,KACbM,EAAUve,UAAW,iBAAa,GACrCE,GACI+c,WACDsB,EAAUve,UAAW,eAAW,GACnCE,GACI+c,WACDsB,EAAUve,UAAW,iBAAa,GACrCE,GACI+c,WACDsB,EAAUve,UAAW,gBAAY,GACpCE,GACI+c,WACDsB,EAAUve,UAAW,eAAW,GACnCE,GACI+c,WACDsB,EAAUve,UAAW,iBAAa,GACrCue,EAAYre,GACR2I,yBACD0V,IAELzV,aC58BE3J,GAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAS5DukB,GAAY,YAGZC,GAAU,YACVC,GAAS,gBAETC,GAAa,aAEbC,GAAW,aACXC,GAAY,cAEZC,GAAU,wBAGVC,GAAW,aACXC,GAAO,cAKPC,GAA0B,SAAUjkB,GAEpC,SAASikB,IACL,OAAkB,OAAXjkB,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAoB/D,OAtBAX,GAAUumB,EAAUjkB,GAIpBvB,IACI0I,WAAS,KACV8c,EAAS1lB,UAAW,eAAW,GAClCE,IACI0I,WAAS,KACV8c,EAAS1lB,UAAW,UAAM,GAC7BE,IACI0I,YAAS,IACV8c,EAAS1lB,UAAW,iBAAa,GACpCE,IACI8c,gBAAe0I,IAChBA,EAAS1lB,UAAW,aAAS,GAChCE,IACI0I,WAAS,KACV8c,EAAS1lB,UAAW,YAAQ,GAC/BE,IACI0I,WAAS,KACV8c,EAAS1lB,UAAW,WAAO,GACvB0lB,GACTxb,iBAcEyb,GAA6B,SAAUlkB,GAMvC,SAASkkB,EAAYjkB,EAASC,GAC1B,IAAIgE,EAAQlE,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAInD,OAHA6F,EAAMqd,UAAY,IAAIa,gBACtBle,EAAMigB,UACNjgB,EAAMkgB,WAAY,EACXlgB,EAy+BX,OAn/BAxG,GAAUwmB,EAAalkB,GAgBvBkkB,EAAY3lB,UAAU6B,UAAY,WAC9B,GAA6B,mBAAzB/B,KAAK6B,QAAQwK,QAA8B,CAC3CrM,KAAK6B,QAAQc,MAAMC,QAAU,OAC7B5C,KAAK6B,QAAQiB,UAAU6B,OAAO,KAAO3E,KAAKyE,iBAC1CzE,KAAK6B,QAAQiB,UAAU6B,OAAO,aAC9B,IAAIqhB,EAASC,WAAS,gBAAiBjmB,KAAK6B,SACxCqkB,EAAKC,gBAAc,MACvBnmB,KAAKomB,UAAYpmB,KAAK6B,QACtB7B,KAAK6B,QAAUqkB,EACflmB,KAAK6B,QAAQiB,UAAUC,IAAI,aAC3B/C,KAAK6B,QAAQiB,UAAUC,IAAI,KAAO/C,KAAKyE,iBACvC4hB,WAAS,gBAAiBL,EAAQhmB,KAAK6B,SAClC7B,KAAK6B,QAAQW,KACdxC,KAAK6B,QAAQW,GAAKC,cAAYzC,KAAKyE,oBAQ/CohB,EAAY3lB,UAAU8C,OAAS,WAC3BhD,KAAKsmB,cACLtmB,KAAK8Q,cACL9Q,KAAK6L,cAETga,EAAY3lB,UAAUomB,YAAc,WAChC,IAAIC,EAAUvmB,KAAKwmB,aACdD,IACDA,EAAUJ,gBAAc,OAASxiB,UAAW8hB,KAC5C9Y,SAASoS,KAAK3a,YAAYmiB,IAE1BvmB,KAAKoc,UACLmK,EAAQzjB,UAAUC,IAAI/C,KAAKoc,UAE3Bpc,KAAK6C,WACL0jB,EAAQzjB,UAAUC,IAxGpB,SA0GF0N,aAAWzQ,KAAK6B,SAAW6O,KAAQ,OAAQuP,SAAY,MACvDsG,EAAQniB,YAAYpE,KAAK6B,SACzB7B,KAAK6B,QAAQc,MAAM8jB,OAASzmB,KAAK0mB,aAErCb,EAAY3lB,UAAU4Q,YAAc,WAC3B9Q,KAAK2L,MAAMhL,SACZX,KAAK2L,MAAQgb,WAASC,sBAAsB5mB,KAAK6B,SACjD7B,KAAK6B,QAAQga,UAAY,IAE7B,IAAIqK,EAAKlmB,KAAK6mB,YAAY7mB,KAAK2L,OAC/Bmb,SAAOpnB,MAAMQ,UAAU+D,MAAMnC,KAAKokB,EAAGhiB,UAAWlE,KAAK6B,SACrD7B,KAAK6B,QAAQiB,UAAUC,IAAI,kBAE/B8iB,EAAY3lB,UAAU2L,WAAa,WAC/B,IAAI0a,EAAUvmB,KAAKwmB,aACnB,GAAIxmB,KAAKM,OAAQ,CAGb,IAAK,IAFDA,OAAS,EACTymB,EAAcliB,YAAU7E,KAAKM,QACxBU,EAAI,EAAGuY,EAAMwN,EAAYpmB,OAAQK,EAAIuY,EAAKvY,IAC/CV,EAASymB,EAAY/lB,GACjBiB,UAAQ+kB,MACR,IAAI9jB,QAAM5C,GAAUkG,QAASxG,KAAKoD,aAAaC,KAAKrD,QAGpDuD,eAAaR,IAAIzC,EAAQ,cAAeN,KAAKinB,aAAcjnB,MAGnEA,KAAKknB,cAAgB5mB,EACrB,IAAK,IAAIyD,EAAK,EAAGe,EAAKqiB,sBAAoBnnB,KAAKknB,eAAgBnjB,EAAKe,EAAGnE,OAAQoD,IAAM,CACjF,IAAIqjB,EAAWtiB,EAAGf,GAClBR,eAAaR,IAAIqkB,EAAU,SAAUpnB,KAAKyD,cAAezD,OAG5DiC,UAAQI,WACTkB,eAAaR,IAAIwjB,EAAS,YAAavmB,KAAKqnB,aAAcrnB,MAC1DuD,eAAaR,IAAI4J,SAAU,YAAa3M,KAAKsnB,iBAAkBtnB,OAEnEuD,eAAaR,IAAI4J,SAAU,QAAS3M,KAAK8L,aAAc9L,MACvD,IAAIiM,iBAAesa,GACfra,UAAWlM,KAAKunB,gBAAgBlkB,KAAKrD,MACrCsK,YACIkd,UAAWrC,GACXsC,QAjJF,UAkJE/I,MA3JJ,QA4JIgJ,UAxJA,YAyJAC,WAAYrC,GACZsC,OA7JH,YAgKLnI,eAAa8G,GAAW7G,SAAU,kBAEtCmG,EAAY3lB,UAAUonB,iBAAmB,SAAU1hB,GAC3CuH,UAAQvH,EAAEtF,OAAQ,IAAMmlB,MAAazlB,KAAKwmB,cAC1CxmB,KAAK6nB,UAAU7nB,KAAK8lB,OAAOnlB,OAAQiF,IAG3CigB,EAAY3lB,UAAUqnB,gBAAkB,SAAU3hB,GAE9C,OADAA,EAAEiB,iBACMjB,EAAEyI,QACN,KAAK8W,GACL,IAnKE,UAoKEnlB,KAAK8nB,iBAAiBliB,GACtB,MACJ,KAAK0f,GACDtlB,KAAK+nB,qBAAqBniB,GAC1B,MACJ,IA9KI,YA+KA5F,KAAKgoB,kBAAkBpiB,GACvB,MACJ,IArLA,QAsLI5F,KAAK+nB,qBAAqBniB,GAC1B,MACJ,IAvLC,SAwLG5F,KAAKgoB,kBAAkBpiB,KAInCigB,EAAY3lB,UAAU4nB,iBAAmB,SAAUliB,GAC/C,IACIqiB,EADUjoB,KAAKwmB,aACDtiB,SAASlE,KAAK8lB,OAAOnlB,QACnCunB,EAAatiB,EAAEyI,SAAW8W,GAAY,EAAI8C,EAAIhX,kBAAoB,EAClEkX,EAASD,EACTE,EAAMpoB,KAAKqoB,aAAaJ,EAAK7C,IAC7BgD,IACAD,EAASnoB,KAAKsoB,OAAOL,EAAKG,GAC1BA,EAAItlB,UAAU6B,OAAOygB,IACrBxf,EAAEyI,SAAW8W,GAAYgD,IAAWA,IAChCA,KAAYviB,EAAEyI,SAAW8W,GAAY8C,EAAIhX,mBAAqB,KAC9DkX,EAASD,IAGjB,IAAIK,EAAMN,EAAI/jB,SAASikB,GACvBA,EAASnoB,KAAKwoB,UAAUD,EAAKJ,EAAQviB,EAAEyI,QACvC4Z,EAAI/jB,SAASikB,GAAQrlB,UAAUC,IAAIqiB,IACnC6C,EAAI/jB,SAASikB,GAAQva,SAEzBiY,EAAY3lB,UAAUsoB,UAAY,SAAUD,EAAKnV,EAAO/E,GACpD,IACI4Z,EADUjoB,KAAKwmB,aACDtiB,SAASlE,KAAK8lB,OAAOnlB,QAQvC,OAPI4nB,EAAIzlB,UAAUqE,SAASqe,KAAc+C,EAAIzlB,UAAUqE,SAASue,KAAa6C,EAAIzlB,UAAUqE,SAASwe,OAC9FtX,IAAW8W,IAAe9W,IAAWiX,GAAelS,IAAUA,OAEpEmV,EAAMN,EAAI/jB,SAASkP,IACXtQ,UAAUqE,SAASqe,KAAc+C,EAAIzlB,UAAUqE,SAASue,KAAa6C,EAAIzlB,UAAUqE,SAASwe,OAChGvS,EAAQpT,KAAKwoB,UAAUD,EAAKnV,EAAO/E,IAEhC+E,GAEXyS,EAAY3lB,UAAU6nB,qBAAuB,SAAUniB,GACnD,IAAIiK,EACA0W,EAAUvmB,KAAKwmB,aACfyB,EAAM1B,EAAQriB,SAASlE,KAAK8lB,OAAOnlB,QACnCynB,EAAMpoB,KAAKqoB,aAAaJ,EAAK7C,IACjC,GAAIgD,EAAK,CACL,IAAID,EAASnoB,KAAKsoB,OAAOL,EAAKG,GAC1BtC,EAAS9lB,KAAK8lB,OAAO5gB,OAAOijB,GAC5B/U,OAAQ,EACRtD,EAAO9P,KAAKyoB,QAAQ3C,GACpBhW,EAAKnE,MAAMhL,QACXX,KAAK8lB,OAAOxS,KAAK6U,GACjBnoB,KAAK0oB,SAASN,EAAKtY,EAAM,KAAM,KAAMlK,GACrCwiB,EAAItlB,UAAU6B,OAAOygB,IACrBgD,EAAItlB,UAAUC,IAAIwiB,IA1OtB,UA2OQ3f,EAAEyI,SACFwB,GAAchO,QAASumB,EAAKtY,KAAMA,GAClC9P,KAAKwL,QAAQ,SAAUqE,IAE3BuY,EAAIxa,QACJqa,EAAM1B,EAAQriB,SAASlE,KAAK8lB,OAAOnlB,QACnCyS,EAAQpT,KAAKwoB,UAAUP,EAAI/jB,SAAS,GAAI,EAAG0B,EAAEyI,QAC7C4Z,EAAI/jB,SAASkP,GAAOtQ,UAAUC,IAAIqiB,IAClC6C,EAAI/jB,SAASkP,GAAOxF,SAnPxB,UAsPQhI,EAAEyI,SACF+Z,EAAItlB,UAAU6B,OAAOygB,IACrBgD,EAAItlB,UAAUC,IAAIwiB,IAClB1V,GAAchO,QAASumB,EAAKtY,KAAMA,GAClC9P,KAAKwL,QAAQ,SAAUqE,GACvB7P,KAAK6nB,UAAU,KAAMjiB,MAKrCigB,EAAY3lB,UAAU8nB,kBAAoB,SAAUpiB,GAChD,GAAI5F,KAAK8lB,OAAOnlB,OAAQ,CACpB,IAAI4lB,EAAUvmB,KAAKwmB,aACnBxmB,KAAK6nB,UAAU7nB,KAAK8lB,OAAOnlB,OAAQiF,GACnC,IAAIqiB,EAAM1B,EAAQriB,SAASlE,KAAK8lB,OAAOnlB,QACnCgoB,EAAM3oB,KAAKqoB,aAAaJ,EAAK1C,IAC7BoD,IACAA,EAAI9kB,aAAa,gBAAiB,SAClC8kB,EAAI7lB,UAAU6B,OAAO4gB,IACrBoD,EAAI7lB,UAAUC,IAAIqiB,IAClBuD,EAAI/a,aAzQP,WA6QGhI,EAAEyI,QACFrO,KAAK6nB,UAAU,KAAMjiB,IAIjCigB,EAAY3lB,UAAUuD,cAAgB,SAAUmC,GAC5C5F,KAAK6nB,UAAU,KAAMjiB,IAEzBigB,EAAY3lB,UAAUkD,aAAe,SAAUwC,GAC3C5F,KAAK+lB,WAAY,EACjB/lB,KAAKinB,aAAarhB,EAAEsB,gBAExB2e,EAAY3lB,UAAU+mB,aAAe,SAAUrhB,GAC3CA,EAAEiB,iBACF7G,KAAK6nB,UAAU,KAAMjiB,GACjB5F,KAAK4oB,QAAQhjB,EAAEtF,UACXsF,EAAEijB,eACF7oB,KAAK0oB,SAAS,KAAM,KAAM9iB,EAAEijB,eAAe,GAAGC,QAAU,EAAGljB,EAAEijB,eAAe,GAAGE,QAAU,EAAGnjB,GAG5F5F,KAAK0oB,SAAS,KAAM,KAAM9iB,EAAEkjB,QAAU,EAAGljB,EAAEmjB,QAAU,EAAGnjB,KAOpEigB,EAAY3lB,UAAUgU,MAAQ,WAC1BlU,KAAK6nB,aAEThC,EAAY3lB,UAAU2nB,UAAY,SAAUmB,EAASpjB,GAGjD,QAFgB,IAAZojB,IAAsBA,EAAU,QAC1B,IAANpjB,IAAgBA,EAAI,MACpB5F,KAAKipB,gBAOL,IAAK,IAND/C,OAAK,EACLpW,OAAO,EACPnE,OAAQ,EACRud,OAAY,EACZC,OAAkB,EAClB5C,EAAUvmB,KAAKwmB,aACV4C,EAAM7C,EAAQtV,kBAAmBmY,EAAMJ,EAASI,IAErDzd,GADAmE,EAAO9P,KAAK8lB,OAAOnlB,OAASX,KAAKyoB,QAAQzoB,KAAK8lB,QAAU,MACzChW,EAAKnE,MAAQ3L,KAAK2L,MAEjCwd,GAAoBtnB,QADpBqkB,EAAKK,EAAQriB,SAASklB,EAAM,GACKC,WAAYvZ,EAAMnE,MAAOA,EAAO2d,MAAO1jB,EAAGmK,QAAQ,GACnF/P,KAAKwL,QAAQ,cAAe2d,GACvBA,EAAgBpZ,SACjB/P,KAAKupB,gBAAgBrD,GAAI,GACzBlmB,KAAK8lB,OAAOnlB,OAASqoB,EAAUA,EAAU,EAAIA,EAC7CE,GAAcrnB,QAASqkB,EAAImD,WAAYvZ,EAAMnE,MAAOA,GACpD3L,KAAKwL,QAAQ,UAAW0d,KAKxCrD,EAAY3lB,UAAU+oB,cAAgB,WAClC,OAAQjpB,KAAK8lB,OAAOnlB,OAAS,GAAMX,KAAK6B,QAAQiB,UAAUqE,SAAS,kBAAoBoF,YAAUvM,KAAK6B,SAAS2nB,WAEnH3D,EAAY3lB,UAAU0oB,QAAU,SAAUtoB,GACtC,IAAIsoB,GAAU,EACd,GAAI5oB,KAAKypB,OAAQ,CACbb,GAAU,EAEV,IAAK,IADDa,EAASzpB,KAAKypB,OAAOC,MAAM,KACtB1oB,EAAI,EAAGuY,EAAMjZ,EAAOwC,UAAUnC,OAAQK,EAAIuY,EAAKvY,IACpD,GAAIyoB,EAAO7Z,QAAQtP,EAAOwC,UAAU9B,KAAO,EAAG,CAC1C4nB,GAAU,EACV,OAIZ,OAAOA,GAQX/C,EAAY3lB,UAAU+T,KAAO,SAAUnF,EAAKsJ,GACxCpY,KAAK0oB,SAAS,KAAM,KAAM5Z,EAAKsJ,IAEnCyN,EAAY3lB,UAAUwoB,SAAW,SAAUiB,EAAI7Z,EAAMhB,EAAKsJ,EAAMxS,QAChD,IAARkJ,IAAkBA,EAAM,QACf,IAATsJ,IAAmBA,EAAO,QACpB,IAANxS,IAAgBA,EAAI,MACxB,IAAIsgB,EAEAK,EAAUvmB,KAAKwmB,aACnB,GAAImD,EAAI,CAEJ,GADAzD,EAAKlmB,KAAK6mB,YAAY/W,EAAKnE,OACvB1J,UAAQI,SAAU,CAClBkkB,EAAQqD,UAAUjnB,MAAMC,QAAU,OAClC,IAAIinB,GAASlO,KAAM7L,EAAK6L,KAAMH,QAASsO,sBACnCC,EAAQ,IAAInE,GAAS5lB,KAAK2L,MAAM,GAAI,KAAMke,GAAM,GAChDG,EAAMhqB,KAAK6mB,aAAakD,IAAQ7lB,SAAS,GAC7C8lB,EAAIlnB,UAAUC,IAAIsiB,IAClBa,EAAG1gB,aAAawkB,EAAK9D,EAAGhiB,SAAS,IAErCgiB,EAAGvjB,MAAM8jB,OAASzmB,KAAK6B,QAAQc,MAAM8jB,OACrCF,EAAQniB,YAAY8hB,QAGpBA,EAAKlmB,KAAK6B,QAEL7B,KAAKiqB,SAASN,EAAKA,EAAGO,YAAc,MAC7C,IACIra,GAAchO,QAASqkB,EAAIva,MADnBge,EAAK7Z,EAAKnE,MAAQ3L,KAAK2L,MACU0d,WAAYvZ,EAAMwZ,MAAO1jB,EAAGmK,QAAQ,GACjF/P,KAAKwL,QAAQ,aAAcqE,GACvBA,EAAUE,OACV/P,KAAK8lB,OAAOqE,OAGZnqB,KAAKoqB,YAAYT,EAAIzD,EAAIpX,EAAKsJ,GAC9BpY,KAAKupB,gBAAgBrD,KAG7BL,EAAY3lB,UAAUkqB,YAAc,SAAUT,EAAIzD,EAAIpX,EAAKsJ,GAGvD,GADApY,KAAKqqB,gBAAgBnE,GACjBA,IAAOlmB,KAAK6B,QAAS,CAKrB,IAJIyoB,EAAUC,YAAUrE,EAAI,KAAM9N,EAAMtJ,IAC5Bc,QAAQ,UAAY,IAC5BwI,GAAc8N,EAAG/d,aAEjBmiB,EAAQ1a,QAAQ,WAAa,EAAG,CAEhCd,GADI0b,EAASC,MAAIvE,EAAI,MAAQjW,GAAG,EAAOC,GAAG,IAAUpB,IAAKA,EAAKsJ,KAAMA,KACvDtJ,IAGjB,IADAwb,EAAUC,YAAUrE,EAAI,KAAM9N,EAAMtJ,IACxBc,QAAQ,SAAW,EAAG,CAE9BwI,GADIoS,EAASC,MAAIvE,EAAI,MAAQjW,GAAG,EAAMC,GAAG,IAAWpB,IAAKA,EAAKsJ,KAAMA,KACtDA,WAIlB,GAAInW,UAAQI,SACRyM,EAAM4b,OAAO1qB,KAAK6B,QAAQc,MAAMmM,IAAI6b,QAnBnC,KAmB+C,KAChDvS,EAAOsS,OAAO1qB,KAAK6B,QAAQc,MAAMyV,KAAKuS,QApBrC,KAoBiD,SAEjD,CACD,IACIH,EADAI,EAAI5qB,KAAK6C,UAAY,OAAS,QAElCiM,GADI0b,EAASjW,oBAAkBoV,EAAIiB,EAAG,QACzB9b,IACbsJ,EAAOoS,EAAOpS,KACd,IAAIkS,EACAO,GADAP,EAAUC,YAAUrE,EAAI,KAAMlmB,KAAK6C,UAAYuV,EAAO8N,EAAG/d,YAAciQ,EAAMtJ,IACxDc,QAAQ,SAAW,GAAK0a,EAAQ1a,QAAQ,UAAY,EACzEib,IAEAzS,GADAoS,EAASjW,oBAAkBoV,EAAI3pB,KAAK6C,UAAY,QAAU,OAAQ,QACpDuV,OAEdpY,KAAK6C,WAAagoB,KAClBzS,EAAQpY,KAAK6C,WAAagoB,EAAczS,EAAOA,EAAO8N,EAAG/d,aAEzDmiB,EAAQ1a,QAAQ,WAAa,IAE7Bd,GADA0b,EAASC,MAAIvE,EAAI,MAAQjW,GAAG,EAAOC,GAAG,IAAUpB,IAAKA,EAAKsJ,KAAMA,KACnDtJ,KAIzB9O,KAAKqqB,gBAAgBnE,GAAI,GACzBA,EAAGvjB,MAAMmM,IAAMA,EA3CN,KA4CToX,EAAGvjB,MAAMyV,KAAOA,EA5CP,MA8CbyN,EAAY3lB,UAAUmqB,gBAAkB,SAAUnE,EAAI3Z,QAChC,IAAdA,IAAwBA,GAAY,GACxC2Z,EAAGvjB,MAAMmoB,WAAave,EAAY,SAAW,GAC7C2Z,EAAGvjB,MAAMC,QAAU2J,EAAY,QAAU,QAE7CsZ,EAAY3lB,UAAU2mB,YAAc,SAAUlb,GAC1C,IAAI9F,EAAQ7F,KACR+qB,EAAW/qB,KAAKgrB,SAASrf,EAAO,WAChCsf,GACAF,SAAUA,EACVG,WAAY,OACZC,aAAc,SAAU/Q,GACpBA,EAAKgR,QAAQlP,gBACTxL,KAAM,WACNuP,SAAU,OAGlBoL,YAAa,SAAUjR,GAQnB,GAPIA,EAAKgR,QAAQE,YACblR,EAAKtK,KAAKhN,UAAUC,IAAIyiB,IACxBpL,EAAKtK,KAAK9K,gBAAgB,UAE1B+lB,GAAa3Q,EAAKgR,QAAQ5P,SAAYpB,EAAKgR,QAAQE,WACnDlR,EAAKtK,KAAKhN,UAAUC,IAAI,eAExBqX,EAAKgR,QAAQzf,OAASyO,EAAKgR,QAAQzf,MAAMhL,OAAQ,CACjD,IAAI4qB,EAAOpF,gBAAc,QAAUxiB,UAAWmmB,oBAC9C1P,EAAKtK,KAAK1L,YAAYmnB,GACtBnR,EAAKtK,KAAKjM,aAAa,gBAAiB,QACxCuW,EAAKtK,KAAKjM,aAAa,gBAAiB,SACxCuW,EAAKtK,KAAK9K,gBAAgB,QAC1BoV,EAAKtK,KAAKhN,UAAUC,IAAI,qBAE5B,IAAI8M,GAAcC,KAAMsK,EAAKgR,QAASvpB,QAASuY,EAAKtK,MACpDjK,EAAM2F,QAAQ,mBAAoBqE,KAGtCqW,EAAKS,WAAS6E,WAAWxrB,KAAKyrB,YAAY9f,EAAM1H,SAAUgnB,GAAiB,GAE/E,OADA/E,EAAGriB,aAAa,WAAY,KACrBqiB,GAEXL,EAAY3lB,UAAUurB,YAAc,SAAU9f,GAG1C,IAAK,IAFDmE,EACA4b,KACK1qB,EAAI,EAAGuY,EAAM5N,EAAMhL,OAAQK,EAAIuY,EAAKvY,IACzC8O,EAAOnE,EAAM3K,GAAG2qB,WAChBD,EAAUpY,KAAKxD,GAEnB,OAAO4b,GAEX7F,EAAY3lB,UAAUmnB,aAAe,SAAUzhB,GAC3C,IAAI2gB,EAAUvmB,KAAKwmB,aACfvf,EAAOrB,EAAEtF,OACTioB,EAAMvoB,KAAK4rB,MAAM3kB,GACrB,GAAIshB,GAAOpb,UAAQob,EAAK,IAAM9C,IAAU,CACpC,IAAI2C,EAAM7I,SAAO,IAAM6F,GAASmB,GAC5B6B,GACAA,EAAItlB,UAAU6B,OAAOygB,IAEzBmD,EAAIzlB,UAAUC,IAAIqiB,IACbplB,KAAK6rB,iBACN7rB,KAAK8L,aAAalG,KAI9BigB,EAAY3lB,UAAU8qB,SAAW,SAAUrf,EAAOmgB,GAC9C,IAAK,IAAI9qB,EAAI,EAAGuY,EAAM5N,EAAMhL,OAAQK,EAAIuY,EAAKvY,IACzC,GAAI2K,EAAM3K,GAAG8qB,GACT,OAAO,EAGf,OAAO,GAEXjG,EAAY3lB,UAAUsmB,WAAa,WAC/B,OAAOrZ,UAAQnN,KAAK6B,QAAS,IAAM4jB,KAEvCI,EAAY3lB,UAAU4L,aAAe,SAAUlG,GAC3C,GAAI5F,KAAK+lB,UACL/lB,KAAK+lB,WAAY,MAEhB,CACD,IAAIQ,EAAUvmB,KAAKwmB,aACfvf,EAAOrB,EAAEtF,OACTioB,EAAMvoB,KAAK4rB,MAAM3kB,GACjB8kB,EAAaxD,EAAMpb,UAAQob,EAAK,IAAM9C,IAAW,KACjDuG,EAAWzD,GAAOwD,GAAcxF,EAAQnf,kBAAkB5E,KAAOupB,EAAW3kB,kBAAkB5E,GAClG,GAAIwpB,GAAuB,UAAXpmB,EAAEmU,OAAqBwO,EAAIzlB,UAAUqE,SAASke,IAAS,CACnErlB,KAAKisB,cAAc1D,GACnB,IAAIzC,EAAS9lB,KAAKiqB,SAAS1B,EAAI2B,aAE3Bra,GAAchO,QAAS0mB,EAAKzY,KAD5BA,EAAO9P,KAAKyoB,QAAQ3C,IAExB9lB,KAAKwL,QAAQ,SAAUqE,GAE3B,GAAImc,IAAwB,cAAXpmB,EAAEmU,MAAwB9X,UAAQI,UAAYrC,KAAK6rB,iBAAkB,CAClF,IAAI3F,OAAK,EACT,GAAIqC,EAAIzlB,UAAUqE,SAASke,IAAS,CAChCa,EAAKK,EAAQriB,SAASlE,KAAK8lB,OAAOnlB,OAAS,GAC3CX,KAAKupB,gBAAgBrD,IACjByC,EAAM3oB,KAAKqoB,aAAanC,EAAIX,MAE5BoD,EAAI7lB,UAAU6B,OAAO4gB,IAEzBtgB,SAAOsjB,EAAIrO,YACXla,KAAK8lB,OAAOqE,WAGZ,IAAK5B,EAAIzlB,UAAUqE,SAASqe,IAAY,CACpC,IAAI0G,GAAc,EACdjE,EAAMM,EAAIrO,WACViS,EAASnsB,KAAKsoB,OAAOL,EAAKM,GAC9B,IAAKtmB,UAAQI,SAAU,CACnB,IAAI+pB,EAASpsB,KAAKsoB,OAAO/B,EAAS0B,GAIlC,GAHIjoB,KAAK8lB,OAAOsG,KAAYD,IACxBD,GAAc,GAEdE,IAAWpsB,KAAK8lB,OAAOnlB,SAAsB,cAAXiF,EAAEmU,MAAwBmS,GAAc,CAC1E,IAAIvD,GAAAA,EAAM3oB,KAAKqoB,aAAaJ,EAAK1C,MAE7BoD,EAAI7lB,UAAU6B,OAAO4gB,IAEzBvlB,KAAK6nB,UAAUuE,EAAS,EAAGxmB,IAGnC,GAAIsmB,EAAa,CACb,IACIpc,EADAuc,EAAMrsB,KAAK8lB,OAAO5gB,OAAOinB,IACzBrc,EAAO9P,KAAKyoB,QAAQ4D,IACf1gB,MAAMhL,QACI,cAAXiF,EAAEmU,MACF/Z,KAAKisB,cAAc1D,GAEvBA,EAAI1kB,aAAa,gBAAiB,QAClC7D,KAAK8lB,OAAOxS,KAAK6Y,GACjBnsB,KAAK0oB,SAASH,EAAKzY,EAAM,KAAM,KAAMlK,IAGtB,cAAXA,EAAEmU,MACF/Z,KAAK6nB,UAAU,KAAMjiB,SAQpB,OAAjBqB,EAAKoF,SAAoBpF,EAAKoI,gBAAkBkX,GAC3CgC,GAAQA,EAAI/gB,cAAc,aAC3BxH,KAAK6nB,UAAU,KAAMjiB,KAMzCigB,EAAY3lB,UAAU+rB,cAAgB,SAAUtC,GAC5C,IAAIhB,EAAM3oB,KAAKqoB,aAAasB,EAAGta,cAAekW,IAC1CoD,GACAA,EAAI7lB,UAAU6B,OAAO4gB,IAEzBoE,EAAG7mB,UAAU6B,OAAOygB,IACpBuE,EAAG7mB,UAAUC,IAAIwiB,KAErBM,EAAY3lB,UAAUmoB,aAAe,SAAUnC,EAAIoG,GAC/C,IAAK,IAAItrB,EAAI,EAAGuY,EAAM2M,EAAGhiB,SAASvD,OAAQK,EAAIuY,EAAKvY,IAC/C,GAAIklB,EAAGhiB,SAASlD,GAAG8B,UAAUqE,SAASmlB,GAClC,OAAOpG,EAAGhiB,SAASlD,GAG3B,OAAO,MAEX6kB,EAAY3lB,UAAUuoB,QAAU,SAAU3C,GAEtC,IAAIuG,GADJvG,EAASA,EAAO7hB,SACCkmB,MAEjB,OADYnqB,KAAKusB,SAASzG,GACbuG,IAEjBxG,EAAY3lB,UAAUqsB,SAAW,SAAUzG,GAEvC,IAAK,IADDna,EAAQ3L,KAAK2L,MACR3K,EAAI,EAAGA,EAAI8kB,EAAOnlB,OAAQK,IAC/B2K,EAAQA,EAAMma,EAAO9kB,IAAI2K,MAE7B,OAAOA,GAEXka,EAAY3lB,UAAUooB,OAAS,SAAUpC,EAAIyD,EAAI6C,QAC7B,IAAZA,IAAsBA,GAAU,GACpC,IAAIH,EAAM3sB,MAAMQ,UAAU0P,QAAQ9N,KAAKokB,EAAGhiB,SAAUylB,GAIpD,OAHI6C,GAAWtG,EAAGhiB,SAAS,GAAGpB,UAAUqE,SAASke,KAC7CgH,IAEGA,GAEXxG,EAAY3lB,UAAU0rB,MAAQ,SAAU7mB,GACpC,MAAqB,OAAjBA,EAAKsH,QACEtH,EAEJoI,UAAQpI,EAAM,OASzB8gB,EAAY3lB,UAAUwI,kBAAoB,SAAUC,EAASC,GAEzD,IAAK,IADD2d,EAAUvmB,KAAKwmB,aACVziB,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,WACG6E,EAAQwT,UACRmK,EAAQzjB,UAAU6B,OAAOiE,EAAQwT,UAEjCzT,EAAQyT,UACRmK,EAAQzjB,UAAUC,IAAI4F,EAAQyT,UAElC,MACJ,IAAK,YACDmK,EAAQzjB,UAAU2pB,OAnoB5B,SAooBU,MACJ,IAAK,SACDzsB,KAAK6nB,YACL7nB,KAAKypB,OAAS9gB,EAAQ8gB,OACtB,MACJ,IAAK,kBACDzpB,KAAK0sB,eACL1sB,KAAK6rB,gBAAkBljB,EAAQkjB,gBAC/B7rB,KAAK6L,aACL,MACJ,IAAK,SACD7L,KAAK0sB,eACL1sB,KAAKM,OAASqI,EAAQrI,OACtBN,KAAK6L,aACL,MACJ,IAAK,QAKD,IAAK,IAJDwgB,OAAM,EACNvG,OAAS,EACThW,OAAO,EACPjH,EAAOtJ,OAAOsJ,KAAKF,EAAQgD,OACtB3K,EAAI,EAAGA,EAAI6H,EAAKlI,OAAQK,KAC7B8kB,EAAS9lB,KAAK2sB,oBAAoBhkB,KAAa+hB,OAAO7hB,EAAK7H,MAChDL,QAAUX,KAAKwmB,aAAatiB,SAASvD,SAC5C0rB,EAAMvG,EAAOqE,MACbra,EAAO9P,KAAKusB,SAASzG,GACrB9lB,KAAK4sB,aAAa9c,EAAKuc,IAAOvc,EAAKuc,GAAK1Q,MACxC3b,KAAK4kB,WAAW9U,EAAMgW,EAAQuG,IAElCvG,EAAOnlB,OAAS,KAMpCklB,EAAY3lB,UAAUysB,oBAAsB,SAAUhkB,EAASyK,EAAOiZ,GAClEjZ,EAAME,KAAK+Y,GACX,IAAI9rB,EAAMhB,OAAOsJ,KAAKF,EAAQgD,MAAM0gB,IAAMlC,MAC1C,GAAY,UAAR5pB,EAAiB,CACjB,IAAIuP,EAAOnH,EAAQgD,MAAM0gB,GACzBrsB,KAAK2sB,oBAAoB7c,EAAMsD,EAAOsX,OAAOnrB,OAAOsJ,KAAKiH,EAAKnE,OAAOwe,YAGzD,kBAAR5pB,GAA2B6S,EAAMzS,OAAS,GAC1CyS,EAAM+W,MAGd,OAAO/W,GAEXyS,EAAY3lB,UAAU0kB,WAAa,SAAU9U,EAAMgW,EAAQuG,GACvDvc,EAAKmK,OAAOoS,EAAK,GACjB,IAAIQ,EAAM7sB,KAAKwmB,aAAatiB,SACxB4hB,EAAOnlB,OAASksB,EAAIlsB,QACpBsE,SAAO4nB,EAAI/G,EAAOnlB,QAAQuD,SAASmoB,KAO3CxG,EAAY3lB,UAAUwsB,aAAe,WACjC,IAAInG,EAAUvmB,KAAKwmB,aACnB,GAAIxmB,KAAKM,OAAQ,CAIb,IAAK,IAHDA,OAAS,EACT2C,OAAc,EACd8jB,EAAcliB,YAAU7E,KAAKM,QACxBU,EAAI,EAAGuY,EAAMwN,EAAYpmB,OAAQK,EAAIuY,EAAKvY,IAC/CV,EAASymB,EAAY/lB,GACjBiB,UAAQ+kB,OACR/jB,EAAc6pB,cAAYxsB,EAAQ4C,WAE9BD,EAAYyB,UAIhBnB,eAAaoB,OAAOrE,EAAQ,cAAeN,KAAKinB,cAGxD,IAAK,IAAIljB,EAAK,EAAGe,EAAKqiB,sBAAoBnnB,KAAKknB,eAAgBnjB,EAAKe,EAAGnE,OAAQoD,IAAM,CACjF,IAAIgpB,EAAWjoB,EAAGf,GAClBR,eAAaoB,OAAOooB,EAAU,SAAU/sB,KAAKyD,gBAGhDxB,UAAQI,WACTkB,eAAaoB,OAAO4hB,EAAS,YAAavmB,KAAKqnB,cAC/C9jB,eAAaoB,OAAOgI,SAAU,YAAa3M,KAAKsnB,mBAEpD/jB,eAAaoB,OAAOgI,SAAU,QAAS3M,KAAK8L,cAC5C,IAAIkhB,EAAiBF,cAAYvG,EAASta,kBACtC+gB,GACAA,EAAetoB,WAGvBmhB,EAAY3lB,UAAUqpB,gBAAkB,SAAUrD,EAAI+G,GAClD,IAAIpnB,EAAQ7F,UACO,IAAfitB,IAAyBA,GAAa,GACJ,SAAlCjtB,KAAKktB,kBAAkB7O,QAAsB4O,EAI7CjtB,KAAKkjB,UAAUS,QAAQuC,GACnB/jB,KAAMnC,KAAKktB,kBAAkB7O,OAC7B5R,SAAUzM,KAAKktB,kBAAkBzgB,SACjC0W,eAAgBnjB,KAAKktB,kBAAkB5O,OACvCsF,MAAO,SAAUhiB,GACbA,EAAQC,QAAQc,MAAMC,QAAU,QAChChB,EAAQC,QAAQc,MAAMiR,UAAYhS,EAAQC,QAAQsrB,wBAAwB5c,OAAS,MAEvFxF,IAAK,SAAUnJ,GACXiE,EAAMkF,IAAInJ,EAAQC,QAASorB,MAZnCjtB,KAAK+K,IAAImb,EAAI+G,IAiBrBpH,EAAY3lB,UAAU6K,IAAM,SAAUmb,EAAI+G,GACtC,GAAIA,EAAY,CACZ/G,EAAGvjB,MAAMC,QAAU,QACnBsjB,EAAGvjB,MAAMiR,UAAY,GACrB,IAAI9D,EAAO9P,KAAK8lB,OAAOnlB,OAASX,KAAKyoB,QAAQzoB,KAAK8lB,QAAU,KACxDjW,GAAchO,QAASqkB,EAAImD,WAAYvZ,EAAMnE,MAAOmE,EAAOA,EAAKnE,MAAQ3L,KAAK2L,OAEjF,GADA3L,KAAKwL,QAAQ,SAAUqE,GACnBqW,EAAG1e,cAAc,IAAM4d,IACvBc,EAAG1e,cAAc,IAAM4d,IAASxX,YAE/B,CACD,IAAI9J,OAAM,GACVA,EAAM9D,KAAKwmB,aAAatiB,SAASlE,KAAKsoB,OAAOtoB,KAAKwmB,aAAcN,GAAM,IAElEpiB,EAAI0D,cAAc,IAAM+d,IAAU3X,QAGlC5N,KAAK6B,QAAQ+L,cAKrB,GAAIsY,IAAOlmB,KAAK6B,QAAS,CACrB,IAAIumB,EAAMpoB,KAAKqoB,aAAaroB,KAAK6B,QAASujB,IACtCgD,GACAA,EAAItlB,UAAU6B,OAAOygB,IAEzB,IAAIuD,EAAM3oB,KAAKqoB,aAAaroB,KAAK6B,QAAS0jB,IACtCoD,GACAA,EAAI7lB,UAAU6B,OAAO4gB,IAEzBW,EAAGvjB,MAAMC,QAAU,YAGnBqC,SAAOihB,IAQnBL,EAAY3lB,UAAUqE,eAAiB,WACnC,MAAO,IAOXshB,EAAY3lB,UAAUuE,cAAgB,WAClC,MAAO,eAEXohB,EAAY3lB,UAAU+pB,SAAW,SAAUJ,EAAMle,EAAOma,EAAQsH,QAC9C,IAAVzhB,IAAoBA,EAAQ3L,KAAK2L,YACtB,IAAXma,IAAqBA,WACN,IAAfsH,IAAyBA,GAAa,GAE1C,IAAK,IADDtd,EACK9O,EAAI,EAAGuY,EAAM5N,EAAMhL,OAAQK,EAAIuY,EAAKvY,IAAK,CAE9C,IADA8O,EAAOnE,EAAM3K,IACJ2a,OAASkO,EAAM,CACpB/D,EAAOxS,KAAKtS,GACZ,MAEC,GAAI8O,EAAKnE,MAAMhL,OAAQ,CAExB,IAAmC,KADnCmlB,EAAS9lB,KAAKiqB,SAASJ,EAAM/Z,EAAKnE,MAAOma,GAAQ,IACtCA,EAAOnlB,OAAS,GAKtB,CACDmlB,EAAOuH,QAAQrsB,GACf,MANIA,IAAMuY,EAAM,GACZuM,EAAOqE,WASXnpB,IAAMuY,EAAM,GACZuM,EAAOxS,MAAM,GAIzB,OAAS8Z,IAA6B,IAAftH,EAAO,GAAkBA,MAQpDD,EAAY3lB,UAAUkZ,YAAc,SAAUzN,EAAO6N,QAClC,IAAXA,IAAqBA,GAAS,GAMlC,IAAK,IALD0M,EACAmG,EACAvG,EACAwH,EAAW5H,GACXa,EAAUvmB,KAAKwmB,aACVxlB,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,IAE9BqrB,GADAvG,EAAS9lB,KAAKiqB,SAASte,EAAM3K,KAChBmpB,OACbjE,EAAKK,EAAQriB,SAAS4hB,EAAOnlB,WAErB6Y,EACIvX,UAAQI,WAAa6jB,EAAGpjB,UAAUqE,SAAS,iBAC3C+e,EAAGhiB,SAASmoB,EAAM,GAAGvpB,UAAU6B,OAAO2oB,GAGtCpH,EAAGhiB,SAASmoB,GAAKvpB,UAAU6B,OAAO2oB,GAIlCrrB,UAAQI,WAAa6jB,EAAGpjB,UAAUqE,SAAS,iBAC3C+e,EAAGhiB,SAASmoB,EAAM,GAAGvpB,UAAUC,IAAIuqB,GAGnCpH,EAAGhiB,SAASmoB,GAAKvpB,UAAUC,IAAIuqB,KAWnDzH,EAAY3lB,UAAUqtB,UAAY,SAAU5hB,GACxC3L,KAAKwtB,cAAc7hB,GAAO,IAO9Bka,EAAY3lB,UAAUutB,UAAY,SAAU9hB,GACxC3L,KAAKwtB,cAAc7hB,GAAO,IAE9Bka,EAAY3lB,UAAUstB,cAAgB,SAAU7hB,EAAO+hB,GAKnD,IAAK,IAJDxH,EACAmG,EACAvG,EACAS,EAAUvmB,KAAKwmB,aACVxlB,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,IAE9BqrB,GADAvG,EAAS9lB,KAAKiqB,SAASte,EAAM3K,KAChBmpB,OACbjE,EAAKK,EAAQriB,SAAS4hB,EAAOnlB,WAErB+sB,EACIzrB,UAAQI,WAAa6jB,EAAGpjB,UAAUqE,SAAS,iBAC3C+e,EAAGhiB,SAASmoB,EAAM,GAAGvpB,UAAUC,IAAI4iB,IAGnCO,EAAGhiB,SAASmoB,GAAKvpB,UAAUC,IAAI4iB,IAI/B1jB,UAAQI,WAAa6jB,EAAGpjB,UAAUqE,SAAS,iBAC3C+e,EAAGhiB,SAASmoB,EAAM,GAAGvpB,UAAU6B,OAAOghB,IAGtCO,EAAGhiB,SAASmoB,GAAKvpB,UAAU6B,OAAOghB,MAWtDE,EAAY3lB,UAAUia,YAAc,SAAUxO,GAI1C,IAAK,IAHD0gB,EACAvG,EACA6H,EACK3sB,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,IAE9BqrB,GADAvG,EAAS9lB,KAAKiqB,SAASte,EAAM3K,KAChBmpB,MACbwD,EAAS3tB,KAAKusB,SAASzG,GACvB9lB,KAAK4kB,WAAW+I,EAAQ7H,EAAQuG,IASxCxG,EAAY3lB,UAAU0sB,YAAc,SAAUjhB,EAAOgQ,GACjD3b,KAAK4tB,YAAYjiB,EAAOgQ,IAQ5BkK,EAAY3lB,UAAUsF,aAAe,SAAUmG,EAAOgQ,GAClD3b,KAAK4tB,YAAYjiB,EAAOgQ,GAAM,IAElCkK,EAAY3lB,UAAU0tB,YAAc,SAAUjiB,EAAOgQ,EAAMkS,QACvC,IAAZA,IAAsBA,GAAU,GAOpC,IAAK,IANDlE,EACA0C,EACAvG,EACA6H,EACAG,EAEK9sB,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,IAAK,CAEnCqrB,GADAvG,EAAS9lB,KAAKiqB,SAAStO,IACVwO,MACbwD,EAAS3tB,KAAKusB,SAASzG,GACvBgI,EAAW,IAAIlI,GAAS+H,EAAO,GAAI,KAAMhiB,EAAM3K,IAAI,GACnD2sB,EAAO1T,OAAO4T,EAAUxB,EAAM,EAAIA,EAAK,EAAGyB,GAC1C,IAAIjB,EAAM7sB,KAAKwmB,aAAatiB,SACxB4hB,EAAOnlB,OAASksB,EAAIlsB,SACpB0rB,EAAMwB,EAAUxB,EAAM,EAAIA,EACfrsB,KAAKgrB,SAAS2C,EAAQ,WACjChE,EAAK3pB,KAAK6mB,YAAY8G,GAAQzpB,SAASmoB,GACvCQ,EAAI/G,EAAOnlB,QAAQ6E,aAAamkB,EAAIkD,EAAI/G,EAAOnlB,QAAQuD,SAASmoB,OAI5ExG,EAAY3lB,UAAUwmB,UAAY,WAK9B,IAAK,IAJDtT,EACApD,EACA+d,EACAtH,GAAU,OACLzlB,EAAI,EAAGuY,EAAM5M,SAASoS,KAAK7a,SAASvD,OAAQK,EAAIuY,EAAKvY,IAE1DoS,GADA2a,EAAQphB,SAASqhB,YAAYvc,iBAAiB9E,SAASoS,KAAK7a,SAASlD,KACvDitB,iBAAiB,WAC/Bje,EAAW+d,EAAME,iBAAiB,YACpB,SAAV7a,GAAiC,WAAbpD,GACpByW,EAAOnT,KAAKF,GAGpB,OAAQ9K,KAAK4lB,IAAI/jB,MAAM7B,KAAMme,GAAU,GAAGnM,YAM9CuL,EAAY3lB,UAAUwE,QAAU,WAC5B,IAAImB,EAAQ7F,KACRumB,EAAUvmB,KAAKwmB,aACfD,IACA5kB,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,MAC9BA,KAAK0sB,eACD1sB,KAAKomB,UACLpmB,KAAKomB,UAAUzjB,MAAMC,QAAU,SAG/B5C,KAAK6nB,YACL7nB,KAAK6B,QAAQga,UAAY,IACxB,MAAO,OAAQ,UAAW,WAAWvV,QAAQ,SAAU/F,GACpDsF,EAAMhE,QAAQc,MAAMiQ,eAAerS,MAEtC,OAAQ,WAAY,QAAS,SAAS+F,QAAQ,SAAU/F,IACZ,KAApC,QAAS,SAASqP,QAAQrP,IAAgBsF,EAAMhE,QAAQ0f,aAAahhB,IACtEsF,EAAMhE,QAAQmD,gBAAgBzE,KAGtCgmB,EAAQrM,WAAW1U,aAAaxF,KAAK6B,QAAS0kB,IAElDthB,SAAOshB,KAGfnmB,IACI0I,WAAS,KACV+c,EAAY3lB,UAAW,gBAAY,GACtCE,IACI0I,WAAS,KACV+c,EAAY3lB,UAAW,cAAU,GACpCE,IACI0I,YAAS,IACV+c,EAAY3lB,UAAW,uBAAmB,GAC7CE,IACI8c,gBAAe0I,KAChBC,EAAY3lB,UAAW,aAAS,GACnCE,IACI0I,WAAS,KACV+c,EAAY3lB,UAAW,cAAU,GACpCE,IACI0I,YAAW2D,SAAU,IAAK6R,OAAQ,OAAQD,OAAQ,eACnDwH,EAAY3lB,UAAW,yBAAqB,GAC/CE,IACI+c,WACD0I,EAAY3lB,UAAW,wBAAoB,GAC9CE,IACI+c,WACD0I,EAAY3lB,UAAW,kBAAc,GACxCE,IACI+c,WACD0I,EAAY3lB,UAAW,cAAU,GACpCE,IACI+c,WACD0I,EAAY3lB,UAAW,mBAAe,GACzCE,IACI+c,WACD0I,EAAY3lB,UAAW,eAAW,GACrCE,IACI+c,WACD0I,EAAY3lB,UAAW,cAAU,GACpC2lB,EAAczlB,IACV2I,yBACD8c,IAEL7c,aCtkCE3J,GAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAS5D0c,GAAa,eACbE,GAAc,YAEdtU,GAAW,SAGX6U,GAAa,WACb5c,GAAc,YACdgtB,GAAa,WAIbC,GAAiB,eAIjBC,GAAW,aAGXC,GAAe,kBACfC,GAAc,iBAEdC,GAAe,kBAGfC,GAAe,aAEfC,GAAmC,SAAU/sB,GAE7C,SAAS+sB,IACL,OAAkB,OAAX/sB,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAW/D,OAbAX,GAAUqvB,EAAmB/sB,GAI7BvB,IACI0I,WAAS,gBACV4lB,EAAkBxuB,UAAW,cAAU,GAC1CE,IACI0I,WAAS,MACV4lB,EAAkBxuB,UAAW,gBAAY,GAC5CE,IACI0I,WAAS,SACV4lB,EAAkBxuB,UAAW,cAAU,GACnCwuB,GACTtkB,iBAEEukB,GAAsC,SAAUhtB,GAEhD,SAASgtB,IACL,OAAkB,OAAXhtB,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAQ/D,OAVAX,GAAUsvB,EAAsBhtB,GAIhCvB,IACIge,WAAUC,OAAQ,cAAe5R,SAAU,IAAK6R,OAAQ,QAAUoQ,KACnEC,EAAqBzuB,UAAW,gBAAY,GAC/CE,IACIge,WAAUC,OAAQ,eAAgB5R,SAAU,IAAK6R,OAAQ,QAAUoQ,KACpEC,EAAqBzuB,UAAW,YAAQ,GACpCyuB,GACTvkB,iBAKEwkB,GAAwB,SAAUjtB,GAElC,SAASitB,IACL,OAAkB,OAAXjtB,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAW/D,OAbAX,GAAUuvB,EAAQjtB,GAIlBvB,IACI0I,WAAS,KACV8lB,EAAO1uB,UAAW,YAAQ,GAC7BE,IACI0I,WAAS,KACV8lB,EAAO1uB,UAAW,eAAW,GAChCE,IACI0I,WAAS,SACV8lB,EAAO1uB,UAAW,oBAAgB,GAC9B0uB,GACTxkB,iBAKEykB,GAAyB,SAAUltB,GAEnC,SAASktB,IACL,OAAkB,OAAXltB,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAc/D,OAhBAX,GAAUwvB,EAASltB,GAInBvB,IACIge,aAAYwQ,KACbC,EAAQ3uB,UAAW,cAAU,GAChCE,IACI0I,WAAS,KACV+lB,EAAQ3uB,UAAW,eAAW,GACjCE,IACI0I,WAAS,KACV+lB,EAAQ3uB,UAAW,gBAAY,GAClCE,IACI0I,YAAS,IACV+lB,EAAQ3uB,UAAW,gBAAY,GAC3B2uB,GACTzkB,iBAaE0kB,GAAqB,SAAUntB,GAO/B,SAASmtB,EAAIltB,EAASC,GAClB,IAAIgE,EAAQlE,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAuBnD,OAtBA6F,EAAMkpB,UAAY,EAClBlpB,EAAMmJ,MAAS7M,KAAM,YAAasK,SAAU,KAC5C5G,EAAM2G,MAASrK,KAAM,UAAWsK,SAAU,KAC1C5G,EAAMmpB,kBACNnpB,EAAMopB,QAAU,IAAIlL,YAAUle,EAAMmpB,gBACpCnpB,EAAM+N,UAAY,EAClB/N,EAAMqpB,MAAQ,QAIdrpB,EAAMyE,YACFO,IAAK,MACLC,KAAM,OACNC,IAAK,MACL2T,MAAO,QACPC,MAAO,QACPwQ,OAAQ,SACR5kB,SAAU,YACVC,UAAW,aACXC,OAAQ,UACRC,SAAU,aAEP7E,EA4mCX,OA1oCAxG,GAAUyvB,EAAKntB,GAoCfmtB,EAAI5uB,UAAUwE,QAAU,WACpB,IAAImB,EAAQ7F,KASZ,GARKsP,oBAAMtP,KAAKovB,QACZpvB,KAAKovB,MAAM1qB,UAEf1E,KAAK0sB,gBACJ,OAAQ,gBAAiB,wBAAyB,WAAY,oBAAoBpmB,QAAQ,SAAUmH,GACjG5H,EAAMhE,QAAQmD,gBAAgByI,KAElCzN,KAAKqvB,qBACArvB,KAAKsvB,WAGL,CACD,IAAIC,EAAShQ,SAAO,aAAyB/B,GAAaxd,KAAK6B,SAC/D7B,KAAK6B,QAAQiB,UAAU6B,OAhKhB,cAiKF2K,oBAAMigB,KACPA,EAAO1T,UAAY7b,KAAKopB,UAN5BppB,KAAK6B,QAAQga,UAAY,GAS7Bla,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,MAC9BA,KAAKwL,QAAQ,cAMjBsjB,EAAI5uB,UAAU6B,UAAY,WACtB/B,KAAKwvB,SAAU,EACfxvB,KAAKyvB,YAAa,EAClBzvB,KAAK0vB,WAAY,EACjB1vB,KAAK6e,eACL,IAAI1c,EAAOF,UAAQC,KAAKC,KACpBwtB,EAAgB,SAATxtB,EAAmB,OAAmB,SAATA,EAAmB,SAAqB,WAATA,EAAqB,WAAa,GACzGqO,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKkI,OAAQqI,OAAUD,aAAWtQ,KAAKuQ,UACpFvQ,KAAK4vB,YAAY5vB,KAAK6B,QAAS7B,KAAKoc,UAAU,GAC9C3L,aAAWzQ,KAAK6B,SAAW6O,KAAM,UAAWC,gBAAiB,QAASkf,wBAAyB,KAC/F7vB,KAAK4vB,YAAY5vB,KAAK6B,QAAS8tB,GAAK,IAMxCb,EAAI5uB,UAAU8C,OAAS,WACnBhD,KAAK8vB,kBACL9vB,KAAK6L,aACL7L,KAAKyvB,YAAa,GAEtBX,EAAI5uB,UAAU4vB,gBAAkB,WAC5B,IAAIhsB,EAAM9D,KAAK6B,QACf,GAAI7B,KAAK2L,MAAMhL,OAAS,GAA6B,IAAxBmD,EAAII,SAASvD,OACtCmD,EAAIM,YAAYV,gBAAS,OAASC,UAAW6Z,MAC7Cxd,KAAK+vB,eAAe/vB,KAAKgwB,gBAAiBtsB,gBAAS,OAASC,UAAW2Z,MACvEtd,KAAKsvB,YAAa,OAEjB,GAAItvB,KAAK6B,QAAQqC,SAASvD,OAAS,EAAG,CACvCX,KAAKsvB,YAAa,EAClBxrB,EAAIhB,UAAUC,IA1MP,cA2MP,IAAIid,EAASlc,EAAI0D,cAAc,IAAM8V,IACjC0C,GAAmC,WAAzBhgB,KAAKgwB,iBACfhwB,KAAK+vB,eAAe/vB,KAAKgwB,gBAAiBhQ,GAGlD,IAAK1Q,oBAAMiQ,SAAO,IAAMjC,GAAYtd,KAAK6B,YAAcyN,oBAAMiQ,SAAO,IAAM/B,GAAaxd,KAAK6B,UAAW,CAOnG,GANA7B,KAAKiwB,eACLjwB,KAAKkwB,QAAU3Q,SAAO,IAAMjC,GAAa,KAAOgR,GAActuB,KAAK6B,SAC9DyN,oBAAMtP,KAAKkwB,UACZzQ,eAAazf,KAAKkwB,SAAWxQ,SAAU,gBAE3C1f,KAAKmwB,gBACDtrB,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASlB,OAAS,EAAG,CACvDX,KAAKkwB,QAAU3Q,SAAO,IAAMjC,GAAa,KAAOgR,GAActuB,KAAK6B,SACnE7B,KAAKowB,QAAU1sB,gBAAS,OAASC,UAAW0sB,kCAC5C,IAAIC,EAAS/Q,SAAO,qBAAsBvf,KAAKkwB,SAC1C5gB,oBAAMghB,GAIPtwB,KAAKkwB,QAAQ1qB,aAAaxF,KAAKowB,QAASpwB,KAAKkwB,QAAQzqB,YAHrD6qB,EAAO9qB,aAAaxF,KAAKowB,QAASE,EAAO7qB,YAK7CzF,KAAKuwB,kBAAiB,GACtBvwB,KAAKuf,OAAOvf,KAAKwwB,cAErBxwB,KAAKywB,OAAOzwB,KAAK6C,aAGzBisB,EAAI5uB,UAAU+vB,aAAe,WACzB,IAAIpqB,EAAQ7F,KACR0wB,KAGJ,GAFA1wB,KAAKqiB,OAAS9C,SAAO,IAAMjC,GAAYtd,KAAK6B,SAC5C7B,KAAK2wB,OAASjtB,gBAAS,QAAUC,UAAWitB,WAAkBxC,GAAgByC,OAAS3B,MAAOlvB,KAAKkvB,SAAWhU,UACzGlb,KAAKsvB,WAGL,CAGD,IAAK,IAFDpY,EAAQlX,KAAKqiB,OAAOne,SAASvD,OAC7BmwB,KACK9vB,EAAI,EAAGA,EAAIkW,EAAOlW,IACvB8vB,EAASxd,KAAKtT,KAAKqiB,OAAOne,SAAS4L,KAAK9O,GAAG6a,WAE3C3E,EAAQ,IACRlX,KAAKqiB,OAAOxG,UAAY,GACxB7b,KAAKqiB,OAAOje,YAAYV,gBAAS,OAASC,UAzP1C,aA0PAmtB,EAASxqB,QAAQ,SAAUwJ,EAAMsD,GAC7B,IAAI8F,GACAvV,UAAWuF,GAAU1G,GAAI0G,UAAiBkK,EAC1Cyd,OAASngB,KAAM,MAAOqgB,gBAAiBvT,GAAc,IAAMpK,EAAO+O,gBAAiB,UAEnF6O,EAAMttB,gBAAS,QAAUC,UAnPlC,aAmPuDkY,UAAW/L,EAAM+gB,OAASngB,KAAQ,kBAAoBwK,UACpG+V,EAAOvtB,gBAAS,OAASC,UAjP7B,cAiPuDkY,UAAWmV,EAAMnrB,EAAM8qB,SAAUzV,UACpFgW,EAAOxtB,gBAAS,OAASC,UAAW0qB,GAAUxS,UAAWoV,EAAMJ,OAASM,SAAU,QACtF5R,SAAO,WAAiB1Z,EAAMhE,SAASuC,YAAYV,gBAAS,MAAOwV,IACnErU,YAAU,UAAgBgB,EAAMhE,SAASuR,GAAOhP,YAAY8sB,WApBpER,EAAW1wB,KAAKoxB,YAAYpxB,KAAK2L,MAAO,GAwB5C3L,KAAKovB,MAAQ,IAAI/kB,GACbnC,MAAO,OACPiK,aAAcnS,KAAKmS,aACnBxG,MAA4B,IAApB+kB,EAAS/vB,OAAgB+vB,KACjCW,QAASrxB,KAAK8L,aAAazI,KAAKrD,QAEpCA,KAAKovB,MAAMjb,SAASnU,KAAKqiB,QACzB5R,aAAWzQ,KAAK6B,SAAWgP,mBAAoB,eAC/C7Q,KAAKsxB,eAAetxB,KAAKuxB,iBACzBvxB,KAAKwxB,eAAgBxB,gBAAkBhwB,KAAK6B,QAAQqC,SAAS4L,KAAK,GAAGhN,UAAUqE,SAASmW,IAAe,MAAQ,WAAY,IAE/HwR,EAAI5uB,UAAUiwB,cAAgB,WAC1BnwB,KAAKuvB,OAAShQ,SAAO,IAAM/B,GAAaxd,KAAK6B,SAC7C,IAAI4vB,EAAU5sB,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAChD,GAAI7B,KAAKsvB,WAAY,CACjBtvB,KAAKopB,IAAOppB,KAAKuvB,OAAOrrB,SAASvD,OAAS,EAAKX,KAAKuvB,OAAO1T,UAAY,GAEvE,IAAK,IADD6V,EAAW1xB,KAAKuvB,OAAOrrB,SAClBlD,EAAI,EAAGA,EAAIywB,EAAQ9wB,OAAQK,IAC5B0wB,EAAS/wB,OAAS,GAAKK,IACvB0wB,EAAS5hB,KAAK9O,GAAG2C,WAAauF,GAC9BuH,aAAWihB,EAAS5hB,KAAK9O,IAAM0P,KAAQ,WAAY2P,kBAAmBnX,UAAiBlI,IACvF0wB,EAAS5hB,KAAK9O,GAAGwB,GAAKgb,GAAc,IAAMxc,KAK1D8tB,EAAI5uB,UAAUkxB,YAAc,SAAUzlB,EAAOyH,GACzC,IAAIvN,EAAQ7F,KACR2xB,EAAS,GACTC,EAAU/sB,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASlB,OACrDkxB,KAuCJ,OAtCAlmB,EAAMrF,QAAQ,SAAUwJ,EAAM9O,GAC1B,IAAIkO,EAAOI,oBAAMQ,EAAKkQ,OAAO/D,cAAiB,GAAKnM,EAAKkQ,OAAO/D,aAC3D0T,EAAOrgB,oBAAMQ,EAAKkQ,OAAOxE,SAAY,GAAK1L,EAAKkQ,OAAOxE,QACtDwV,EAAMlhB,EAAKkQ,OAAOrE,KAClBnZ,EAAmB,IAAZovB,EAAiB5wB,GAAyB,IAApB6E,EAAMisB,UAAuB9wB,EAAIoS,EAASwe,EAAU5wB,EACjFssB,EAAYxd,EAAa,SAAI,IAAM3O,GAAc,GACjD4wB,EAAUf,aAAezxB,OAAUyxB,EAAI9V,UAAY8V,EACnDgB,GAAa1iB,oBAAMyiB,IAAoB,KAAVA,EAC7BpV,EAAO,EAAajZ,gBAAS,OAC7BC,UAnSD,aAmSsBkY,UAAWkW,EAAOlB,OAASngB,KAAQ,kBACzDwK,UAAY,GACXwH,EAAOhf,gBAAS,QAChBC,UAAWitB,6BAAwD1hB,EAAM,IAAMygB,IAChFzU,UACH,GAAa,KAAR8V,QAAsBxS,IAARwS,GAA8B,KAARrB,EAAzC,CAKQgC,EADS,KAARX,QAAsBxS,IAARwS,GAA8B,KAARrB,EACnB,SAARzgB,GAA0B,QAARA,EAAiBwT,EAAO,GAAK/F,EAAOA,EAAO,GAAK+F,EAG1D,KAARiN,EAAchT,EAAO+F,EAGvC,IAAIuP,EAAaniB,EAAa,aAAWqhB,SAAU,MAC/Ce,EAAQxuB,gBAAS,OAASC,UAjTtB,cAiTgDkY,UAAW8V,EAAS,GAAK9rB,EAAM8qB,SAAUzV,UAK7FiX,GAAUjW,gBAFV1Z,GAAI0G,UAAiB1G,EAAIkO,KAAM,MAAOyR,gBAAiB,SAEpB/G,SAJ5B1X,gBAAS,OAASC,UAAW0qB,GAAUxS,UAAWqW,EAAOrB,MAAOoB,IAIrB/W,WACtDiX,EAAM/V,SAAWtM,EAAKsM,SAAW,IAAMkR,EAAW,KAAgB,KAARqC,EAAc,MAAQzgB,EAAM,IAAM,KAAS8iB,EAAuB,GA7TzH,UA8TS,QAAR9iB,GAAyB,WAARA,GACjBrJ,EAAMhE,QAAQiB,UAAUC,IAAI,mBAEhC8uB,EAAOve,KAAK6e,MAETN,GAEX/C,EAAI5uB,UAAUkyB,kBAAoB,SAAU5vB,GACxC,IAAI6vB,EAAYxtB,YAAU,UAAYyY,GAAa,KAAOiR,GAAc,IAAMxQ,GAAY/d,KAAK6B,SAAS,GAIxG,GAH6B,WAAzB7B,KAAKgwB,kBACLqC,EAAYxtB,YAAU,UAAYyY,GAAa,KAAOiR,GAAc,IAAMxQ,GAAY/d,KAAK6B,QAAQqC,SAAS,IAAI,KAE/GoL,oBAAM+iB,GAAY,CACnBA,EAAUvvB,UAAU6B,OAAOoZ,IAC3B,IAAIuU,EAAKtyB,KAAKuyB,SAASF,EAAU7vB,IACvBxC,KAAKwyB,QAAQjT,SAAO,aAAcvf,KAAK6B,SAASqC,SAAUsZ,GAAc,IAAM8U,KAGhGxD,EAAI5uB,UAAUuyB,mBAAqB,SAAU3uB,GACzC9D,KAAK0yB,MAAQnT,SAAO,iBAAkBvf,KAAK6B,SAC3C,IAAI2S,EAAU+K,SAAO,aAAcvf,KAAK6B,SACpC8wB,EAAWpT,SAAO,IAAM+O,GAActuB,KAAK6B,SAO/C,OANK7B,KAAK6C,WAAe2R,EAAQqB,WAAarB,EAAQrM,YAAewqB,EAAS9c,aACrE7V,KAAK6C,WAAa2R,EAAQqB,WAAa8c,EAASxqB,eACrDrE,EAAIhB,UAAUC,IAAIyrB,IAClBxuB,KAAK0yB,MAAMltB,aAAa1B,EAAI+U,WAAU,GAAOhU,YAAU,IAAM2pB,GAAcxuB,KAAK0yB,OAAO,IACvF5uB,EAAIoX,UAAY,KAEb,GAEX4T,EAAI5uB,UAAU0yB,aAAe,SAAUtyB,GACnC,IAAIuyB,EAASvyB,EAAOkH,cAAc,qBAC7B8H,oBAAMujB,KACPA,EAAO3X,UAAY,GACnB5a,EAAOkH,cAAc,IAAM6mB,IAAUvrB,UAAU6B,OAAO,aAE1D3E,KAAK8yB,OAASjuB,YAAU,IAAMypB,GAAe,KAAOC,GAAavuB,KAAKqiB,QACtE,IAAIuH,EAAY5pB,KAAK8yB,OAAO9yB,KAAK8yB,OAAOnyB,OAAS,GACjD,GAA2B,IAAvBX,KAAK8yB,OAAOnyB,OAAc,CAK1B,GAJAL,EAAOwC,UAAU6B,OAAO6pB,IACxBxuB,KAAKkwB,QAAQ9rB,YAAY9D,EAAOuY,WAAU,IAC1C7Y,KAAK+yB,SAAWzyB,EAAOkC,GACvBlC,EAAO4a,UAAY,GACflb,KAAKyyB,mBAAmB7I,GAAY,CACpC,IAAIoJ,EAAUhzB,KAAKkwB,QAAQtG,UAAU/S,uBACrC7W,KAAKyyB,mBAAmBO,GAE5BhzB,KAAKwvB,SAAU,EAEnB,OAAO3qB,YAAU,IAAM0pB,GAAavuB,KAAKkwB,SAASvvB,OAAS,GAE/DmuB,EAAI5uB,UAAUoxB,eAAiB,SAAU7jB,GACrC,IAAIwlB,EAAM1T,SAAO,IAAMjC,GAAYtd,KAAK6B,UAC/B,IAAR4L,EAAgBwlB,EAAInwB,UAAUC,IAjXlB,gBAiXwCkwB,EAAInwB,UAAU6B,OAjXtD,gBAkXb3E,KAAKovB,MAAMpd,kBACXhS,KAAKkzB,yBAETpE,EAAI5uB,UAAUizB,iBAAmB,SAAUC,EAAMC,GAE9BrzB,KAAK6C,WAAa7C,KAAK6B,QAAQiB,UAAUqE,SA/XlD,SAkZN,OAlBInH,KAAKwvB,SAAW4D,GAAQC,EACe,gBAAnCrzB,KAAKkjB,UAAUoQ,SAASjV,QACVlc,KAAM,eAChBsK,SAAUzM,KAAKkjB,UAAUoQ,SAAS7mB,SAAU0W,eAAgBnjB,KAAKkjB,UAAUoQ,SAAShV,QAG5E,KAImB,iBAA/Bte,KAAKkjB,UAAUqQ,KAAKlV,QACNlc,KAAM,gBAChBsK,SAAUzM,KAAKkjB,UAAUqQ,KAAK9mB,SAAU0W,eAAgBnjB,KAAKkjB,UAAUqQ,KAAKjV,QAGpE,MAKxBwQ,EAAI5uB,UAAUszB,qBAAuB,SAAUC,EAAQ1E,GACnD,IAAI2E,EAAa1zB,KAAKmzB,iBAAiBpE,EAAW/uB,KAAKwwB,cAClDlhB,oBAAMokB,GAgBPD,EAAO3wB,UAAU6B,OAAOoZ,KAfxB2V,EAAW9P,MAAQ,WACfpT,oBAASijB,GAAUzjB,SAAY,aAC/ByjB,EAAO3wB,UAAUC,IAAI0rB,IACrBgF,EAAO3wB,UAAUC,IAAI,WAEzB2wB,EAAW3oB,IAAM,WACb0oB,EAAO9wB,MAAMC,QAAU,OACvB6wB,EAAO3wB,UAAU6B,OAAOoZ,IACxB0V,EAAO3wB,UAAU6B,OAAO8pB,IACxBgF,EAAO3wB,UAAU6B,OAAO,UACxB6L,oBAASijB,GAAU7wB,QAAW,GAAIoN,SAAY,MAElD,IAAI+T,YAAU2P,GAAY/P,QAAQ8P,KAM1C3E,EAAI5uB,UAAUyzB,iBAAmB,SAAUnxB,EAAIiM,GAC3C,IAGIglB,EAHA5tB,EAAQ7F,KACR+uB,EAAY/uB,KAAK+uB,aACG9qB,MAAMnC,KAAK9B,KAAK6B,QAAQ2F,cAAc,IAAMgW,IAAatZ,UAElEoC,QAAQ,SAAUwJ,GACzBA,EAAKtN,KAAOqD,EAAM+tB,gBAClBH,EAAS3jB,KAGjB,IAEI+jB,EAFAb,EAAUhzB,KAAK8yB,OAAO/D,GACtBuD,EAAKtyB,KAAKuyB,SAASvyB,KAAK8yB,OAAO9yB,KAAKwwB,cAAchuB,IAGtD,GADAqxB,EAAS7zB,KAAKwyB,QAAQxyB,KAAKuvB,OAAOrrB,SAAUsZ,GAAc,IAAM8U,GAC5DhjB,oBAAMmkB,KAAYnkB,oBAAM0jB,GAAU,CAClC,IAAIc,EAAO9zB,KAAKuyB,SAASS,EAAQxwB,IACjCixB,EAASzzB,KAAKwyB,QAAQxyB,KAAKuvB,OAAOrrB,SAAUsZ,GAAc,IAAMsW,GAEpE,GAAI9zB,KAAKyvB,aAAwB,IAAVhhB,GAAmBzO,KAAKkjB,gBAAoB5T,oBAAMtP,KAAKkjB,WACtEuQ,GAAUA,IAAWI,GACrBJ,EAAO3wB,UAAU6B,OAAOoZ,QAFhC,CAMA,IACI2V,EADAtK,EAAM7J,SAAO,IAAM/B,GAAaxd,KAAK6B,SAEzC,GAAI7B,KAAK+uB,UAAY/uB,KAAKwwB,eAAiBxwB,KAAKwvB,QAAS,CACrD,IAAIuE,EAAU/zB,KAAKkjB,UAAUoQ,SAASjV,OACtCqV,GACIvxB,KAAoB,SAAZ4xB,EAAsB,GAAmB,gBAAZA,EAA6BA,EAAU,cAC5EtnB,SAAUzM,KAAKkjB,UAAUoQ,SAAS7mB,SAClC0W,eAAgBnjB,KAAKkjB,UAAUoQ,SAAShV,aAG3C,GAAIte,KAAKwvB,SAAWxvB,KAAK+uB,UAAY/uB,KAAKwwB,cAAgBxwB,KAAK+uB,YAAc/uB,KAAKwwB,aAAc,CACjG,IAAIwD,EAASh0B,KAAKkjB,UAAUqQ,KAAKlV,OACjCqV,GACIvxB,KAAmB,SAAX6xB,EAAqB,GAAkB,iBAAXA,EAA6BA,EAAS,eAC1EvnB,SAAUzM,KAAKkjB,UAAUqQ,KAAK9mB,SAC9B0W,eAAgBnjB,KAAKkjB,UAAUqQ,KAAKjV,QAG5CoV,EAAW7P,SAAW,WAClBuF,EAAItmB,UAAUC,IAAI0rB,IAClB5oB,EAAMouB,mBAEVP,EAAW3oB,IAAM,WACbqe,EAAItmB,UAAU6B,OAAO8pB,IACrBoF,EAAO/wB,UAAUC,IAAIgb,KAEpB/d,KAAKyvB,YACNzvB,KAAKwzB,qBAAqBC,EAAQ1E,GAEtC/uB,KAAK4zB,cAAgBC,EAAOrxB,GAC5BxC,KAAKwvB,SAAU,EACS,KAApBkE,EAAWvxB,KACX0xB,EAAO/wB,UAAUC,IAAIgb,IAGrB,IAAIgG,YAAU2P,GAAY/P,QAAQkQ,KAG1C/E,EAAI5uB,UAAUg0B,WAAa,SAAUjB,GACjC,IAAIkB,EAAYhnB,UAAQ8lB,EAAK,IAAM3V,GAAa,KAAOiR,IACnD6F,EAAWp0B,KAAKq0B,YAAYF,IAC3B7kB,oBAAMtP,KAAKkN,SAAW+lB,EAAInwB,UAAUqE,SAAS,aAC7CnH,KAAKkN,OAAOpK,UAAUqE,SAzdd,gBAyd0CnH,KAAKqL,OAAOmB,KAAKxM,KAAKwM,MAAQxM,KAAKqL,OAAO2D,KAAKhP,KAAKgP,MAElGikB,EAAInwB,UAAUqE,SAAS,gBAC5B8rB,EAAI7sB,QAGCkJ,oBAAM6kB,KAA2D,IAA7CA,EAAUrxB,UAAUqE,SAAS4W,MAClD/d,KAAKuf,OAAO6U,GACP9kB,oBAAMtP,KAAKkN,SACZlN,KAAKqL,OAAOmB,KAAKxM,KAAKwM,QAKtCsiB,EAAI5uB,UAAUm0B,YAAc,SAAUvkB,GAClC,OAAOpQ,MAAMQ,UAAU0P,QAAQ9N,KAAK+C,YAAU,IAAMyY,GAAa,KAAOiR,GAAavuB,KAAK6B,SAAUiO,IAExGgf,EAAI5uB,UAAUqyB,SAAW,SAAU/vB,GAC/B,OAAOA,EAAGmoB,QAAQzhB,UAAgB,KAEtC4lB,EAAI5uB,UAAUmvB,mBAAqB,WAC/B,IAAIxpB,EAAQ7F,KACZA,KAAK6e,YAAYvY,QAAQ,SAAUwY,GAC/BnS,SAASoS,KAAK3a,YAAYyB,EAAMhE,QAAQ2F,cAAcsX,IAASnc,MAAMC,QAAU,UAGvFksB,EAAI5uB,UAAUo0B,gBAAkB,SAAUxwB,EAAKslB,GAC3C,IAAImL,EAAU7wB,gBAAS,OACnBqX,EAAayZ,UAAQpL,IACpB9Z,oBAAMyL,IAAeA,IAAapa,OAAS,OACzCsD,MAAMnC,KAAKiZ,KAAczU,QAAQ,SAAUC,GAC1CguB,EAAQnwB,YAAYmC,KAExBzC,EAAIM,YAAYmwB,GAChBzwB,EAAIM,YAAYmwB,KAGxBzF,EAAI5uB,UAAUu0B,WAAa,SAAU3wB,EAAKsP,EAAOshB,GAC7C,IAAI5V,EACAsK,EAAMppB,KAAK2L,MAAM+e,OAAOtX,IAAQ0M,QACpC,GAAmB,iBAARsJ,GAAoB9Z,oBAAM8Z,EAAIvN,WACrC,GAAe,MAAXuN,EAAI,IAAyB,MAAXA,EAAI,GACtB,GAAIzc,SAASU,iBAAiB+b,GAAKzoB,OAAQ,CACvC,IAAImiB,EAASnW,SAASnF,cAAc4hB,GACpCtK,EAASgE,EAAO5H,UAAUF,OACT,UAAb0Z,EACA5wB,EAAIM,YAAY0e,EAAOjK,WAAU,KAGjC/U,EAAIM,YAAY0e,GAChBA,EAAOngB,MAAMC,QAAU,SAI3B5C,KAAKs0B,gBAAgBxwB,EAAKslB,QAI9BppB,KAAKs0B,gBAAgBxwB,EAAKslB,QAI9BtlB,EAAI+X,UAAYuN,EAAIlO,UAEnB5L,oBAAMwP,IACP9e,KAAK6e,YAAYvL,KAAK8V,EAAI9O,aAGlCwU,EAAI5uB,UAAUsyB,QAAU,SAAU7mB,EAAOpL,GAErC,IAAK,IADDuD,EACK9C,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,IAC9B,GAAI2K,EAAM3K,GAAGwB,KAAOjC,EAAK,CACrBuD,EAAM6H,EAAM3K,GACZ,MAGR,OAAO8C,GAEXgrB,EAAI5uB,UAAU6vB,eAAiB,SAAU4E,EAAO7wB,GACjC,WAAV6wB,EAAsB30B,KAAK6B,QAAQuC,YAAYN,GAAO9D,KAAK6B,QAAQ2D,aAAa1B,EAAKyb,SAAO,IAAM/B,GAAaxd,KAAK6B,WAEzHitB,EAAI5uB,UAAU0vB,YAAc,SAAU9rB,EAAKwR,EAAK7H,GAC5C,GAAY,KAAR6H,EAIJ,IAAK,IADDsf,EAAOtf,EAAIoU,MAAM,KACZ1oB,EAAI,EAAGA,EAAI4zB,EAAKj0B,OAAQK,IACzByM,EACA3J,EAAIhB,UAAUC,IAAI6xB,EAAK5zB,IAGvB8C,EAAIhB,UAAU6B,OAAOiwB,EAAK5zB,KAItC8tB,EAAI5uB,UAAUqwB,iBAAmB,SAAU9iB,GACvC,IAAI6B,oBAAMtP,KAAKuvB,QAAf,CAGA,IACIlN,EAAS9C,SAAO,IAAMjC,GAAYtd,KAAK6B,SAC3C,GAA8B,SAA1B7B,KAAK60B,iBAA6B,CAClC,GAAoB,SAAhB70B,KAAKuQ,OACL,OAGAC,oBAASxQ,KAAKuvB,QAAUhf,OAAWvQ,KAAK6B,QAAQkN,aAAesT,EAAOtT,aAAgB,YAGzF,GAA8B,SAA1B/O,KAAK60B,iBACVrkB,oBAASxQ,KAAK6B,SAAW0O,OAAU,SACnCC,oBAASxQ,KAAKuvB,QAAUhf,OAAU,cAEjC,GAA8B,SAA1BvQ,KAAK60B,iBAA6B,CACvC,IAAIzL,EAAMvkB,YAAU,uBAAuC7E,KAAK6B,SAChE,IAAwB,IAApB7B,KAAKsvB,WACL,IAAK,IAAItuB,EAAI,EAAGA,EAAIooB,EAAIzoB,OAAQK,IAC5BooB,EAAIpoB,GAAG6C,aAAa,QAAS,sCAC7B7D,KAAK4T,UAAYtL,KAAK4lB,IAAIluB,KAAK4T,UAAW5T,KAAK80B,UAAU1L,EAAIpoB,KAC7DooB,EAAIpoB,GAAG2B,MAAMiQ,eAAe,WAC5BwW,EAAIpoB,GAAG2B,MAAMiQ,eAAe,kBAG/B,CACD5S,KAAKuvB,OAAShQ,SAAO,IAAM/B,GAAaxd,KAAK6B,UACjC,IAAR4L,GACAzN,KAAKuvB,OAAOnrB,YAAYV,gBAAS,OAC7BlB,GAAKgb,GAAc,KAAU7Z,UAAWuF,UAAiB6U,GACzD8S,OAASngB,KAAQ,WAAY2P,kBAAmBnX,eAInD,IADDpF,EAAM9D,KAAKuvB,OAAOrrB,SAAS4L,KAAK,GACpC,IAAS9O,EAAI,EAAGA,EAAIhB,KAAK2L,MAAMhL,OAAQK,IACnChB,KAAKy0B,WAAW3wB,EAAK9C,EAAG,SACxBhB,KAAK4T,UAAYtL,KAAK4lB,IAAIluB,KAAK4T,UAAW5T,KAAK80B,UAAUhxB,IACzDA,EAAI+X,UAAY,GAEpB7b,KAAK6e,eACL7e,KAAKy0B,WAAW3wB,EAAK,EAAG,UACxBA,EAAIhB,UAAU6B,OAAOoZ,IAEzBvN,oBAASxQ,KAAKuvB,QAAUhf,OAAUvQ,KAAK4T,UAAY,YAGnDpD,oBAASxQ,KAAKuvB,QAAUhf,OAAU,WAG1Cue,EAAI5uB,UAAU40B,UAAY,SAAUhxB,GAChC,IAAIixB,EAAKhvB,OAAO0L,iBAAiB3N,GACjC,OAAOA,EAAIiL,aAAeyC,WAAWujB,EAAG9G,iBAAiB,gBAAkBzc,WAAWujB,EAAG9G,iBAAiB,mBACtGzc,WAAWujB,EAAG9G,iBAAiB,eAAiBzc,WAAWujB,EAAG9G,iBAAiB,mBAEvFa,EAAI5uB,UAAU+zB,gBAAkB,WAC5B,IAAIhB,EAAM1T,SAAO,IAAMgP,GAAc,IAAMxQ,GAAY/d,KAAK6B,SAI5D,GAH6B,WAAzB7B,KAAKgwB,kBACLiD,EAAM1T,SAAO,IAAMgP,GAAc,IAAMxQ,GAAY/d,KAAK6B,QAAQqC,SAAS,KAEjE,OAAR+uB,EAAJ,CAGA,IAAI9b,EAAOhK,UAAQ8lB,EAAK,UACxB,GAAIjzB,KAAK6B,UAAYsV,EAArB,CAGA,IAAI6d,EAAQzV,SAAO,IAAMjC,GAAa,KAAOgR,GAAe,sBAAuBtuB,KAAK6B,QAAQqC,SAAS,IACzGlE,KAAKkwB,QAAU3Q,SAAO,IAAMjC,GAAa,KAAOgR,GAActuB,KAAK6B,SACnE,IAAIozB,EAAM1V,SAAO,IAAMjC,GAAa,gBAAsBtd,KAAK6B,SAClC,WAAzB7B,KAAKgwB,kBACLgF,EAAQzV,SAAO,IAAMjC,GAAa,KAAOgR,GAAe,sBAAuBtuB,KAAK6B,QAAQqC,SAAS,KAEzG,IAAIgxB,EAAW5lB,oBAAM0lB,GAAUh1B,KAAKkwB,QAAQ/nB,YAAc6sB,EAAM7sB,YAChD,IAAZ+sB,EACA1kB,oBAASykB,GAAO7c,KAAQ6a,EAAIpd,WAAa,KAAMwC,MAAS6c,GAAWjC,EAAIpd,WAAaod,EAAI9qB,aAAe,OAGvGqI,oBAASykB,GAAO7c,KAAQ,OAAQC,MAAS,SAExC/I,oBAAMtP,KAAKowB,UACZpwB,KAAKowB,QAAQttB,UAAU6B,OAAOwpB,OAGtCW,EAAI5uB,UAAUi1B,UAAY,SAAU1mB,GAChCzO,KAAK8yB,OAASjuB,YAAU,IAAMyY,GAAa,KAAOiR,GAAavuB,KAAK6B,SACpE,IAAIoxB,EAAMjzB,KAAK8yB,OAAOrkB,GAItB,GAHIA,GAAS,GACTzO,KAAKwxB,eAAgBhB,aAAc/hB,IAAS,KAE5CA,EAAQ,GAAK2mB,MAAM3mB,IAAiC,IAAvBzO,KAAK8yB,OAAOnyB,QAG7C,GAAIsyB,EAAInwB,UAAUqE,SAAS4W,IACvB/d,KAAKi0B,sBADT,CAIA,IAAKj0B,KAAKsvB,WAAY,CAClB,IAAI8D,EAAOpzB,KAAK8yB,OAAO9yB,KAAK+uB,WACvBzf,oBAAM8jB,IACPA,EAAKpuB,gBAAgB,iBAEzByL,aAAWwiB,GAAOlC,gBAAiBvT,GAAc,IAAM/O,IAE3D,IAAIjM,EAAKywB,EAAIzwB,GACbxC,KAAKoyB,kBAAkB5vB,GACvBywB,EAAInwB,UAAUC,IAAIgb,IAClBkV,EAAIpvB,aAAa,gBAAiB,QAClC,IAAIyuB,EAAK5H,OAAO1qB,KAAKuyB,SAAS/vB,IAE9B,GADAiO,aAAWzQ,KAAK6B,SAAWguB,wBAAyBrtB,IAChDxC,KAAKsvB,YACL,GAAI/P,SAAO,IAAM/B,GAAaxd,KAAK6B,SAASqC,SAASvD,OAAS,EAAG,CAC7D,IAAI00B,EAAQr1B,KAAKwyB,QAAQjT,SAAO,aAAcvf,KAAK6B,SAASqC,SAAUsZ,GAAc,IAAM8U,GACrFhjB,oBAAM+lB,IACPA,EAAMvyB,UAAUC,IAAIgb,IAExB/d,KAAK2zB,iBAAiBnxB,EAAIxC,KAAKs1B,sBAGlC,CACD,IAAIxlB,EAAOyP,SAAO,2BAAiDvf,KAAKuyB,SAAS/vB,GAAKxC,KAAK6B,SAC3F,GAAIyN,oBAAMQ,GAAO,CACb9P,KAAKuvB,OAAOnrB,YAAYV,gBAAS,OAC7BlB,GAAIgb,GAAc,IAAMxd,KAAKuyB,SAAS/vB,GAAKmB,UAAWuF,UAAiB6U,GACvE8S,OAASngB,KAAM,WAAY2P,kBAAmBnX,UAAiBlJ,KAAKuyB,SAAS/vB,OAEjF,IAAI+yB,EAAShW,SAAO,2BAAiDvf,KAAKuyB,SAAS/vB,GAAKxC,KAAK6B,SAC7F7B,KAAKy0B,WAAWc,EAAQ7K,OAAO1qB,KAAKuyB,SAAS/vB,IAAM,eAGnDsN,EAAKhN,UAAUC,IAAIgb,IAEvB/d,KAAK2zB,iBAAiBnxB,EAAIxC,KAAKs1B,iBAEnCt1B,KAAKi0B,kBACL,IAAIuB,EAAajW,SAAO,IAAMjC,GAAa,KAAO9a,EAAIxC,KAAK6B,SAC3D7B,KAAKy1B,sBAAsBD,GAC3BA,EAAW/vB,WAAWmI,QACtB,IAAI8nB,GACAC,aAAc31B,KAAK41B,SACnBC,cAAe71B,KAAK+uB,UACpByB,aAAcyC,EACd6C,cAAernB,EACfsnB,SAAU/1B,KAAK0vB,WAEnB1vB,KAAKwL,QAAQ,WAAYkqB,KAE7B5G,EAAI5uB,UAAU81B,SAAW,SAAUrqB,GAC/B3L,KAAK8xB,WAAY,EACjB9xB,KAAKkwB,QAAU3Q,SAAO,IAAMjC,GAAa,KAAOgR,GAActuB,KAAK6B,SACnE7B,KAAKovB,MAAMzjB,MAAQ3L,KAAKoxB,YAAYzlB,EAAO,GAC3C3L,KAAKovB,MAAMhf,WACXpQ,KAAK8xB,WAAY,GAErBhD,EAAI5uB,UAAUuwB,OAAS,SAAUhiB,GAC7BzO,KAAKovB,MAAMvsB,UAAY4L,EACvBzO,KAAKovB,MAAMhf,WACXpQ,KAAK4vB,YAAY5vB,KAAK6B,QAzuBhB,QAyuBkC4M,GACxCzO,KAAKi2B,uBAETnH,EAAI5uB,UAAU+1B,oBAAsB,WAC3B3mB,oBAAMtP,KAAKowB,UACZpwB,KAAKowB,QAAQttB,UAAUC,IAAIorB,IAE/BnuB,KAAKi0B,mBAETnF,EAAI5uB,UAAU2L,WAAa,WACvB9F,OAAOY,iBAAiB,SAAU3G,KAAKkzB,sBAAsB7vB,KAAKrD,OAClEuD,eAAaR,IAAI/C,KAAK6B,QAAS,YAAa7B,KAAKk2B,aAAcl2B,MAC/DuD,eAAaR,IAAI/C,KAAK6B,QAAS,UAAW7B,KAAKm2B,aAAcn2B,MACxDsP,oBAAMtP,KAAKuvB,UACZvvB,KAAKiD,YAAc,IAAIC,QAAMlD,KAAKuvB,QAAU6G,MAAOp2B,KAAKq2B,aAAahzB,KAAKrD,SAE9EA,KAAKgM,UAAY,IAAIC,iBAAejM,KAAK6B,SAAWqK,UAAWlM,KAAKs2B,WAAWjzB,KAAKrD,MAAOsK,WAAYtK,KAAKsK,aAC5GtK,KAAKu2B,aAAe,IAAItqB,iBAAejM,KAAK6B,SACxCqK,UAAWlM,KAAKs2B,WAAWjzB,KAAKrD,MAChCsK,YAAcksB,UAAW,YAAa3rB,IAAK,MAAO4rB,SAAU,aAC5D9W,UAAW,aAGnBmP,EAAI5uB,UAAUwsB,aAAe,WACzB1sB,KAAKgM,UAAUtH,UACf1E,KAAKu2B,aAAa7xB,UACb4K,oBAAMtP,KAAKuvB,SACZvvB,KAAKiD,YAAYyB,UAErBqB,OAAO2wB,oBAAoB,SAAU12B,KAAKkzB,sBAAsB7vB,KAAKrD,OACrEA,KAAK6B,QAAQ60B,oBAAoB,YAAa12B,KAAKk2B,aAAa7yB,KAAKrD,QAEzE8uB,EAAI5uB,UAAU4L,aAAe,SAAUsO,GACnCpa,KAAK6B,QAAQiB,UAAU6B,OAtwBf,aAuwBR,IAAIsuB,EAAM7Y,EAAKlT,cAAc5G,OACzB6zB,EAAYhnB,UAAQ8lB,EAAK,IAAM1E,IAC/B6F,EAAWp0B,KAAKq0B,YAAYF,GAC5BlB,EAAInwB,UAAUqE,SAASinB,IACvBpuB,KAAK22B,UAAUvC,IAGfp0B,KAAKwvB,SAAU,EACVlgB,oBAAM6kB,IAAcC,IAAap0B,KAAKwwB,cACvCxwB,KAAKuf,OAAO6U,KAIxBtF,EAAI5uB,UAAUm2B,aAAe,SAAUzwB,GAC/BA,EAAEgxB,SAAW,GAAKtnB,oBAAM1J,EAAEsB,cAAc2hB,kBAG5C7oB,KAAK0vB,WAAY,EACQ,UAArB9pB,EAAEixB,eACF72B,KAAKuf,OAAOvf,KAAKwwB,aAAe,GAGP,SAArB5qB,EAAEixB,gBAA8B72B,KAAKwwB,eAAiB3rB,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASlB,OAAS,GAC1GX,KAAKuf,OAAOvf,KAAKwwB,aAAe,GAGxCxwB,KAAK0vB,WAAY,IAErBZ,EAAI5uB,UAAUi2B,aAAe,SAAUvwB,GACnC,GAAmB,KAAdA,EAAE0G,SAA8B,KAAZ1G,EAAEkxB,OAAgC,KAAdlxB,EAAE0G,SAA8B,KAAZ1G,EAAEkxB,MAAe,CAC9E,IAAIC,EAAW5pB,UAAQvH,EAAEtF,OAAQ,IAAMgd,IAClChO,oBAAMynB,IACPnxB,EAAEiB,mBAIdioB,EAAI5uB,UAAUo2B,WAAa,SAAU1wB,GACjC,IAAI5F,KAAK6B,QAAQiB,UAAUqE,SAAShG,IAApC,CAGAnB,KAAK6B,QAAQiB,UAAUC,IA/yBf,aAgzBR,IAAIkwB,EAAMrtB,EAAEtF,OACR02B,EAASzX,SAAO,IAAMjC,GAAa,KAAOS,GAAY/d,KAAK6B,SACjDgD,YAAU,IAAM0pB,GAAc,SAAWC,GAAe,IAAKxuB,KAAK6B,SAKhF,OAJA7B,KAAKkN,OAASqS,SAAO,iBAAkBvf,KAAK6B,SACvCyN,oBAAMtP,KAAKkN,UACZlN,KAAKqL,OAASrL,KAAKkN,OAAO+pB,cAAc,IAEpCrxB,EAAEyI,QACN,IAAK,QACL,IAAK,QACD,GAAI4kB,EAAI5jB,cAAcvM,UAAUqE,SAAShG,IACrC,OAEJ,GAAiB,UAAbyE,EAAEyI,QAAsB4kB,EAAInwB,UAAUqE,SAAS,aAC/C,MAEJnH,KAAKk0B,WAAWjB,GAChB,MACJ,IAAK,MACL,IAAK,WACGA,EAAInwB,UAAUqE,SAASknB,MAC+C,IAAnElhB,UAAQ8lB,EAAK,IAAM1E,IAAazrB,UAAUqE,SAAS4W,KACtDkV,EAAIpvB,aAAa,WAAY,MAE7B7D,KAAKqL,QAAUkB,YAAUvM,KAAKqL,OAAOxJ,UACrC7B,KAAKqL,OAAOmB,KAAKxM,KAAKwM,MAE1BwqB,EAAO9yB,SAAS4L,KAAK,GAAGjM,aAAa,WAAY,KACjD,MACJ,IAAK,WACL,IAAK,YACD,IAAIiM,EAAO3C,UAAQR,SAASuqB,cAAe,IAAM3I,IAC5Cjf,oBAAMQ,IACP9P,KAAKy1B,sBAAsB3lB,GAE/B,MACJ,IAAK,YACDlK,EAAEiB,kBACGyI,oBAAMtP,KAAKkN,SAAWlN,KAAKkN,OAAOpK,UAAUqE,SAv0B3C,kBAw0BFnH,KAAKqL,OAAO2D,KAAKhP,KAAKgP,MAE1B,MACJ,IAAK,SACD,IAAImlB,EAAYhnB,UAAQ8lB,EAAK,IAAM1E,IACnC,IAA6B,IAAzBvuB,KAAKuxB,kBAA6BjiB,oBAAM6kB,GAAY,CACpD,IAAIgD,EAAShD,EAAUiD,aAClB9nB,oBAAM6nB,IAAWA,EAAOr0B,UAAUqE,SAASonB,KAC5C4I,EAAO1xB,WAAWmI,QAEtB5N,KAAK22B,UAAU32B,KAAKq0B,YAAYF,IAEpCn0B,KAAKi0B,qBAIjBnF,EAAI5uB,UAAUgzB,sBAAwB,WAClC,IAAItkB,EAAY2Q,SAAO,IAAMgP,GAAc,IAAMC,GAAe,IAAMzQ,GAAY/d,KAAK6B,SAClFyN,oBAAMV,IACP5O,KAAKuf,OAAOvf,KAAKq0B,YAAYzlB,IAEjC5O,KAAKi2B,uBAETnH,EAAI5uB,UAAUu1B,sBAAwB,SAAUn1B,GAC5C,IAAIgwB,EAAS/Q,SAAO,qBAAsBvf,KAAKkwB,SAC/C,IAAK5gB,oBAAMghB,GAAX,CACI,IAAI+G,EAAS9X,SAAO,iBAAkBvf,KAAKkwB,SACvCoH,EAAWD,EAAO3vB,WAClB6vB,EAASD,EAAWD,EAAOlvB,YAC3BqvB,EAAWl3B,EAAOuV,WAClBhE,EAAWvR,EAAO6H,YAClBsvB,EAASn3B,EAAOuV,WAAavV,EAAO6H,YACxC,GAAKmvB,EAAWE,GAAcD,EAASE,EAAS,CAC5C,IAAIC,EAAeH,EAASC,EAC5BH,EAAO3vB,WAAa4vB,GAAYzlB,EAAW6lB,QAG3C,GAAKJ,EAAWE,GAAcD,EAASE,EAAS,CACxCC,EAAeD,EAASH,EAC5BD,EAAO3vB,WAAa4vB,GAAYzlB,EAAW6lB,MAQ3D5I,EAAI5uB,UAAUg2B,aAAe,SAAUtwB,GACnC,IAAIqtB,EAAMrtB,EAAEtF,QACPgP,oBAAM2jB,EAAInwB,YAAcmwB,EAAInwB,UAAUqE,SAASinB,KAChD6E,EAAIpvB,aAAa,QAAS,IAAI8zB,OAAK,OAASzI,MAAOlvB,KAAKkvB,OAASlvB,KAAK43B,QAAQC,YAAY,WAUlG/I,EAAI5uB,UAAU43B,UAAY,SAAU1kB,EAAO3E,GACvC,IAAIyhB,EAAUrrB,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASuR,GACrD9D,oBAAM4gB,MAGI,IAAVzhB,GACAyhB,EAAQptB,UAAU6B,OAAOxD,IACzB+uB,EAAQzqB,WAAW5B,aAAa,WAAY,QAG5CqsB,EAAQptB,UAAUC,IAAI5B,IACtB+uB,EAAQzqB,WAAWT,gBAAgB,YAC/BkrB,EAAQptB,UAAUqE,SAAS4W,KAC3B/d,KAAKuf,OAAOnM,EAAQ,IAG5B8c,EAAQrsB,aAAa,iBAA4B,IAAV4K,EAAkB,QAAU,UAQvEqgB,EAAI5uB,UAAU63B,OAAS,SAAUpsB,EAAOyH,GACpC,IAAIvN,EAAQ7F,KAKZ,GAJAA,KAAKwL,QAAQ,UAAYwsB,WAAYrsB,IACjC2D,oBAAM8D,KACNA,EAAQvO,YAAU,IAAM0pB,IAAa5tB,OAAS,MAE1B,IAApBX,KAAKsvB,YAAuBzqB,YAAU,IAAM0pB,IAAa5tB,OAAS,EAAIyS,GAASA,EAAQ,GAAKgiB,MAAMhiB,IAAtG,CAGApT,KAAKowB,QAAQttB,UAAUC,IAAIorB,IAC3BnuB,KAAKkwB,QAAU3Q,SAAO,IAAMjC,GAAa,KAAOgR,GAActuB,KAAK6B,SACnE,IAAI6uB,EAAW1wB,KAAKoxB,YAAYzlB,EAAOyH,GACvCzH,EAAMrF,QAAQ,SAAUwJ,EAAM6kB,GAC1B,IAAwB,IAApB9uB,EAAMisB,UAAoB,CAC1B,IAAIL,EAAUlS,SAAO,IAAM+O,GAAe,KAAOplB,GAAW,IAAMkK,EAAOvN,EAAMhE,SAC/EoD,SAAOwsB,GACP5rB,EAAM8F,MAAMsO,OAAQ7G,EAAQuhB,EAAQ,EAAG7kB,QAGvCjK,EAAM8F,MAAM2H,KAAKxD,KAGzB9P,KAAKovB,MAAMzV,SAAS+W,EAAUtd,GAC9BpT,KAAKwL,QAAQ,SAAWwsB,WAAYrsB,IAChC3L,KAAKwwB,eAAiBpd,EACtBpT,KAAKuf,OAAOnM,GAGZpT,KAAKi0B,oBAQbnF,EAAI5uB,UAAUy2B,UAAY,SAAUvjB,GAChC,IAAI6f,EAAMpuB,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASuR,GACjD6kB,GAAiBC,YAAajF,EAAKkF,aAAc/kB,GAErD,GADApT,KAAKwL,QAAQ,WAAYysB,IACrB3oB,oBAAM2jB,GAAV,CAGAjzB,KAAKovB,MAAMjV,YAAY/G,GACvBpT,KAAKi2B,sBACL,IAAI3D,EAAKtyB,KAAKuyB,SAASU,EAAIzwB,IACvB41B,EAASp4B,KAAKwyB,QAAQjT,SAAO,aAAcvf,KAAK6B,SAASqC,SAAUsZ,GAAc,IAAM8U,GACtFhjB,oBAAM8oB,KACPA,EAAOld,UAAY,IAEvB,IAAImd,GAAgBH,YAAajF,EAAKkF,aAAc/kB,GACpDpT,KAAKwL,QAAQ,UAAW6sB,GACpBpF,EAAInwB,UAAUqE,SAAS4W,MACvB3K,EAASA,EAAQvO,YAAU,IAAM0pB,GAAc,SAAWC,GAAe,IAAKxuB,KAAK6B,SAASlB,OAAS,EAAKyS,EAAQ,EAAIA,EACtHpT,KAAKs1B,iBAAkB,EACvBt1B,KAAKuf,OAAOnM,IAE0C,IAAtDvO,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASlB,SAC3CX,KAAKqiB,OAAO1f,MAAMC,QAAU,QAEhC5C,KAAKs1B,iBAAkB,IAQ3BxG,EAAI5uB,UAAUo4B,QAAU,SAAUllB,EAAO3E,GACrC,IAAIqB,EAAOjL,YAAU,IAAM0pB,GAAavuB,KAAK6B,SAASuR,GAClD9D,oBAAMQ,KAGNR,oBAAMb,KACNA,GAAQ,GAEZzO,KAAKowB,QAAQttB,UAAUC,IAAIorB,KACb,IAAV1f,GACAqB,EAAKhN,UAAUC,IAAIorB,IACfre,EAAKhN,UAAUqE,SAAS4W,KACxB/d,KAAKuf,OAAkB,IAAVnM,EAAeA,EAAQ,EAAIA,EAAQ,IAIpDtD,EAAKhN,UAAU6B,OAAOwpB,IAE1BnuB,KAAKi0B,kBACLnkB,EAAKjM,aAAa,cAAe,GAAK4K,KAO1CqgB,EAAI5uB,UAAUqf,OAAS,SAAUnF,GAC7Bpa,KAAKkwB,QAAU3Q,SAAO,IAAMjC,GAAa,KAAOgR,GAActuB,KAAK6B,SACnE7B,KAAK8yB,OAASjuB,YAAU,IAAMyY,GAAa,KAAOiR,GAAavuB,KAAK6B,SACpE7B,KAAK41B,SAAW51B,KAAK8yB,OAAO9yB,KAAK+uB,WAC5Bzf,oBAAMtP,KAAK41B,WAAc51B,KAAK41B,SAAS9yB,UAAUqE,SAAShG,KAC3DnB,KAAK41B,SAAS1xB,SAAS4L,KAAK,GAAGjM,aAAa,WAAY,MAE5D,IAAI6xB,GACAC,aAAc31B,KAAK41B,SACnBC,cAAe71B,KAAK+uB,UACpByB,aAAcxwB,KAAK8yB,OAAO9yB,KAAKwwB,cAC/BsF,cAAe91B,KAAKwwB,aACpBuF,SAAU/1B,KAAK0vB,WAGnB,GADA1vB,KAAKwL,QAAQ,YAAakqB,IACtBA,EAAS3lB,OAGb,GAAoB,iBAATqK,EAAmB,CAC1B,IAAK9K,oBAAMtP,KAAK8yB,OAAO1Y,KAAUpa,KAAK8yB,OAAO1Y,GAAMtX,UAAUqE,SAAShG,IAClE,IAAK,IAAIH,EAAIoZ,EAAO,EAAGpZ,EAAIhB,KAAK2L,MAAMhL,OAAQK,IAAK,CAC/C,IAA+B,IAA3BhB,KAAK2L,MAAM3K,GAAGssB,SAAoB,CAClClT,EAAOpZ,EACP,MAGAoZ,EAAO,EAIfpa,KAAK8yB,OAAOnyB,OAASyZ,GAAQA,GAAQ,IAAMgb,MAAMhb,IACjDpa,KAAK+uB,UAAY/uB,KAAKwwB,aAClBxwB,KAAK8yB,OAAO1Y,GAAMtX,UAAUqE,SAASqnB,IACrCxuB,KAAKm1B,UAAUn1B,KAAK4yB,aAAa5yB,KAAK8yB,OAAO1Y,KAG7Cpa,KAAKm1B,UAAU/a,IAInBpa,KAAKm1B,UAAU,QAGd/a,0BACLpa,KAAKm1B,UAAUn1B,KAAKq0B,YAAYja,KASxC0U,EAAI5uB,UAAUq4B,QAAU,SAAU9pB,GAC9BzO,KAAK4vB,YAAY5vB,KAAK6B,QAASV,GAAasN,GAC5CzO,KAAK6B,QAAQgC,aAAa,gBAAiB,GAAK4K,IAMpDqgB,EAAI5uB,UAAUqE,eAAiB,WAC3B,OAAOvE,KAAKwE,cAAc,eAAgB,cAO9CsqB,EAAI5uB,UAAUuE,cAAgB,WAC1B,MAAO,OASXqqB,EAAI5uB,UAAUwI,kBAAoB,SAAUC,EAASC,GACjD,IAAK,IAAI7E,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,QACDyM,oBAASxQ,KAAK6B,SAAWqG,MAAOoI,aAAW3H,EAAQT,SACnD,MACJ,IAAK,SACDsI,oBAASxQ,KAAK6B,SAAW0O,OAAQD,aAAW3H,EAAQ4H,UACpDvQ,KAAKuwB,kBAAiB,GACtB,MACJ,IAAK,WACDvwB,KAAK4vB,YAAY5vB,KAAK6B,QAAS8G,EAAQyT,UAAU,GACjD,MACJ,IAAK,QACD,GAAMzT,EAAQgD,iBAAiBjM,OAASkJ,EAAQ+C,iBAAiBjM,MAuCzD4P,oBAAMtP,KAAKovB,QACXpvB,KAAK8vB,kBACAxgB,oBAAMtP,KAAKuvB,UACZvvB,KAAKiD,YAAc,IAAIC,QAAMlD,KAAKuvB,QAAU6G,MAAOp2B,KAAKq2B,aAAahzB,KAAKrD,WAI9EA,KAAKg2B,SAASrtB,EAAQgD,OACtB4T,SAAO,aAAyB/B,GAAaxd,KAAK6B,SAASga,UAAY,GACvE7b,KAAKuf,OAAOvf,KAAKwwB,oBA9CrB,IAAK,IADDgI,EAAcj5B,OAAOsJ,KAAKF,EAAQgD,OAC7B3K,EAAI,EAAGA,EAAIw3B,EAAY73B,OAAQK,IAAK,CACzC,IAAIoS,EAAQiH,SAAS9a,OAAOsJ,KAAKF,EAAQgD,OAAO3K,GAAI,IAChD6b,EAAWtd,OAAOsJ,KAAKF,EAAQgD,MAAMyH,IAAQ,GAC7CqlB,EAASl5B,OAAOqJ,EAAQ+C,MAAMyH,IAAQyJ,GACtC6b,EAASn5B,OAAOoJ,EAAQgD,MAAMyH,IAAQyJ,GACtC4U,EAAUlS,SAAO,IAAM+O,GAAe,KAAOplB,GAAW,IAAMkK,EAAOpT,KAAK6B,SAC1E82B,EAAUpZ,SAAO,yBAA+CnM,EAAOpT,KAAK6B,SAChF,GAAiB,WAAbgb,EAAuB,CACvB,IAAI+b,KACJA,EAAItlB,KAAKtT,KAAK2L,MAAMyH,IACpBpT,KAAK2L,MAAMsO,OAAO7G,EAAO,GACzBpT,KAAKovB,MAAMzjB,MAAMsO,OAAO7G,EAAO,GAC/BpT,KAAK8xB,WAAY,EACjB9xB,KAAK+3B,OAAOa,EAAKxlB,GACjBpT,KAAK8xB,WAAY,EAEJ,YAAbjV,IACKvN,oBAAMqpB,KACNA,EAAQ71B,UAAUqE,SAAS,YAAewxB,EAAQ9c,UAAY6c,EAAUC,EAAQh0B,WAGxE,aAAbkY,IACKvN,oBAAMmiB,KACPA,EAAQ3uB,UAAU6B,OAAO8zB,GACzBhH,EAAQ3uB,UAAUC,IAAI21B,IAErBppB,oBAAMqpB,KACPA,EAAQ71B,UAAU6B,OAAO8zB,GACzBE,EAAQ71B,UAAUC,IAAI21B,KAGb,aAAb7b,GACA7c,KAAK83B,UAAU1kB,GAAoB,IAAXslB,GAiBpC,MACJ,IAAK,kBACD14B,KAAKsxB,eAAe3oB,EAAQ4oB,iBAC5B,MACJ,IAAK,eACDvxB,KAAKwwB,aAAe5nB,EAAQ4nB,aAC5BxwB,KAAKuf,OAAO5W,EAAQ6nB,cACpB,MACJ,IAAK,kBACD,IAAIqI,EAAatZ,SAAO,IAAMjC,GAAYtd,KAAK6B,SAC/C7B,KAAK+vB,eAAepnB,EAAQqnB,gBAAiB6I,GAC7C74B,KAAKuf,OAAOvf,KAAKwwB,cACjB,MACJ,IAAK,YACDxwB,KAAKywB,OAAO9nB,EAAQ9F,WACpB,MACJ,IAAK,eACD7C,KAAKovB,MAAMjd,aAAexJ,EAAQwJ,aAClCnS,KAAKovB,MAAMhf,WACXpQ,KAAKkzB,wBACL,MACJ,IAAK,mBACDlzB,KAAKuwB,kBAAiB,GACtBvwB,KAAKuf,OAAOvf,KAAKwwB,iBAKjCpwB,IACI8c,gBAAe2R,KAChBC,EAAI5uB,UAAW,aAAS,GAC3BE,IACI0I,WAAS,SACVgmB,EAAI5uB,UAAW,aAAS,GAC3BE,IACI0I,WAAS,SACVgmB,EAAI5uB,UAAW,cAAU,GAC5BE,IACI0I,WAAS,KACVgmB,EAAI5uB,UAAW,gBAAY,GAC9BE,IACI0I,WAAS,IACVgmB,EAAI5uB,UAAW,oBAAgB,GAClCE,IACI0I,WAAS,QACVgmB,EAAI5uB,UAAW,uBAAmB,GACrCE,IACI0I,WAAS,YACVgmB,EAAI5uB,UAAW,wBAAoB,GACtCE,IACI0I,WAAS,eACVgmB,EAAI5uB,UAAW,oBAAgB,GAClCE,IACI0I,YAAS,IACVgmB,EAAI5uB,UAAW,iBAAa,GAC/BE,IACI0I,YAAS,IACVgmB,EAAI5uB,UAAW,uBAAmB,GACrCE,IACIge,aAAYuQ,KACbG,EAAI5uB,UAAW,iBAAa,GAC/BE,IACI+c,WACD2R,EAAI5uB,UAAW,eAAW,GAC7BE,IACI+c,WACD2R,EAAI5uB,UAAW,cAAU,GAC5BE,IACI+c,WACD2R,EAAI5uB,UAAW,aAAS,GAC3BE,IACI+c,WACD2R,EAAI5uB,UAAW,iBAAa,GAC/BE,IACI+c,WACD2R,EAAI5uB,UAAW,gBAAY,GAC9BE,IACI+c,WACD2R,EAAI5uB,UAAW,gBAAY,GAC9BE,IACI+c,WACD2R,EAAI5uB,UAAW,eAAW,GAC7BE,IACI+c,WACD2R,EAAI5uB,UAAW,iBAAa,GAC/B4uB,EAAM1uB,IACF2I,yBACD+lB,IAEL9lB,aCnxCE3J,GAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAc5Dk4B,GAAO,aACPC,GAAc,qBACdC,GAAa,oBACbC,GAAW,cACXC,GAAW,cACXC,GAAa,gBACbC,GAAQ,UACRC,GAAS,WACTC,GAAO,kBACPC,GAAU,YACVC,GAAO,UACPC,GAAW,iBAGXC,GAAY,eAKZC,GAAW,aACXC,GAAU,YAEVC,GAAW,cAIXC,GAAU,YACVvU,GAAW,aACXwU,GAAW,aACXC,GAAgB,mBAKhBC,GAAQ,UAERC,GAAe,qBACfC,GAAgB,UAEhBC,GAAQ,eAIRC,IACAC,SAAU,OACVC,SAAU,WACVC,SAAU,QACVC,SAAU,GACVC,YAAa,IAKbC,GAAgC,SAAUh5B,GAE1C,SAASg5B,IACL,OAAkB,OAAXh5B,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAkD/D,OApDAX,GAAUs7B,EAAgBh5B,GAI1BvB,IACI0I,WAAS,UACV6xB,EAAez6B,UAAW,aAAS,GACtCE,IACI0I,gBACD6xB,EAAez6B,UAAW,kBAAc,GAC3CE,IACI0I,WAAS,aACV6xB,EAAez6B,UAAW,gBAAY,GACzCE,IACI0I,WAAS,gBACV6xB,EAAez6B,UAAW,mBAAe,GAC5CE,IACI0I,WAAS,mBACV6xB,EAAez6B,UAAW,sBAAkB,GAC/CE,IACI0I,WAAS,YACV6xB,EAAez6B,UAAW,eAAW,GACxCE,IACI0I,WAAS,OACV6xB,EAAez6B,UAAW,UAAM,GACnCE,IACI0I,WAAS,aACV6xB,EAAez6B,UAAW,gBAAY,GACzCE,IACI0I,WAAS,cACV6xB,EAAez6B,UAAW,iBAAa,GAC1CE,IACI0I,WAAS,aACV6xB,EAAez6B,UAAW,gBAAY,GACzCE,IACI0I,WAAS,OACV6xB,EAAez6B,UAAW,aAAS,GACtCE,IACI0I,WAAS,aACV6xB,EAAez6B,UAAW,gBAAY,GACzCE,IACI0I,WAAS,OACV6xB,EAAez6B,UAAW,iBAAa,GAC1CE,IACI0I,WAAS,SACV6xB,EAAez6B,UAAW,YAAQ,GACrCE,IACI0I,WAAS,YACV6xB,EAAez6B,UAAW,eAAW,GACxCE,IACI0I,WAAS,gBACV6xB,EAAez6B,UAAW,mBAAe,GACrCy6B,GACTvwB,iBAKEwwB,GAAgC,SAAUj5B,GAE1C,SAASi5B,IACL,OAAkB,OAAXj5B,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAW/D,OAbAX,GAAUu7B,EAAgBj5B,GAI1BvB,IACI0I,WAAS,cACV8xB,EAAe16B,UAAW,cAAU,GACvCE,IACI0I,WAAS,MACV8xB,EAAe16B,UAAW,gBAAY,GACzCE,IACI0I,WAAS,WACV8xB,EAAe16B,UAAW,cAAU,GAChC06B,GACTxwB,iBAKEywB,GAAuC,SAAUl5B,GAEjD,SAASk5B,IACL,OAAkB,OAAXl5B,GAAmBA,EAAOwI,MAAMnK,KAAMU,YAAcV,KAQ/D,OAVAX,GAAUw7B,EAAuBl5B,GAIjCvB,IACIge,WAAUC,OAAQ,UAAW5R,SAAU,IAAK6R,OAAQ,UAAYsc,KACjEC,EAAsB36B,UAAW,gBAAY,GAChDE,IACIge,WAAUC,OAAQ,YAAa5R,SAAU,IAAK6R,OAAQ,UAAYsc,KACnEC,EAAsB36B,UAAW,cAAU,GACvC26B,GACTzwB,iBAaE0wB,GAA0B,SAAUn5B,GAEpC,SAASm5B,EAASl5B,EAASC,GACvB,IAAIgE,EAAQlE,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAEnD,OADA6F,EAAMk1B,iBAAkB,EACjBl1B,EA26EX,OA/6EAxG,GAAUy7B,EAAUn5B,GAWpBm5B,EAAS56B,UAAUuE,cAAgB,WAC/B,MAAO,YAKXq2B,EAAS56B,UAAU6B,UAAY,WAC3B,IAAI8D,EAAQ7F,KACZA,KAAKg7B,oBACLh7B,KAAKi7B,iBAAkB,EACvBj7B,KAAKk7B,WAAY,EACjBl7B,KAAKsK,YACDsd,OAAQ,SACR7c,IAAK,MACL2T,MAAO,QACPyc,GAAI,KACJrwB,KAAM,OACNJ,SAAU,YACVH,SAAU,YACVC,UAAW,aACXC,OAAQ,UACR2wB,SAAU,iBACVC,OAAQ,eACRC,UAAW,aACXC,SAAU,YACVC,QAAS,WACTC,MAAO,SACPC,UAAW,kBACXC,QAAS,gBACTC,WAAY,cACZC,UAAW,aACXC,SAAU,YACVC,OAAQ,uBACRC,KAAM,qBACNC,QAAS,mBACTC,OAAQ,kBACRC,MAAO,iBACPxd,MAAO,SAEX3e,KAAKo8B,gBACDC,gBAAgB,EAChBC,OAAQt8B,KAAKs8B,OAAO3Q,WACpBZ,UAAU,EACVwR,gBAAiBvD,GACjBwD,eAAgBnC,GAChBoC,mBAAoB,OACpBpR,YAAa,SAAUzlB,GACnBC,EAAM62B,iBAAiB92B,KAG/B5F,KAAKo8B,eAAeE,OAAOK,IAAM38B,KAAKs8B,OAAOM,YAC7C58B,KAAK68B,OAAS,IAAI9Y,gBAClB/jB,KAAK88B,YACL98B,KAAK+8B,UAAW,EAChB/8B,KAAKg9B,gBACD1tB,oBAAMtP,KAAKi9B,gBACXj9B,KAAKwxB,eAAgByL,mBAAqB,GAE1C3tB,oBAAMtP,KAAKk9B,eACXl9B,KAAKwxB,eAAgB0L,kBAAoB,IAQjDpC,EAAS56B,UAAUqE,eAAiB,WAEhC,OAAOvE,KAAKwE,cADK,gBAAiB,kBAOtCs2B,EAAS56B,UAAU8C,OAAS,WACxBhD,KAAKk7B,WAAY,EACjBl7B,KAAKuC,aACLvC,KAAKm9B,iBACLn9B,KAAKo9B,kBACLp9B,KAAKq9B,YACLr9B,KAAKs9B,kBAAkBt9B,KAAKu9B,cAC5Bv9B,KAAKw9B,eAAex9B,KAAKy9B,kBACzBz9B,KAAK6L,cAETivB,EAAS56B,UAAUqC,WAAa,WAC5BvC,KAAK6B,QAAQgC,aAAa,OAAQ,QAClC7D,KAAK6B,QAAQgC,aAAa,WAAY,KACtC7D,KAAK6B,QAAQgC,aAAa,wBAAyB7D,KAAK6B,QAAQW,GAAK,WACrExC,KAAK4vB,YAAY,KAAM5vB,KAAKoc,UAC5Bpc,KAAK09B,eACL19B,KAAK29B,WAAW39B,KAAK49B,eACrB59B,KAAK69B,eAAiB79B,KAAK89B,iBAAiB99B,KAAK+9B,eAErDjD,EAAS56B,UAAUw9B,aAAe,WAC9B19B,KAAK6C,UAAY6W,YAAU1Z,KAAK6B,SAxP9B,SAwP+C4X,eAAazZ,KAAK6B,SAxPjE,UA0PNi5B,EAAS56B,UAAUm9B,UAAY,WAC3B,IACIW,GACAte,SAFU,6BAGVue,OAAQ,IAAMxE,GAAW,OAASD,GAAO,8BAA2CU,IAExFl6B,KAAKk+B,SAAWze,eAAazf,KAAK6B,QAASm8B,GAC3C,IAAIG,GACAze,SAAU,IAAM+Z,GAAW,OAASD,GACpC4E,gBAAgB,GAEpBp+B,KAAKq+B,aAAe5e,eAAazf,KAAK6B,QAASs8B,IAEnDrD,EAAS56B,UAAUy9B,WAAa,SAAUW,GACtCA,EAAY5kB,YAAU1Z,KAAK6B,SA/PjB,kBA+P0C4X,eAAazZ,KAAK6B,SA/P5D,mBAiQdi5B,EAAS56B,UAAUq+B,eAAiB,SAAUD,GAC1C,IAAIE,EAAUjf,SAAO,IAAM4Z,GAAYn5B,KAAK6B,SACxCy8B,EACAE,EAAQ36B,aAAa,uBAAwB,QAG7C26B,EAAQx5B,gBAAgB,yBAGhC81B,EAAS56B,UAAU49B,iBAAmB,SAAU1iB,GAC5C,GAAIA,EACA,IAEI,GAAIzO,SAASU,iBAAiB+N,GAAUza,OACpC,OAAO6zB,UAAQ7nB,SAASnF,cAAc4T,GAAUS,UAAUb,QAGlE,MAAOpV,GACH,OAAO4uB,UAAQpZ,KAK3B0f,EAAS56B,UAAUi9B,eAAiB,WAChC,IAAIt3B,EAAQ7F,KACZA,KAAK88B,SAASxpB,KAAK,SACftT,KAAKs8B,OAAOmC,sBAAsBC,cAClC1+B,KAAKs8B,OAAOmC,WAAWE,aAAa3+B,KAAK4+B,SAAS5+B,KAAKs8B,SAASuC,KAAK,SAAUj5B,GAC3EC,EAAMi3B,SAAS3S,MACftkB,EAAMi5B,SAAWl5B,EAAEm5B,OACnBl5B,EAAMm5B,eAAiBn5B,EAAMo5B,UAC7Bp5B,EAAMq5B,cACNr5B,EAAMiL,aAAY,GACY,IAA1BjL,EAAMi3B,SAASn8B,QAAiBkF,EAAMk3B,UACtCl3B,EAAMs5B,cAKdn/B,KAAK88B,SAAS3S,MACV7a,oBAAMtP,KAAKs8B,OAAOmC,YAClBz+B,KAAKo/B,SAAWp/B,KAAK8+B,aAGrB9+B,KAAK8+B,SAAW9+B,KAAKs8B,OAAOmC,WAC5Bz+B,KAAKk/B,eAETl/B,KAAK8Q,aAAY,IAEQ,IAAzB9Q,KAAK88B,SAASn8B,QAAiBX,KAAK+8B,UACpC/8B,KAAKm/B,YAGbrE,EAAS56B,UAAU0+B,SAAW,SAAUS,EAAQ5wB,QAC9B,IAAVA,IAAoBA,EAAQ,MAChC,IACI6wB,EADAC,KAEJ,GAAKF,EAAOC,MAgBRA,EAAQD,EAAOC,MAAME,YAhBN,CACfF,EAAQ,IAAIG,QAEZ,IAAK,IADDC,EAAO1/B,KAAK2/B,oBAAoBN,GAC3Bt7B,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAK62B,GAAO37B,EAAKe,EAAGnE,OAAQoD,IAAM,CAC3D,IAAI67B,EAAM96B,EAAGf,GACD,eAAR67B,GAAgC,cAARA,GAA+B,UAARA,GAAqBP,EAAOO,KACtC,IAAlCL,EAAQ3vB,QAAQyvB,EAAOO,KAC1BL,EAAQjsB,KAAK+rB,EAAOO,IAG5BN,EAAM/f,OAAOggB,GACTG,EAAK5/B,eAAe,cACpBw/B,EAAMO,KAAKR,EAAOS,WAU1B,OAJAnZ,WAASoZ,WAAW//B,KAAKggC,UAAWX,EAAO1jB,KAAM2jB,GAC5ChwB,oBAAMb,IAAWa,oBAAM+vB,EAAOY,WAC/BX,EAAMY,MAAMb,EAAOY,SAAU,QAAUjgC,KAAKg/B,eAAiBxtB,WAAW/C,GAASA,GAE9E6wB,GAEXxE,EAAS56B,UAAU++B,QAAU,WACzB,QAAOj/B,KAAK8+B,SAAS,IAA6D,iBAA/C7Y,WAASjmB,KAAKs8B,OAAO95B,GAAIxC,KAAK8+B,SAAS,KAE9EhE,EAAS56B,UAAUg/B,YAAc,WAE7B,GADAl/B,KAAKmgC,SAAWngC,KAAKogC,YAAYpgC,KAAK8+B,SAAU9+B,KAAKs8B,QAC/B,IAAlBt8B,KAAKmgC,SAAgB,CACrBngC,KAAKqgC,YAAcrgC,KAAKsgC,eAAetgC,KAAK8+B,SAAU9+B,KAAKs8B,OAAO2D,UAClE,IAAIM,EAAYvgC,KAAKwgC,cAAcxgC,KAAK8+B,cAAUtgB,GAAW,GACzDlP,oBAAMixB,GACNvgC,KAAKo/B,YAGLp/B,KAAKo/B,SAAWmB,OAIpBvgC,KAAKo/B,SAAWp/B,KAAK8+B,UAG7BhE,EAAS56B,UAAU4Q,YAAc,SAAU2vB,GACvCzgC,KAAKo8B,eAAeI,eAAekE,MAAQ,EAC3C1gC,KAAK2gC,UAAYha,WAAS6E,WAAWiV,EAAWzgC,KAAKo/B,SAAWp/B,KAAK4gC,cAAc5gC,KAAKo/B,UAAWp/B,KAAKo8B,gBACxGp8B,KAAK6B,QAAQuC,YAAYpE,KAAK2gC,WAC9B3gC,KAAK6gC,aAAa7gC,KAAK6B,UAE3Bi5B,EAAS56B,UAAUw8B,iBAAmB,SAAU92B,GAC5C,GAAI5F,KAAK8gC,aAAc,CACnB,IAAIC,EAAcC,kBAAe,GAAQ5kB,SAAUpc,KAAKihC,aACpDve,EAAOnD,SAAO,OAASia,GAAM5zB,EAAEkK,MAC/BtN,EAAKoD,EAAEkK,KAAKyR,aAAa,YAC7B3b,EAAEkK,KAAKyD,WAAW,GAAG/N,aAAau7B,EAAan7B,EAAEkK,KAAKyD,WAAW,GAAGA,WAAWjE,oBAAMoT,GAAQ,EAAI,IACjG,IAAIwe,EAAajb,WAASrgB,EAAE02B,OAAO6E,UAAWv7B,EAAEwlB,SAC5CprB,KAAKk9B,aAAattB,QAAQpN,IAAO,GACjC+c,SAAO,IAAM4a,GAAe4G,GAAaj+B,UAAUC,IAAIk3B,IACvD8G,EAAYl9B,aAAa,eAAgB,QACzC7D,KAAKohC,SAASx7B,EAAEkK,OAEVR,oBAAM4xB,IAAyC,SAA1BA,EAAW5mB,WAMtCymB,EAAYl9B,aAAa,eAAgB,UALzC0b,SAAO,IAAM4a,GAAe4G,GAAaj+B,UAAUC,IAAIk3B,IACvD8G,EAAYl9B,aAAa,eAAgB,QACzC7D,KAAKohC,SAASx7B,EAAEkK,OAKpB,IAAIuxB,EAAQ9hB,SAAO,IAAM4a,GAAe4G,GACxCx9B,eAAaR,IAAIs+B,EAAO,YAAarhC,KAAKshC,kBAAmBthC,MAC7DuD,eAAaR,IAAIs+B,EAAO,UAAWrhC,KAAKshC,kBAAmBthC,MAE3DA,KAAK49B,eACL59B,KAAKuhC,cAAc37B,EAAEkK,MAErB9P,KAAKwhC,sBAAwB57B,EAAEkK,KAAKhN,UAAUqE,SAASoe,KACvD3f,EAAEkK,KAAKjM,aAAa,gBAAiB,SAEzC,IAAIy4B,EAAS12B,EAAE02B,OAGf,GAFAt8B,KAAKyhC,eAAe77B,EAAG02B,EAAOoF,SAAUnc,IACxCvlB,KAAKyhC,eAAe77B,EAAG02B,EAAO9Z,SAAUuX,KACnCzqB,oBAAMtP,KAAK69B,gBAAiB,CAC7B,IAAI8D,EAAU/7B,EAAEkK,KAAKtI,cAAc,IAAM0xB,IACzCyI,EAAQ9lB,UAAY,GACpBiL,SAAO9mB,KAAK69B,eAAej4B,EAAEwlB,SAAUuW,GAE3C,IAAI9xB,GACA+xB,KAAMh8B,EAAEkK,KACR+xB,SAAUj8B,EAAEwlB,QACZzP,KAAM/V,EAAE+V,MAEZ3b,KAAKwL,QAAQ,WAAYqE,IAE7BirB,EAAS56B,UAAUohC,kBAAoB,SAAU17B,GAC7C,IAAIk8B,EAAaviB,SAAO,sBAAsB3Z,EAAEtF,OAAO+O,eACvD0yB,qBAAmBn8B,EAAGk8B,IAE1BhH,EAAS56B,UAAUuhC,eAAiB,SAAU77B,EAAGyI,EAAQ+N,GACrD,IAAIyN,EAAOjkB,EAAEwlB,QACT4W,EAAc/b,WAAS5X,EAAQwb,GAC9Bva,oBAAM0yB,IAA2C,UAA3BA,EAAY1nB,YACnC1U,EAAEkK,KAAKhN,UAAUC,IAAIqZ,IAG7B0e,EAAS56B,UAAUkgC,YAAc,SAAU6B,EAAI5C,GAC3C,GAAIr/B,KAAKs8B,OAAOmC,sBAAsBC,cAClC,OAAO,EAEX,IAAK,IAAI19B,EAAI,EAAGuY,EAAM0oB,EAAGthC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC3C,GAA6B,iBAAjBq+B,EAAO6C,QAAwB5yB,oBAAM2W,WAASoZ,EAAO6C,MAAOD,EAAGjhC,KACvE,OAAO,EAEX,IAAKsO,oBAAM2W,WAASoZ,EAAOY,SAAUgC,EAAGjhC,OAASsO,oBAAM2W,WAASoZ,EAAO8C,YAAaF,EAAGjhC,KACnF,OAAO,EAGf,OAAO,GAEX85B,EAAS56B,UAAUogC,eAAiB,SAAU7B,EAAY2D,GAItD,IAAK,IAHDC,GAAW,IAAI5C,SAAQ6C,MAAMF,GAC7BH,EAAKtb,WAAS4b,cAAc9D,EAAY4D,GACxCG,KACKC,EAAI,EAAGA,EAAIR,EAAGthC,OAAQ8hC,IAAK,CAChC,IAAI9yB,EAAUsyB,EAAGQ,GAAG92B,MACpB62B,EAAQlvB,KAAK3D,GAEjB,OAAO6yB,GAEX1H,EAAS56B,UAAU0gC,cAAgB,SAAUhM,GAIzC,OAHIA,GAA2B,SAAnB50B,KAAKggC,YACbpL,EAAOjO,WAAS4b,cAAc3N,EAAMjO,WAASoZ,WAAW//B,KAAKggC,UAAWhgC,KAAKs8B,OAAO3gB,QAEjFiZ,GAEXkG,EAAS56B,UAAU2gC,aAAe,SAAUh/B,GAExC,IAAK,IADD6gC,EAAS79B,YAAU,cAAahD,GAC3B8gC,EAAI,EAAGA,EAAID,EAAO/hC,OAAQgiC,IAC/BD,EAAOC,GAAG9+B,aAAa,MArbvB,cAubJ,GAAI7D,KAAK+8B,SAAU,CAEf,IAAK,IADD6F,EAAS/9B,YAAU,IAAM0gB,GAAU1jB,GAC9Bb,EAAI,EAAGA,EAAI4hC,EAAOjiC,OAAQK,IAAK,CACpChB,KAAK6iC,WAAWD,EAAO5hC,GAAI,MAC3B,MAEJyY,cAAYmpB,EAAQrd,IAGxB,IAAK,IADDud,EAASj+B,YAAU,IAAMo0B,GAAW,SAAWc,GAAW,IAAKl4B,GAC1D4gC,EAAI,EAAGA,EAAIK,EAAOniC,OAAQ8hC,IAAK,CACpC,IAAI/f,EAAOnD,SAAO,OAASia,GAAMsJ,EAAOL,IACpC/f,GAAQA,EAAK5f,UAAUqE,SAAS6xB,MAChC8J,EAAOL,GAAG5+B,aAAa,gBAAiB,SACxC6V,YAAUopB,EAAOL,IAAKzI,KAIzB,IADD+I,EAASl+B,YAAU,IAAMk1B,GAAUl4B,GACvC,IAASb,EAAI,EAAGA,EAAI+hC,EAAOpiC,OAAQK,IAC/BhB,KAAKgjC,iBAAiBD,EAAO/hC,IAEjCyY,cAAYspB,EAAQhJ,IACpB/5B,KAAKijC,aACDjjC,KAAK+8B,UACL/8B,KAAKkjC,qBAGbpI,EAAS56B,UAAUgjC,kBAAoB,WACnC,IAAIr9B,EAAQ7F,KACZ,GAAIA,KAAK8gC,aAAc,CACnB,IAAIqC,KAAaj+B,UAAWlF,KAAKk9B,cACjCl9B,KAAKk9B,aAAa52B,QAAQ,SAAUmI,EAAO2E,GACvC,IAAIgwB,EAAWv9B,EAAMhE,QAAQ2F,cAAc,cAAgBiH,EAAQ,MAC/Da,oBAAM8zB,KACND,EAAUA,EAAQ1Z,OAAO,SAAU7jB,GAAK,OAAOA,IAAM6I,OAG7DzO,KAAKwxB,eAAgB0L,aAAciG,IAAW,KAGtDrI,EAAS56B,UAAUmjC,uBAAyB,SAAUxhC,GAClD,IAAKyN,oBAAMzN,GAAU,CACjB,GAAIA,EAAQiB,UAAUqE,SAAS2xB,IAC3B,OAEJ,IAAI6H,EAAY9+B,EACZA,EAAQiB,UAAUqE,SAAS8xB,MAC3B0H,EAAYphB,SAAO,IAAM4Z,GAAYt3B,IAEzC,IAAIq7B,EAAer4B,YAAU,IAAMo1B,GAAO0G,GACtCpyB,EAAQ1J,YAAU,IAAMo0B,GAAU0H,GAClC2C,EAAczhC,EAAQuQ,uBAAuB8nB,IAAc,GAC3D3rB,EAAM5N,SAAWu8B,EAAav8B,OAC9BX,KAAKujC,YAAYD,EAAa,QAAS,MAAM,GAAM,GAE9CpG,EAAav8B,OAAS,EAC3BX,KAAKujC,YAAYD,EAAa,gBAAiB,MAAM,GAAM,GAE9B,IAAxBpG,EAAav8B,QAClBX,KAAKujC,YAAYD,EAAa,UAAW,MAAM,GAAM,GAEzD,IAAIE,EAAWr2B,UAAQtL,EAAS,IAAMs3B,IACtC,IAAK7pB,oBAAMk0B,GAAW,CAClB,IAAIC,EAAgBt2B,UAAQq2B,EAAU,IAAMvK,IAC5Cj5B,KAAKqjC,uBAAuBI,MAIxC3I,EAAS56B,UAAUwjC,sBAAwB,SAAU7hC,EAAS+D,GAC1D,IAAK0J,oBAAMzN,GAAU,CACjB,IAAI8hC,EAAepkB,SAAO,IAAM4Z,GAAYt3B,GACxC+hC,OAAa,EACjB,IAAKt0B,oBAAMq0B,GAAe,CACtBC,EAAa/+B,YAAU,IAAMq1B,GAAcyJ,GAG3C,IAAK,IAFDxC,EAAYt/B,EAAQuQ,uBAAuB+nB,IAAe,GAAGr3B,UAAUqE,SAAS8yB,IAChF4J,OAAe,EACVzwB,EAAQ,EAAGA,EAAQwwB,EAAWjjC,OAAQyS,IAAS,CACpD,GAAK9D,oBAAMtP,KAAK8jC,kBAAqBx0B,oBAAM2W,WAASjmB,KAAKs8B,OAAO6E,UAAWnhC,KAAK8jC,gBAAgB1wB,KAG3F,CACD,IAAI2wB,EAAgBH,EAAWxwB,GAAOhB,uBAAuB+nB,IAAe,GAAGr3B,UAAUqE,SAAS8yB,IAClG4J,GAAiB7jC,KAAK+8B,UAAYgH,EAAiB,QAAW5C,EAAY,QAAU,eAJpF0C,EAAe5d,WAASjmB,KAAKs8B,OAAO6E,UAAWnhC,KAAK8jC,gBAAgB1wB,IAAU,QAAU,UAM5FpT,KAAKujC,YAAYK,EAAWxwB,GAAQywB,EAAcj+B,GAAG,GAAM,OAK3Ek1B,EAAS56B,UAAU8jC,iBAAmB,SAAUz1B,EAAO01B,GACnD,GAAK30B,oBAAMf,GAYP,IAAK,IADDq1B,EAAa/+B,YAAU,IAAMq1B,GAAcl6B,KAAK6B,SAC3CuR,EAAQ,EAAGA,EAAQwwB,EAAWjjC,OAAQyS,IAC3CpT,KAAKujC,YAAYK,EAAWxwB,GAAQ6wB,EAAU,QAAU,gBAZ5D,IAAK,IAAIjjC,EAAI,EAAGuY,EAAMhL,EAAM5N,OAAQK,EAAIuY,EAAKvY,IAAK,CAC9C,IAAIkjC,EAAQlkC,KAAKmkC,WAAW51B,EAAMvN,IAClC,IAAIsO,oBAAM40B,GAAV,CAGA,IAAId,EAAW7jB,SAAO,IAAM4Z,GAAa,KAAOe,GAAcgK,GAC9DlkC,KAAKokC,kBAAkBhB,GAAWa,EAASC,EAAO,SAU9DpJ,EAAS56B,UAAUqjC,YAAc,SAAUhd,EAAS8d,EAAOz+B,EAAG0+B,EAAWC,GACrE,IAAIC,EACA30B,EACA40B,EAASt3B,UAAQoZ,EAAS,IAAM0S,IACpC,GAAKqL,IACDtkC,KAAKg7B,oBACLnrB,EAAY7P,KAAK0kC,cAAcD,EAAQJ,EAAOz+B,GAC9C5F,KAAKwL,QAAQ,eAAgBqE,IACzBA,EAAUE,QAJlB,CAQA,IAAI40B,EAAYpe,EAAQnU,uBAAuB+nB,IAAe,GAsB9D,GArBc,UAAVkK,GAAsBM,EAAU7hC,UAAUqE,SAAS8yB,IAMpC,YAAVoK,IAAwBM,EAAU7hC,UAAUqE,SAAS8yB,KAAU0K,EAAU7hC,UAAUqE,SAzjBhF,YA0jBRsS,eAAakrB,IAAa1K,GA1jBlB,WA2jBRj6B,KAAK4kC,YAAYH,GACjBD,EAAY,SAEG,kBAAVH,GAA8BM,EAAU7hC,UAAUqE,SA9jB/C,YA+jBRw9B,EAAU7hC,UAAU6B,OAAOs1B,IAC3B0K,EAAU7hC,UAAUC,IAhkBZ,UAikBR/C,KAAK4kC,YAAYH,GACjBD,EAAY,UAdZG,EAAU7hC,UAAU6B,OApjBZ,UAqjBRggC,EAAU7hC,UAAUC,IAAIk3B,IACxBj6B,KAAKohC,SAASqD,GACdD,EAAY,QAahBA,EAAsB,UAAVH,EAAoB,OAAmB,YAAVA,EAAsB,QAAUG,EACpEl1B,oBAAMk1B,IACPje,EAAQ1iB,aAAa,eAAgB2gC,GAErCD,EAAO,CACP,IAAI1a,KAAU3kB,UAAWlF,KAAKg7B,kBAC9BnrB,EAAY7P,KAAK0kC,cAAcD,EAAQJ,EAAOz+B,GAC1Ci/B,cAAYP,KACZz0B,EAAUga,KAAOA,GAGpBya,GACIh1B,oBAAMk1B,KACPje,EAAQ1iB,aAAa,eAAgB2gC,GACrC30B,EAAUga,KAAK,GAAGib,QAAUN,EAC5BxkC,KAAKwL,QAAQ,cAAeqE,GAC5B7P,KAAKg7B,uBAIjBF,EAAS56B,UAAUkhC,SAAW,SAAU8C,GACpC,IAAI1hC,EAAK0hC,EAAM3iB,aAAa,YACvBjS,oBAAM9M,KAA0C,IAAnCxC,KAAKk9B,aAAattB,QAAQpN,IACxCxC,KAAKk9B,aAAa5pB,KAAK9Q,IAG/Bs4B,EAAS56B,UAAU0kC,YAAc,SAAUV,GACvC,IAAI9wB,EAAQpT,KAAKk9B,aAAattB,QAAQs0B,EAAM3iB,aAAa,aACrDnO,GAAS,GACTpT,KAAKk9B,aAAajjB,OAAO7G,EAAO,IAGxC0nB,EAAS56B,UAAUwkC,cAAgB,SAAUD,EAAQp2B,EAAQzI,GACzD5F,KAAKg7B,iBAAiB1nB,KAAKtT,KAAK+kC,YAAYN,IAC5C,IAAI5C,EAAW7hC,KAAKg7B,iBACpB,OAAS3sB,OAAQA,EAAQ0B,QAAQ,EAAOi1B,cAAc11B,oBAAM1J,GAAmBg8B,KAAM6C,EAAQ5a,KAAMgY,IAEvG/G,EAAS56B,UAAUi/B,SAAW,WACZ5f,SAAO,IAAM4Z,GAAYn5B,KAAK6B,SACpCgC,aAAa,OAAQw2B,GAAaC,UAC1Ct6B,KAAKu+B,eAAev+B,KAAKwhC,qBACzB,IAAIyD,EAAY1lB,SAAO,IAAM0Z,GAAUj5B,KAAK6B,SACxCojC,IACAvrB,YAAUurB,GAAY7K,IACtBp6B,KAAKklC,aAAa,KAAMD,IAE5BjlC,KAAKmlC,oBACLnlC,KAAKkjC,oBACLljC,KAAK+8B,UAAW,EAChB/8B,KAAKk7B,WAAY,EACjB,IAAIrrB,GAAcga,KAAM7pB,KAAK8+B,UAC7B9+B,KAAKwL,QAAQ,YAAaqE,IAE9BirB,EAAS56B,UAAUilC,kBAAoB,WACnC,IAAIvC,EAAS/9B,YAAU,IAAM0gB,GAAUvlB,KAAK6B,SACxCujC,EAAQplC,KAAKi9B,cACjB,GAAImI,EAAMzkC,OAAS,EAAG,CAClBX,KAAKwxB,eAAgByL,mBAAqB,GAC1C,IAAK,IAAIj8B,EAAI,EAAGA,EAAIokC,EAAMzkC,OAAQK,IAAK,CACnC,IAAIqkC,EAAQ9lB,SAAO,cAAgB6lB,EAAMpkC,GAAK,KAAMhB,KAAK6B,SAEzD,GADA7B,KAAK6iC,WAAWwC,EAAO,MAAM,IACxBrlC,KAAKwhC,oBACN,YAKRxhC,KAAKslC,iBAAiB1C,GAE1BnpB,cAAYmpB,EAAQrd,KAExBuV,EAAS56B,UAAUolC,iBAAmB,SAAU1C,GAC5C,IAAK,IAAI5hC,EAAI,EAAGA,EAAI4hC,EAAOjiC,SACvBX,KAAK6iC,WAAWD,EAAO5hC,GAAI,MAAM,GAC5BhB,KAAKwhC,qBAFqBxgC,OAOvC85B,EAAS56B,UAAU4L,aAAe,SAAUlG,GACxC,IAAItF,EAASsF,EAAEtF,OAEf,GADAiD,eAAaoB,OAAO3E,KAAK6B,QAAS,cAAe7B,KAAKulC,oBACjDjlC,IAAUN,KAAKi7B,gBAApB,CAII,IAAIn4B,EAAYxC,EAAOwC,UACnB6mB,EAAKxc,UAAQ7M,EAAQ,IAAM24B,IAC/B,GAAKtP,EAAL,CAMI,GAFA3pB,KAAKwlC,cACLxlC,KAAKylC,gBAAgB9b,GACjB3pB,KAAK8gC,aAAc,CACnB,IAAI4E,EAAev4B,UAAQ7M,EAAQ,IAAM45B,IACzC,IAAK5qB,oBAAMo2B,GAAe,CACtB,IAAIC,EAAepmB,SAAO,IAAM4a,GAAeuL,GAG/C,OAFA1lC,KAAKokC,kBAAkBsB,EAAcC,EAAa7iC,UAAUqE,SAAS8yB,IAAQtQ,EAAI/jB,QACjF5F,KAAK4lC,kBAAkBhgC,EAAG+jB,IAI9B7mB,EAAUqE,SAAS6xB,IACnBh5B,KAAK6lC,aAAalc,EAAIrpB,EAAQsF,GAEzB9C,EAAUqE,SAAS4xB,IACxB/4B,KAAK8lC,aAAanc,EAAIrpB,EAAQsF,GAGzB9C,EAAUqE,SAASgyB,KAAgBr2B,EAAUqE,SAAS8xB,KACvDj5B,KAAK+lC,aAAapc,EAAI/jB,GAAG,GAGjC5F,KAAK4lC,kBAAkBhgC,EAAG+jB,MAItCmR,EAAS56B,UAAU8lC,kBAAoB,SAAUzf,EAAS0f,EAASrgC,GAC/D,IAAI6+B,EAASt3B,UAAQoZ,EAAS,IAAM0S,IACpCj5B,KAAKg7B,oBACL,IAAIwJ,EAAayB,EAAmB,QAAT,OACtB32B,oBAAMk1B,IACPje,EAAQ1iB,aAAa,eAAgB2gC,GAEzC,IAAI30B,EAAY7P,KAAK0kC,cAAcD,EAASwB,EAAsB,QAAZ,UAAqBrgC,GAE3E,OADA5F,KAAKwL,QAAQ,eAAgBqE,GACtBA,GAEXirB,EAAS56B,UAAUgmC,iBAAmB,SAAU3f,EAAS0f,EAASrgC,GACjDuH,UAAQoZ,EAAS,IAAM0S,IAApC,IACIppB,EAAY7P,KAAK0kC,cAAcne,EAAS0f,EAAU,UAAY,QAASrgC,GAC3EiK,EAAUga,KAAOha,EAAUga,KAAK5P,OAAO,EAAGpK,EAAUga,KAAKlpB,OAAS,GAClEX,KAAKwL,QAAQ,cAAeqE,IAEhCirB,EAAS56B,UAAU0lC,kBAAoB,SAAUhgC,EAAG+jB,GAChD,IAAI9Z,GACAyZ,MAAO1jB,EACPg8B,KAAMjY,GAEV3pB,KAAKwL,QAAQ,cAAeqE,IAEhCirB,EAAS56B,UAAUimC,WAAa,SAAU1B,EAAQ/hB,GAC9C,IAAI7c,EAAQ7F,KACR0iB,EAAK5f,UAAUqE,SAASmyB,KACxBt5B,KAAKomC,YAAY1jB,GAErBjJ,eAAaiJ,GAAOsW,IACpBtf,YAAUgJ,GAAOqW,IACjB,IAAIsN,EAAQ,EACRt7B,EAAM,EACNu7B,EAAQtmC,KACRkmB,EAAK3G,SAAO,IAAM4Z,GAAYsL,GAC9BP,EAAQO,EACZzkC,KAAKumC,UAAUrC,EAAOhe,GACjBlmB,KAAKk7B,UAqBNl7B,KAAKwmC,aAAatC,EAAOhe,EAAIxD,GApB7B1iB,KAAK68B,OAAOlZ,QAAQuC,GAChB/jB,KAAMnC,KAAKkjB,UAAUtB,OAAOvD,OAC5B5R,SAAUzM,KAAKkjB,UAAUtB,OAAOnV,SAChC0W,eAAgBnjB,KAAKkjB,UAAUtB,OAAOtD,OACtCsF,MAAO,SAAUxJ,GACb8pB,EAAMvhC,MAAM2O,SAAW,SACvB+0B,EAAQnC,EAAMn1B,aACdhE,EAAMwU,SAAO,IAAMka,GAAUgL,GAAQ11B,cAEzC8U,SAAU,SAAUzJ,GAChBA,EAAKvY,QAAQc,MAAMC,QAAU,QAC7B0jC,EAAMG,cAAcrsB,EAAMisB,EAAOt7B,IAErCA,IAAK,SAAUqP,GACXA,EAAKvY,QAAQc,MAAMC,QAAU,QAC7BiD,EAAM2gC,aAAatC,EAAOhe,EAAIxD,OAQ9CoY,EAAS56B,UAAUsmC,aAAe,SAAU/B,EAAQve,EAAIxD,GACpDwD,EAAGvjB,MAAMC,QAAU,QACnB6hC,EAAO9hC,MAAMC,QAAU,QACvB6hC,EAAO9hC,MAAM2O,SAAW,GACxBmzB,EAAO9hC,MAAM4N,OAAS,GACtBkJ,eAAaiJ,GAAO6W,IACpBkL,EAAO5gC,aAAa,gBAAiB,QACrC4V,eAAagrB,GAASzK,IAClBh6B,KAAK+8B,UAAY/8B,KAAK0mC,YACtB1mC,KAAKwL,QAAQ,eAAgBxL,KAAK0mC,aAG1C5L,EAAS56B,UAAU4lC,aAAe,SAAUrB,EAAQ/hB,EAAM9c,GACtD,IAAIC,EAAQ7F,KACZ,IAAI0iB,EAAK5f,UAAUqE,SAASoyB,IAA5B,CAII7f,YAAUgJ,GAAO6W,IAErB,IAAIoN,EACJ,IAAI3mC,KAAK+8B,WACL4J,EAAU3mC,KAAK4mC,eAAenC,EAAQ7+B,GACtC5F,KAAKwL,QAAQ,iBAAkBm7B,IAC3BA,EAAQ52B,QAHhB,CAOA0J,eAAaiJ,GAAOqW,IACpBrf,YAAUgJ,GAAOsW,IACjB,IAAIqN,EAAQ,EACRt7B,EAAM,EACNu7B,EAAQtmC,KACRkmB,EAAK3G,SAAO,IAAM4Z,GAAYsL,GAC9BP,EAAQO,EACZ/qB,YAAU+qB,GAASzK,IACnBh6B,KAAK68B,OAAOlZ,QAAQuC,GAChB/jB,KAAMnC,KAAKkjB,UAAUvB,SAAStD,OAC9B5R,SAAUzM,KAAKkjB,UAAUvB,SAASlV,SAClC0W,eAAgBnjB,KAAKkjB,UAAUvB,SAASrD,OACxCsF,MAAO,SAAUxJ,GACb8pB,EAAMvhC,MAAM2O,SAAW,SACvB+0B,EAAQ9mB,SAAO,IAAMka,GAAUgL,GAAQ11B,aACvChE,EAAMm5B,EAAMn1B,cAEhB8U,SAAU,SAAUzJ,GAChBksB,EAAMG,cAAcrsB,EAAMisB,EAAOt7B,IAErCA,IAAK,SAAUqP,GACX8pB,EAAMvhC,MAAM2O,SAAW,GACvB8I,EAAKvY,QAAQc,MAAMC,QAAU,OAC7BshC,EAAMvhC,MAAM4N,OAAS,GACrBkJ,eAAaiJ,GAAO6W,IACpBkL,EAAO5gC,aAAa,gBAAiB,SACjCgC,EAAMk3B,UACNl3B,EAAM2F,QAAQ,gBAAiBm7B,SAK/C7L,EAAS56B,UAAUqmC,UAAY,SAAU9B,EAAQve,GAC7CA,EAAGvjB,MAAMC,QAAU,QACnBsjB,EAAGvjB,MAAMmoB,WAAa,SACtB2Z,EAAO9hC,MAAM4N,OAASk0B,EAAO11B,aAAe,KAC5CmX,EAAGvjB,MAAMC,QAAU,OACnBsjB,EAAGvjB,MAAMmoB,WAAa,IAE1BgQ,EAAS56B,UAAUumC,cAAgB,SAAUrsB,EAAMisB,EAAOt7B,GACtD,IACI87B,GAAiB97B,EAAMs7B,KADVjsB,EAAK3N,SAAW2N,EAAK0sB,WAAa1sB,EAAK3N,UACR45B,EAChDjsB,EAAKvY,QAAQwN,cAAc1M,MAAM4N,OAASs2B,EAAgB,MAE9D/L,EAAS56B,UAAU8iC,iBAAmB,SAAU+D,EAAUC,GACtD,IAAInhC,EAAQ7F,KACRinC,EAAQ1nB,SAAO,OAASia,GAAMuN,GAClC,IAAIz3B,oBAAM23B,GAAV,CAGAjnC,KAAKknC,YAAYD,GACjB,IAAIE,EACJ,GAAInnC,KAAKs8B,OAAOmC,sBAAsBC,cAAa,CAC/C,IAAIgC,EAAQ1gC,KAAKonC,QAAQL,EAAU,IAAM5N,IAAYx4B,OACjD0mC,EAAWrnC,KAAKsnC,eAAetnC,KAAKs8B,OAAQoE,EAAO,GACvD,GAAIpxB,oBAAM+3B,IAAa/3B,oBAAM+3B,EAAS5I,YAGlC,OAFAx5B,SAAOgiC,QACPF,EAAS/hC,gBAAgB,iBAG7BhF,KAAK88B,SAASxpB,KAAK,SACnB+zB,EAAS5I,WAAWE,aAAa3+B,KAAK4+B,SAASyI,EAAUN,EAASxlB,aAAa,cAAcsd,KAAK,SAAUj5B,GAIxG,GAHAC,EAAMi3B,SAAS3S,MACfgd,EAAavhC,EAAEm5B,OACfl5B,EAAMi+B,gBAAkBqD,EACpB73B,oBAAM63B,IAAqC,IAAtBA,EAAWxmC,OAChCsE,SAAOgiC,GACPF,EAAS/hC,gBAAgB,qBAExB,CACD,IAAI06B,EAAO75B,EAAM85B,oBAAoB0H,GACrCxhC,EAAMu2B,eAAeE,OAASoD,EAC9B75B,EAAMu2B,eAAeE,OAAOK,IAAM+C,EAAK9C,YACvC,IAAIp6B,EAAKukC,EAASxlB,aAAa,YAC3BsgB,EAAWh8B,EAAM0hC,cAAc/kC,GACnC6jB,WAAS,QAAS8gB,EAAYtF,GAC9Bh8B,EAAMu2B,eAAeI,eAAekE,MAAQlvB,WAAWu1B,EAASxlB,aAAa,eAAiB,EAC9FwlB,EAAS3iC,YAAYuiB,WAAS6E,WAAW2b,EAAYthC,EAAMu2B,iBAC3Dv2B,EAAMsgC,WAAWY,EAAUE,GAC3BphC,EAAM2hC,gBAAgBT,GACtBlhC,EAAMg7B,aAAakG,GACnBlhC,EAAM4hC,eAAeV,EAAUC,GAEL,IAA1BnhC,EAAMi3B,SAASn8B,QAAiBkF,EAAMk3B,UACtCl3B,EAAMs5B,iBAIb,CAGD,GAFAgI,EAAannC,KAAKwgC,cAAcxgC,KAAK8+B,SAAUiI,EAASxlB,aAAa,aACrEvhB,KAAK8jC,gBAAkBqD,EACnB73B,oBAAM63B,IAAqC,IAAtBA,EAAWxmC,OAGhC,OAFAsE,SAAOgiC,QACPF,EAAS/hC,gBAAgB,iBAIzBhF,KAAKo8B,eAAeI,eAAekE,MAAQlvB,WAAWu1B,EAASxlB,aAAa,eAAiB,EAC7FwlB,EAAS3iC,YAAYuiB,WAAS6E,WAAWxrB,KAAK4gC,cAAcuG,GAAannC,KAAKo8B,iBAC9Ep8B,KAAKmmC,WAAWY,EAAUE,GAC1BjnC,KAAKwnC,gBAAgBT,GACrB/mC,KAAK6gC,aAAakG,GAClB/mC,KAAKynC,eAAeV,EAAUC,MAI1ClM,EAAS56B,UAAUsnC,gBAAkB,SAAU3lC,GACvC7B,KAAK8gC,eACL9gC,KAAK0jC,sBAAsB7hC,GAC3B7B,KAAKqjC,uBAAuBxhC,IAEhC7B,KAAK8jC,gBAAkB,MAE3BhJ,EAAS56B,UAAUwnC,UAAY,SAAUrI,EAAQsI,EAAWC,GACxD,OAAID,IAAcC,EACPvI,EAGAr/B,KAAK0nC,UAAU1nC,KAAK6nC,eAAexI,GAASsI,EAAWC,EAAY,IAGlF9M,EAAS56B,UAAUonC,eAAiB,SAAUjI,EAAQsI,EAAWC,GAC7D,OACID,IAAcC,EACP5nC,KAAK6nC,eAAexI,GAGpBr/B,KAAKsnC,eAAetnC,KAAK6nC,eAAexI,GAASsI,EAAWC,EAAY,IAGvF9M,EAAS56B,UAAU2nC,eAAiB,SAAUxI,GAC1C,MAAgC,iBAAjBA,EAAO6C,OAAsB5yB,oBAAM+vB,EAAO6C,OAAU7C,EAASA,EAAO6C,OAEvFpH,EAAS56B,UAAUsgC,cAAgB,SAAUsH,EAAKC,EAAUC,QACzC,IAAXA,IAAqBA,GAAS,GAClC,IAAIz0B,EACJ,GAAIjE,oBAAMw4B,GACN,OAAOv0B,EAEN,GAAsB,IAAlBvT,KAAKmgC,SACV,OAAOngC,KAAKioC,cAAcjoC,KAAKqgC,YAAa0H,EAAUC,GAGtD,GAAiC,iBAAtBhoC,KAAKs8B,OAAO4F,MACnB,IAAK,IAAIlhC,EAAI,EAAGknC,EAASJ,EAAInnC,OAAQK,EAAIknC,EAAQlnC,IAAK,CAClD,IAAImnC,EAASliB,WAASjmB,KAAKs8B,OAAO95B,GAAIslC,EAAI9mC,IAC1C,GAAImnC,GAAUA,EAAO7tB,aAAeytB,EAChC,OAAO9hB,WAASjmB,KAAKs8B,OAAO4F,MAAO4F,EAAI9mC,IAEtC,IAAKsO,oBAAM2W,WAASjmB,KAAKs8B,OAAO4F,MAAO4F,EAAI9mC,WAEzBwd,KADnBjL,EAAavT,KAAKwgC,cAAcva,WAASjmB,KAAKs8B,OAAO4F,MAAO4F,EAAI9mC,IAAK+mC,IAEjE,MAMpB,OAAOx0B,GAEXunB,EAAS56B,UAAU+nC,cAAgB,SAAUpe,EAAMke,EAAUC,GAEzD,IAAI14B,oBAAMua,GAGV,IAAK,IAAI7oB,EAAI,EAAGknC,EAASre,EAAKlpB,OAAQK,EAAIknC,EAAQlnC,IAAK,CACnD,GAAKsO,oBAAMua,EAAK7oB,GAAG,KAAQsO,oBAAM2W,WAASjmB,KAAKs8B,OAAO2D,SAAUpW,EAAK7oB,GAAG,KAKnE,OAAIgnC,EACEne,EAAK7oB,MALZ,GAAIilB,WAASjmB,KAAKs8B,OAAO2D,SAAUpW,EAAK7oB,GAAG,IAAIsZ,aAAeytB,EAC1D,OAAOle,EAAK7oB,KAY5B85B,EAAS56B,UAAUunC,eAAiB,SAAU5lC,EAASmlC,GACnD,GAAIA,EAEA,IAAK,IADDoB,EAASvjC,YAAU,IAAMm0B,GAAYn3B,GAChCb,EAAI,EAAGuY,EAAM6uB,EAAOznC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC/C,IAAI0hB,EAAO0lB,EAAOpnC,GACdqnC,EAAQl7B,UAAQuV,EAAM,IAAMuW,IAChCj5B,KAAKgjC,iBAAiBqF,EAAOrB,KAIzClM,EAAS56B,UAAU6lC,aAAe,SAAUpc,EAAI/jB,EAAG0iC,GAC3CtoC,KAAKwhC,sBAAyB57B,GAAKA,EAAE2iC,SAAYD,IAAgBtoC,KAAKwoC,SAAS7e,GAC/E3pB,KAAKyoC,aAAa9e,EAAI/jB,GAGtB5F,KAAK6iC,WAAWlZ,EAAI/jB,EAAG0iC,IAG/BxN,EAAS56B,UAAUsoC,SAAW,SAAU7e,GACpC,QAAOA,EAAG7mB,UAAUqE,SAASkyB,KAEjCyB,EAAS56B,UAAU2iC,WAAa,SAAUlZ,EAAI/jB,EAAG0iC,GAC7C,GAAIh5B,oBAAMqa,KAAS3pB,KAAKwhC,qBAAuBxhC,KAAKwoC,SAAS7e,KAAQra,oBAAM1J,GACvE5F,KAAKylC,gBAAgB9b,OADzB,CAIA,IAAI9Z,EACJ,IAAI7P,KAAK+8B,WACLltB,EAAY7P,KAAK0oC,eAAe/e,EAAI,SAAU/jB,GAC9C5F,KAAKwL,QAAQ,gBAAiBqE,IAC1BA,EAAUE,QAHlB,CAUA,GAHK/P,KAAKwhC,sBAAyB8G,GAAiB1iC,KAAMA,GAAMA,EAAE2iC,WAC9DvoC,KAAK2oC,kBAEL3oC,KAAKwhC,qBAAuB57B,GAAKA,EAAEgjC,SAAU,CACxC5oC,KAAK6oC,YACN7oC,KAAK6oC,UAAYlf,GAErB,IAAImf,EAAa9oC,KAAK+oC,OAAOn5B,QAAQ5P,KAAK6oC,WACtCG,EAAWhpC,KAAK+oC,OAAOn5B,QAAQ+Z,GACnC,GAAImf,EAAaE,EAAU,CACvB,IAAIC,EAAOH,EACXA,EAAaE,EACbA,EAAWC,EAEf,IAAK,IAAIjoC,EAAI8nC,EAAY9nC,GAAKgoC,EAAUhoC,IAAK,CACzC,IAAIkoC,EAAWlpC,KAAK+oC,OAAO/nC,GACvBuL,YAAU28B,IACVlpC,KAAKmpC,UAAUD,SAKvBlpC,KAAK6oC,UAAYlf,EACjB3pB,KAAKmpC,UAAUxf,GAEnB3pB,KAAKylC,gBAAgB9b,GACjB3pB,KAAK+8B,UACL/8B,KAAKwL,QAAQ,eAAgBqE,MAGrCirB,EAAS56B,UAAUuoC,aAAe,SAAU9e,EAAI/jB,GAC5C,IAAIiK,EACA7P,KAAK+8B,WACLltB,EAAY7P,KAAK0oC,eAAe/e,EAAI,YAAa/jB,GACjD5F,KAAKwL,QAAQ,gBAAiBqE,GAC1BA,EAAUE,UAIlB/P,KAAKopC,aAAazf,GAClB3pB,KAAKylC,gBAAgB9b,GACjB3pB,KAAK+8B,UACL/8B,KAAKwL,QAAQ,eAAgBqE,KAGrCirB,EAAS56B,UAAUulC,gBAAkB,SAAU9b,GAC3C,IAAKra,oBAAMqa,GAAK,CACZ,IAAI0f,EAAcrpC,KAAKspC,iBACnBD,GACA5vB,eAAa4vB,GAAcjP,IAE/B1gB,YAAUiQ,GAAKyQ,IACfp6B,KAAKklC,aAAamE,EAAa1f,KAGvCmR,EAAS56B,UAAUipC,UAAY,SAAUjF,GACrCA,EAAMrgC,aAAa,gBAAiB,QACpC6V,YAAUwqB,GAAQ7K,IAClB,IAAI72B,EAAK0hC,EAAM3iB,aAAa,YACvBjS,oBAAM9M,KAA2C,IAApCxC,KAAKi9B,cAAcrtB,QAAQpN,IACzCxC,KAAKi9B,cAAc3pB,KAAK9Q,IAGhCs4B,EAAS56B,UAAUkpC,aAAe,SAAUlF,GACpClkC,KAAKwhC,oBACL0C,EAAMrgC,aAAa,gBAAiB,SAGpCqgC,EAAMl/B,gBAAgB,iBAE1ByU,eAAayqB,GAAQ7K,IACrB,IAAIjmB,EAAQpT,KAAKi9B,cAAcrtB,QAAQs0B,EAAM3iB,aAAa,aACtDnO,GAAS,GACTpT,KAAKi9B,cAAchjB,OAAO7G,EAAO,IAGzC0nB,EAAS56B,UAAUyoC,gBAAkB,WAEjC,IAAK,IADDY,EAAavpC,KAAK6B,QAAQwL,iBAAiB,IAAMgsB,IAC5Ct1B,EAAK,EAAGylC,EAAeD,EAAYxlC,EAAKylC,EAAa7oC,OAAQoD,IAAM,CACxE,IAAID,EAAM0lC,EAAazlC,GACnB/D,KAAKwhC,oBACL19B,EAAID,aAAa,gBAAiB,SAGlCC,EAAIkB,gBAAgB,iBAG5ByU,cAAY8vB,EAAYlQ,IACxBr5B,KAAKwxB,eAAgByL,mBAAqB,IAE9CnC,EAAS56B,UAAUwoC,eAAiB,SAAUjE,EAAQp2B,EAAQzI,GAC1D,IAAIi8B,EAAW7hC,KAAK+kC,YAAYN,GAChC,OAASp2B,OAAQA,EAAQ0B,QAAQ,EAAOi1B,cAAc11B,oBAAM1J,GAAmBg8B,KAAM6C,EAAQ5C,SAAUA,IAE3G/G,EAAS56B,UAAUk9B,gBAAkB,WACjCp9B,KAAKypC,aAAkC,SAAlBzpC,KAAK0pC,SAAwBznC,UAAQI,SAAW,QAAU,WAAcrC,KAAK0pC,UAEtG5O,EAAS56B,UAAUypC,cAAgB,SAAU/jC,GACzC,IAAItF,EAASsF,EAAEtF,QACVA,GAAUA,EAAOwC,UAAUqE,SAnmC5B,YAmmC+C7G,EAAOwC,UAAUqE,SAAS2xB,KACzEx4B,EAAOwC,UAAUqE,SAASgyB,KAAe74B,EAAOwC,UAAUqE,SAAS8xB,KACnE34B,EAAOwC,UAAUqE,SAASqyB,KAASx5B,KAAK8gC,cAAgB3zB,UAAQ7M,EAAQ,IAAM45B,KAI9El6B,KAAK4pC,qBAAqBz8B,UAAQ7M,EAAQ,IAAM24B,IAAWrzB,IAGnEk1B,EAAS56B,UAAU0pC,qBAAuB,SAAUnF,EAAQ7+B,GACxD,IAAI8c,EAAOnD,SAAO,OAASia,GAAMiL,GACjC,GAAK/hB,IAAQA,EAAK5f,UAAUqE,SAASoyB,IAArC,CAIoB7W,EAAK5f,UACPqE,SAAS6xB,IACnBh5B,KAAK6lC,aAAapB,EAAQ/hB,EAAM9c,GAGhC5F,KAAK8lC,aAAarB,EAAQ/hB,EAAM9c,KAI5Ck1B,EAAS56B,UAAU2lC,aAAe,SAAUpB,EAAQ/hB,EAAM9c,EAAGohC,GACzD,IAAItkB,EAAK5f,UAAUqE,SAASoyB,MAIxB7f,YAAUgJ,GAAO6W,KAEjBv5B,KAAK+8B,WACL/8B,KAAK0mC,WAAa1mC,KAAK4mC,eAAenC,EAAQ7+B,GAC9C5F,KAAKwL,QAAQ,gBAAiBxL,KAAK0mC,aAC/B1mC,KAAK0mC,WAAW32B,SAHxB,CAOA,IAAImW,EAAK3G,SAAO,IAAM4Z,GAAYsL,GAC9Bve,GAAsB,OAAhBA,EAAG2jB,SACT7pC,KAAKmmC,WAAW1B,EAAQ/hB,GAGxB1iB,KAAKgjC,iBAAiByB,EAAQuC,KAGtClM,EAAS56B,UAAUiM,iBAAmB,SAAUvG,GAC5C,IAAItF,EAASsF,EAAEtF,OACX+oC,EAAcrpC,KAAKspC,iBACvB,GAAIhpC,GAAUA,EAAOwC,UAAUqE,SAppC3B,WAopCJ,CACI,IAAI2iC,EAASxpC,EACI,UAAbsF,EAAEyI,QACFy7B,EAAOC,OACP/pC,KAAK6B,QAAQ+L,QACb8L,YAAU2vB,GAAcjQ,KAEN,WAAbxzB,EAAEyI,SACPy7B,EAAOr7B,MAAQzO,KAAKgqC,QACpBF,EAAOC,OACP/pC,KAAK6B,QAAQ+L,QACb8L,YAAU2vB,GAAcjQ,SAXhC,CAeAxzB,EAAEiB,iBACF,IAAIgJ,GACAE,QAAQ,EACRuZ,MAAO1jB,EACPg8B,KAAMyH,GAGV,GADArpC,KAAKwL,QAAQ,WAAYqE,IACrBA,EAAUE,OAGd,OAAQnK,EAAEyI,QACN,IAAK,QACGrO,KAAK8gC,cACL9gC,KAAKiqC,UAAUrkC,GAEnB,MACJ,IAAK,YACD5F,KAAKkqC,UAASlqC,KAAK6C,UAA0B+C,GAC7C,MACJ,IAAK,WACD5F,KAAKkqC,WAASlqC,KAAK6C,UAA0B+C,GAC7C,MACJ,IAAK,YACD5F,KAAKmqC,gBAAe,EAAMvkC,GAC1B,MACJ,IAAK,WACL,IAAK,WACL,IAAK,SACD5F,KAAKoqC,cAAa,GAClB,MACJ,IAAK,UACDpqC,KAAKmqC,gBAAe,EAAOvkC,GAC3B,MACJ,IAAK,SACL,IAAK,SACL,IAAK,OACD5F,KAAKoqC,cAAa,GAClB,MACJ,IAAK,OACL,IAAK,YACL,IAAK,WACL,IAAK,SACDpqC,KAAKqqC,kBAAiB,GACtB,MACJ,IAAK,MACL,IAAK,WACL,IAAK,UACL,IAAK,QACDrqC,KAAKqqC,kBAAiB,GACtB,MACJ,IAAK,QACL,IAAK,YACL,IAAK,aACL,IAAK,UACDrqC,KAAK+lC,aAAasD,EAAazjC,GAC/B,MACJ,IAAK,KACG5F,KAAKu9B,cACLv9B,KAAKsqC,cAAcjB,EAAazjC,GAEpC,MACJ,IAAK,QACD,GAAI5F,KAAKwhC,oBAAqB,CAC1B,IAAIoB,EAAS/9B,YAAU,IAAMo0B,GAAW,SAAWI,GAAS,IAAKr5B,KAAK6B,SACtE7B,KAAKslC,iBAAiB1C,OAKtC9H,EAAS56B,UAAUqqC,gBAAkB,SAAUC,GAC3C,IAAIC,EAAYzqC,KAAKspC,iBAAiB9hC,cAAc,IAAMiyB,IACtDvqB,EAAMu7B,EAAUtd,wBAChBud,EAAS1qC,KAAK2qC,gBAAgB3qC,KAAK6B,SACvC,IAAKyN,oBAAMo7B,GAAS,CAChB,IAAIE,EAAYF,EAAOvd,wBACnBje,EAAI27B,OAASD,EAAUC,OACvBH,EAAOI,WAAa57B,EAAI27B,OAASD,EAAUC,OAEtC37B,EAAIJ,IAAM87B,EAAU97B,MACzB47B,EAAOI,WAAaF,EAAU97B,IAAMI,EAAIJ,KAGhC9O,KAAK+qC,oBAAoBN,IAErCA,EAAUO,eAAeR,IAGjC1P,EAAS56B,UAAU6qC,oBAAsB,SAAUE,GAC/C,IAAI/7B,EAAM+7B,EAAQ9d,wBAClB,OAAQje,EAAIJ,KAAO,GAAKI,EAAIkJ,MAAQ,GAAKlJ,EAAI27B,SAAW9kC,OAAO4O,aAAehI,SAASu+B,gBAAgBC,eACnGj8B,EAAImJ,QAAUtS,OAAOqlC,YAAcz+B,SAASu+B,gBAAgBG,cAEpEvQ,EAAS56B,UAAUyqC,gBAAkB,SAAU/I,GAC3C,OAAItyB,oBAAMsyB,GACC,KAEHA,EAAK0J,aAAe1J,EAAKuJ,aAAgBvJ,EAAO5hC,KAAK2qC,gBAAgB/I,EAAKvyB,gBAEtFyrB,EAAS56B,UAAUiqC,eAAiB,SAAUoB,EAAW3lC,GACrD,GAAI5F,KAAKwhC,oBAAqB,CAC1B,IAAI6H,EAAcrpC,KAAKspC,iBACnBkC,EAAWD,EAAYvrC,KAAKyrC,YAAYpC,GAAerpC,KAAK0rC,YAAYrC,GAC5ErpC,KAAKwlC,cACLxlC,KAAKylC,gBAAgB+F,GACrBxrC,KAAK+lC,aAAayF,EAAU5lC,GAAG,GAC/B5F,KAAKuqC,iBAAiBgB,QAGtBvrC,KAAKoqC,aAAamB,IAG1BzQ,EAAS56B,UAAU+pC,UAAY,SAAUrkC,GACrC,IAAIyjC,EAAcrpC,KAAKspC,iBACnBqC,EAAYpsB,SAAO,IAAM2a,GAAcmP,GACvClI,EAAY5hB,SAAO,KAAO4a,GAAewR,GAAW7oC,UAAUqE,SAAS8yB,IAC3Ej6B,KAAKokC,kBAAkBuH,EAAWxK,EAAWkI,EAAazjC,IAE9Dk1B,EAAS56B,UAAUkkC,kBAAoB,SAAUuH,EAAW1F,EAAStc,EAAI/jB,GACrD5F,KAAKgmC,kBAAkB2F,EAAW1F,EAASrgC,GAC7CmK,SAGd/P,KAAKujC,YAAYoI,EAAW1F,EAAU,UAAY,QAASrgC,GAAG,GAC9D5F,KAAK0jC,sBAAsB/Z,GAC3B3pB,KAAKqjC,uBAAuBl2B,UAAQA,UAAQwc,EAAI,IAAMwP,IAAa,IAAMF,KACzEj5B,KAAKkmC,iBAAiByF,EAAW1F,EAASrgC,KAE9Ck1B,EAAS56B,UAAUgqC,SAAW,SAAU0B,EAAYhmC,GAChD,IAAIyjC,EAAcrpC,KAAKspC,iBACnB5mB,EAAOnD,SAAO,OAASia,GAAM6P,GACjC,GAAIuC,EAAY,CACZ,IAAKlpB,EACD,OAEKA,EAAK5f,UAAUqE,SAAS6xB,IAC7Bh5B,KAAK6lC,aAAawD,EAAa3mB,EAAM9c,GAGrC5F,KAAK6rC,cAAcxC,GAAa,QAIpC,GAAI3mB,GAAQA,EAAK5f,UAAUqE,SAAS4xB,IAChC/4B,KAAK8lC,aAAauD,EAAa3mB,EAAM9c,OAEpC,CACD,IAAImhC,EAAW55B,UAAQA,UAAQk8B,EAAa,IAAMlQ,IAAa,IAAMF,IACrE,IAAK8N,EACD,OAGA/mC,KAAK8rC,SAASzC,EAAatC,GAC3B/mC,KAAKuqC,iBAAgB,KAKrCzP,EAAS56B,UAAUkqC,aAAe,SAAUmB,GACxC,IAAIlC,EAAcrpC,KAAKspC,iBACvBtpC,KAAK6rC,cAAcxC,EAAakC,IAEpCzQ,EAAS56B,UAAUmqC,iBAAmB,SAAU0B,GAC5C,IAAI1C,EAAcrpC,KAAKspC,iBACnB0C,EAAWD,EAAc/rC,KAAKisC,cAAgBjsC,KAAKksC,aACvDlsC,KAAK8rC,SAASzC,EAAa2C,GAC3BhsC,KAAKuqC,gBAAgBwB,IAEzBjR,EAAS56B,UAAUopC,eAAiB,WAChC,IAAI6C,EAAQ5sB,SAAO,IAAM0Z,GAAW,IAAMmB,GAAOp6B,KAAK6B,SACtD,OAAOyN,oBAAM68B,GAAS5sB,SAAO,IAAM0Z,GAAUj5B,KAAK6B,SAAWsqC,GAEjErR,EAAS56B,UAAU2rC,cAAgB,SAAUliB,EAAI4hB,GAC7C,IAAIC,EAAWD,EAAYvrC,KAAKyrC,YAAY9hB,GAAM3pB,KAAK0rC,YAAY/hB,GACnE3pB,KAAK8rC,SAASniB,EAAI6hB,GAClBxrC,KAAKuqC,iBAAiBgB,IAE1BzQ,EAAS56B,UAAUurC,YAAc,SAAU9hB,GACvC,IACI6hB,EADAp4B,EAAQpT,KAAK+oC,OAAOn5B,QAAQ+Z,GAEhC,GAGI,GAFAvW,IACAo4B,EAAWxrC,KAAK+oC,OAAO31B,GACnB9D,oBAAMk8B,GACN,OAAO7hB,SAELpd,YAAUi/B,IACpB,OAAOA,GAEX1Q,EAAS56B,UAAUwrC,YAAc,SAAU/hB,GACvC,IACIyiB,EADAh5B,EAAQpT,KAAK+oC,OAAOn5B,QAAQ+Z,GAEhC,GAGI,GAFAvW,IACAg5B,EAAWpsC,KAAK+oC,OAAO31B,GACnB9D,oBAAM88B,GACN,OAAOziB,SAELpd,YAAU6/B,IACpB,OAAOA,GAEXtR,EAAS56B,UAAU+rC,YAAc,WAC7B,IACID,EADA54B,EAAQ,EAEZ,GACI44B,EAAWhsC,KAAK+oC,OAAO31B,GACvBA,WACM7G,YAAUy/B,IACpB,OAAOA,GAEXlR,EAAS56B,UAAUgsC,WAAa,WAC5B,IACIG,EADAj5B,EAAQpT,KAAK+oC,OAAOpoC,OAAS,EAEjC,GACI0rC,EAAUrsC,KAAK+oC,OAAO31B,GACtBA,WACM7G,YAAU8/B,IACpB,OAAOA,GAEXvR,EAAS56B,UAAU4rC,SAAW,SAAUQ,EAASd,GAC7C/xB,eAAa6yB,IAAWlT,GAAOgB,KAC/B1gB,YAAU8xB,IAAYpS,GAAOgB,KAC7Bp6B,KAAKklC,aAAaoH,EAASd,IAE/B1Q,EAAS56B,UAAUglC,aAAe,SAAUoH,EAASd,GACjDxrC,KAAK6B,QAAQmD,gBAAgB,yBACzBsnC,GACAA,EAAQtnC,gBAAgB,MAE5BwmC,EAAS3nC,aAAa,KAAM7D,KAAK6B,QAAQW,GAAK,WAC9CxC,KAAK6B,QAAQgC,aAAa,wBAAyB7D,KAAK6B,QAAQW,GAAK,YAEzEs4B,EAAS56B,UAAU0f,QAAU,WACpB5f,KAAK+6B,iBACNrhB,YAAU1Z,KAAKspC,kBAAmBlQ,IAEtCp5B,KAAK+6B,iBAAkB,GAE3BD,EAAS56B,UAAU2f,SAAW,WAC1BpG,eAAazZ,KAAKspC,kBAAmBlQ,KAEzC0B,EAAS56B,UAAUqsC,YAAc,SAAU3mC,GACvC,IAAItF,EAASsF,EAAEtF,OACXwC,EAAYxC,EAAOwC,UACnB0pC,EAAYr/B,UAAQ7M,EAAQ,IAAM24B,KACjCuT,GAAa1pC,EAAUqE,SAASgyB,KAAer2B,EAAUqE,SAAS8xB,IACnEj5B,KAAKwlC,cAILxlC,KAAKysC,SAASD,IAGtB1R,EAAS56B,UAAUusC,SAAW,SAAU9iB,GAC/BA,EAAG7mB,UAAUqE,SAASiyB,MACvBp5B,KAAKwlC,cACL9rB,YAAUiQ,GAAKyP,MAIvB0B,EAAS56B,UAAUwsC,aAAe,SAAU9mC,GACxC5F,KAAKwlC,eAET1K,EAAS56B,UAAUslC,YAAc,WAC7B,IAAImH,EAAc9nC,YAAU,IAAMu0B,GAAOp5B,KAAK6B,SAC1C8qC,GAAeA,EAAYhsC,QAC3B8Y,cAAYkzB,EAAavT,KAIjC0B,EAAS56B,UAAU6kC,YAAc,SAAUN,EAAQmI,GAC/C,IAAKt9B,oBAAMm1B,IAAWA,EAAO3hC,UAAUqE,SAAS8xB,IAAW,CACvD,IAAIz2B,EAAKiiC,EAAOljB,aAAa,YACzB5F,EAAO3b,KAAK6sC,QAAQpI,EAAQmI,GAC5BE,EAAQ3/B,UAAQs3B,EAAOvqB,WAAY,IAAM+e,IACzC8T,EAAMD,EAAQA,EAAMvrB,aAAa,YAAc,KAC/CmgB,EAAW+C,EAAO3hC,UAAUqE,SAASkyB,IACrC7W,EAAqD,SAAzCiiB,EAAOljB,aAAa,iBAChCujB,EAAU,KAId,OAHI9kC,KAAK8gC,eACLgE,EAAUvlB,SAAO,IAAM2a,GAAcuK,GAAQljB,aAAa,kBAErD/e,GAAIA,EAAImZ,KAAMA,EAAMskB,SAAU8M,EAAKrL,SAAUA,EAAUlf,SAAUA,EAAU2e,UAAW2D,GAEnG,OAAStiC,GAAI,GAAImZ,KAAM,GAAIskB,SAAU,GAAIyB,SAAU,GAAIlf,SAAU,GAAI2e,UAAW,KAEpFrG,EAAS56B,UAAU2sC,QAAU,SAAUpI,EAAQmI,GAC3C,GAAIA,EAAQ,CACR,IAAI/K,EAAW7hC,KAAKunC,cAAc9C,EAAOljB,aAAa,aAClDmf,EAAQlvB,WAAWizB,EAAOljB,aAAa,eACvCyrB,EAAahtC,KAAK0nC,UAAU1nC,KAAKs8B,OAAQoE,EAAO,GACpD,OAAOza,WAAS+mB,EAAWrxB,KAAMkmB,GAErC,OAAOtiB,SAAO,IAAM2Z,GAAUuL,GAAQva,aAE1C4Q,EAAS56B,UAAU0mC,eAAiB,SAAUnC,EAAQ7+B,GAClD,IAAIi8B,EAAW7hC,KAAK+kC,YAAYN,GAChC,OAAS10B,QAAQ,EAAOi1B,cAAc11B,oBAAM1J,GAAmBg8B,KAAM6C,EAAQ5C,SAAUA,IAE3F/G,EAAS56B,UAAU+sC,cAAgB,WAC/BjtC,KAAK6B,QAAQga,UAAY,GACzB7b,KAAKg9B,gBACLh9B,KAAKwxB,eAAgByL,mBAAqB,GAC1Cj9B,KAAK+8B,UAAW,EAChB/8B,KAAKm9B,kBAETrC,EAAS56B,UAAU0vB,YAAc,SAAUsd,EAAUC,GAC5C79B,oBAAM49B,IAA0B,KAAbA,GACpBzzB,eAAazZ,KAAK6B,SAAUqrC,EAASxjB,MAAM,MAE1Cpa,oBAAM69B,IAA0B,KAAbA,GACpBzzB,YAAU1Z,KAAK6B,SAAUsrC,EAASzjB,MAAM,OAGhDoR,EAAS56B,UAAUktC,eAAiB,SAAUxnC,GAC1C,IAAItF,EAASsF,EAAEtF,OACf,MAAKA,GAAUA,EAAOwC,UAAUqE,SAAS2xB,KAASx4B,EAAOwC,UAAUqE,SAASgyB,KACxE74B,EAAOwC,UAAUqE,SAAS8xB,KAAa34B,EAAOwC,UAAUqE,SAASqyB,KACjEl5B,EAAOwC,UAAUqE,SAh+CjB,YAg+CoC7G,EAAOwC,UAAUqE,SA/9ChD,kBA69CT,CAMI,IAAI+8B,EAAQ/2B,UAAQ7M,EAAQ,IAAM24B,IAClCj5B,KAAKsqC,cAAcpG,EAAOt+B,KAGlCk1B,EAAS56B,UAAUoqC,cAAgB,SAAUpG,EAAOt+B,GAChD,IAAIynC,EAAY9tB,SAAO,IAAMma,GAAW15B,KAAK6B,SACzCwrC,GACAA,EAAUtD,OAEd,IAAIpI,EAAUpiB,SAAO,IAAM2Z,GAAUgL,GACrClkC,KAAKstC,cAAcpJ,GACnB,IAAI3xB,EAAW4T,gBAAc,SAAWxiB,UAAW+1B,GAAW7I,OAASpiB,MAAOzO,KAAKgqC,WAC/En6B,EAAY7P,KAAKutC,aAAarJ,EAAO,KAAM3xB,EAAS2I,WAExD,GADAlb,KAAKwL,QAAQ,cAAeqE,IACxBA,EAAUE,OAAd,CAGA,IACIpN,EAAQ,UADGg/B,EAAQx5B,YAAc,GACH,KAClCuR,YAAUwqB,GAp/CJ,aAq/CNvC,EAAQ9lB,UAAYhM,EAAU29B,UAC9B,IAAI1D,EAASvqB,SAAO,IAAMma,GAAWiI,GACrC3hC,KAAKytC,SAAWC,QAAMC,aAClB9rC,QAASioC,EACTne,YACI9oB,UAAW7C,KAAK6C,aAGxB7C,KAAKytC,SAASG,UAAU/pC,aAAa,QAASlB,GAC9CmnC,EAAOl8B,QACP,IAAIigC,EAAW/D,EACf+D,EAASC,kBAAkB,EAAGD,EAASp/B,MAAM9N,QAC7CX,KAAK+tC,gBAAgBjE,KAEzBhP,EAAS56B,UAAUotC,cAAgB,SAAUpJ,GACzC,IAAI1hC,EAAK0hC,EAAM3iB,aAAa,YAC5BvhB,KAAKguC,SAAWhuC,KAAKunC,cAAc/kC,GACnC,IAAIk+B,EAAQlvB,WAAW0yB,EAAM3iB,aAAa,eAC1CvhB,KAAKiuC,WAAajuC,KAAK0nC,UAAU1nC,KAAKs8B,OAAQoE,EAAO,GACrD1gC,KAAKgqC,QAAU/jB,WAASjmB,KAAKiuC,WAAWtyB,KAAM3b,KAAKguC,WAEvDlT,EAAS56B,UAAUguC,cAAgB,SAAUtoC,GACzC,GAAK2Z,SAAO,IAAMma,GAAW15B,KAAK6B,SAAlC,CAGA,IAAIvB,EAASsF,EAAEtF,OACX6tC,EAAU7tC,EAAOmO,MACjB2/B,EAASjhC,UAAQ7M,EAAQ,IAAM44B,IAC/BgL,EAAQ/2B,UAAQ7M,EAAQ,IAAM24B,IAClCh0B,SAAOjF,KAAKytC,SAASG,WACrB5tC,KAAKquC,cAAcnK,EAAOkK,EAAQD,GAAS,KAE/CrT,EAAS56B,UAAUmuC,cAAgB,SAAUnK,EAAOkK,EAAQD,EAASG,GACjE,IAAIC,EAAUloB,WAASrmB,KAAKiuC,WAAWtyB,KAAMwyB,EAASnuC,KAAKguC,UACtD1+B,oBAAMtP,KAAK69B,gBAKZuQ,EAAOvyB,UAAYsyB,GAJnBC,EAAOvyB,UAAY,GACnBiL,SAAO9mB,KAAK69B,eAAe0Q,GAAUH,IAKrCE,IACA70B,eAAayqB,GA/hDX,aAgiDFkK,EAAOxgC,SAEX5N,KAAKwL,QAAQ,aAAcxL,KAAKutC,aAAarJ,EAAOiK,EAAS,QAEjErT,EAAS56B,UAAUikC,WAAa,SAAUrgC,GACtC,OAAIwL,oBAAMxL,GACC,KAEa,iBAARA,EACL9D,KAAK6B,QAAQ2F,cAAc,cAAgB1D,EAAM,MAEpC,iBAARA,EACLA,EAGA,MAGfg3B,EAAS56B,UAAUqtC,aAAe,SAAUrJ,EAAOiK,EAASrE,GAExD,OAAS/5B,QAAQ,EAAOo+B,QAASA,EAASvM,KAAMsC,EAAOrC,SAD5C7hC,KAAK+kC,YAAYb,GAC2C8F,QAAShqC,KAAKgqC,QAASwD,UAAW1D,IAE7GhP,EAAS56B,UAAUqnC,cAAgB,SAAU/kC,GAEzC,IAAI8M,oBAAM9M,GAAV,CAGK,GAAsB,IAAlBxC,KAAKmgC,SASV,OAAOngC,KAAKwuC,mBAAmBxuC,KAAK8+B,SAAU9+B,KAAKs8B,OAAQ95B,GAR3D,IAAK,IAAIxB,EAAI,EAAGknC,EAASloC,KAAK8+B,SAASn+B,OAAQK,EAAIknC,EAAQlnC,IAAK,CAC5D,IAAImnC,EAASliB,WAASjmB,KAAKs8B,OAAO95B,GAAIxC,KAAK8+B,SAAS99B,IACpD,IAAKsO,oBAAMtP,KAAK8+B,SAAS99B,MAAQsO,oBAAM64B,IAAWA,EAAO7tB,aAAe9X,EACpE,OAAOxC,KAAK8+B,SAAS99B,MASrC85B,EAAS56B,UAAUsuC,mBAAqB,SAAU1G,EAAKzI,EAAQ78B,GAC3D,IAAIisC,EACJ,GAAIn/B,oBAAMw4B,GACN,OAAO2G,EAEX,IAAK,IAAIztC,EAAI,EAAGknC,EAASJ,EAAInnC,OAAQK,EAAIknC,EAAQlnC,IAAK,CAClD,IAAImnC,EAASliB,WAASoZ,EAAO78B,GAAIslC,EAAI9mC,IACrC,GAAI8mC,EAAI9mC,IAAMmnC,GAAUA,EAAO7tB,aAAe9X,EAC1C,OAAOslC,EAAI9mC,GAEV,GAA4B,iBAAjBq+B,EAAO6C,OAAuB5yB,oBAAM2W,WAASoZ,EAAO6C,MAAO4F,EAAI9mC,MAO1E,GAAIhB,KAAKs8B,OAAOmC,sBAAsBC,gBAAgBpvB,oBAAM2W,WAAS,QAAS6hB,EAAI9mC,KAAM,CAGzF,QAAgBwd,KADhBiwB,EAAUzuC,KAAKwuC,mBAAmBvoB,WADtB,QACsC6hB,EAAI9mC,IAAKhB,KAAK6nC,eAAexI,GAAS78B,IAEpF,WAX6E,CACjF,IAAIksC,EAAYzoB,WAASoZ,EAAO6C,MAAO4F,EAAI9mC,IAE3C,QAAgBwd,KADhBiwB,EAAUzuC,KAAKwuC,mBAAmBE,EAAW1uC,KAAK6nC,eAAexI,GAAS78B,IAEtE,OAWZ,OAAOisC,GAEX3T,EAAS56B,UAAUs9B,eAAiB,SAAUmR,GACtCA,EACA3uC,KAAK4uC,iBAGL5uC,KAAK6uC,eAGb/T,EAAS56B,UAAU0uC,eAAiB,WAChC,IACIE,EADAjpC,EAAQ7F,KAEZA,KAAK+uC,QAAU,IAAIC,YAAUhvC,KAAK6B,SAC9BotC,gBAAgB,EAChBC,WAAY,IAAMzV,GAClB0V,OAAQ,SAAUvpC,GACdC,EAAMqpC,WAAatpC,EAAEwpC,OAAO9uC,OAC5B,IAAI+uC,EAAWliC,UAAQtH,EAAMqpC,WAAY,IAAMpW,IAC3CwW,EAAWniC,UAAQtH,EAAMqpC,WAAY,IAAMzV,IAK/C,GAJA5zB,EAAM0pC,OAASpiC,UAAQtH,EAAMqpC,WAAY,IAAMjW,IAC3CpzB,EAAM+3B,gBAAkB0R,GAAYzpC,EAAMqpC,WAAWpsC,UAAUqE,SAAS2yB,MACxEwV,EAAWzpC,EAAMqpC,WAAWntB,qBAE3Blc,EAAMqpC,aAAetpC,EAAE/D,QAAQ2tC,WAAWH,KAAcC,GACzDzpC,EAAMqpC,WAAWpsC,UAAUqE,SAAS2xB,KAASjzB,EAAMqpC,WAAWpsC,UAAUqE,SAASgyB,KACjFtzB,EAAMqpC,WAAWpsC,UAAUqE,SAAS8xB,IACpC,OAAO,EAEX,IAAIwW,EAAYH,EAASz2B,WAAU,GACnC,GAAIvJ,oBAAMiQ,SAAO,OAASia,GAAMiW,IAAY,CACxC,IAAI/sB,EAAOyD,gBAAc,OAASxiB,UAAW61B,GAAO,IAAMR,KAC1DyW,EAASjqC,aAAakd,EAAM+sB,EAASvrC,SAAS,IAElD,IAAIkY,EAAWszB,eAAiB5W,GAAO,KAAOjzB,EAAMhD,UAloD1D,QAkoD4E,KACtEisC,EAAa3oB,gBAAc,OAASxiB,UAAWyY,KACpChY,YAAYqrC,GACvB,IAAIE,EAAO9pC,EAAMo3B,cAAct8B,OAC/B,GAAIgvC,EAAO,GAAK9pC,EAAM27B,qBAAuB37B,EAAM0pC,OAAOzsC,UAAUqE,SAASkyB,IAAS,CAClF,IAAIuW,EAAQzpB,gBAAc,QAAUxiB,UAtnDxC,eAsnD8DkY,UAAW,GAAK8zB,IAC1Eb,EAAW1qC,YAAYwrC,GAK3B,OAHAjjC,SAASoS,KAAK3a,YAAY0qC,GAC1BniC,SAASoS,KAAKpc,MAAMktC,OAAS,GAC7BhqC,EAAMiqC,SAAWjqC,EAAMk/B,YAAYl/B,EAAM0pC,QAClCT,GAEXiB,UAAW,SAAUnqC,GACjB8T,YAAU7T,EAAMhE,SAAU83B,IAC1B,IAAI9pB,EAAYhK,EAAMmqC,aAAapqC,EAAE0jB,MAAOzjB,EAAO,KAAMD,EAAEtF,QAC3DuF,EAAM2F,QAAQ,gBAAiBqE,GAC3BA,EAAUE,SACV9K,SAAO6pC,GACPr1B,eAAa5T,EAAMhE,SAAU83B,KAEjC9zB,EAAMo1B,iBAAkB,GAE5BgV,KAAM,SAAUrqC,GACZC,EAAMkpC,QAAQvd,eAAgB0e,UAAYphC,KAAOQ,oBAAM1J,EAAE0jB,MAAM6mB,gBAAkBluC,UAAQI,SAAY,IAAM,MAC3GwD,EAAMuqC,WAAWxqC,EAAGkpC,IAExBuB,SAAU,SAAUzqC,GAChB6T,eAAa5T,EAAMhE,SAAU83B,IAC7B9zB,EAAMyqC,mBACN,IAAIC,EAAa3qC,EAAEtF,OACfkwC,EAAYrjC,UAAQojC,EAAY,gBAC/BA,GAAeC,IAAYD,EAAWztC,UAAUqE,SAAS2xB,MAC1D7zB,SAAOW,EAAEupC,QACTxiC,SAASoS,KAAKpc,MAAMktC,OAAS,IAEjC,IAAIhgC,EAAYhK,EAAMmqC,aAAapqC,EAAE0jB,MAAOzjB,EAAO0qC,EAAYA,GAC/D1qC,EAAM2F,QAAQ,eAAgBqE,GAC1BA,EAAUE,SACV9K,SAAOW,EAAEupC,QACTxiC,SAASoS,KAAKpc,MAAMktC,OAAS,IAEjChqC,EAAMo1B,iBAAkB,KAGhCj7B,KAAKywC,QAAU,IAAIC,YAAU1wC,KAAK6B,SAC9B8uC,IAAK,SAAU/qC,GACN0J,oBAAM1J,IAAOA,EAAEtF,OAAOwC,UAAUqE,SAASyyB,MAC1CjtB,SAASoS,KAAKpc,MAAMktC,OAAS,gBAGrCe,KAAM,SAAUhrC,GACZ+G,SAASoS,KAAKpc,MAAMktC,OAAS,IAEjCgB,KAAM,SAAUjrC,GACZC,EAAMirC,WAAWlrC,OAI7Bk1B,EAAS56B,UAAUkwC,WAAa,SAAUxqC,EAAGkpC,GACzC,IAAI0B,EAAWrjC,UAAQvH,EAAEtF,OAAQ,gBAC7BywC,EAAW5jC,UAAQvH,EAAEtF,OAAQ,IAAMm5B,IACnC/W,EAAOnD,SAAO,OAASia,GAAMsV,GACjCr1B,eAAaiJ,IA5rDR,YA4rDwBmX,GA1rDvB,aACD,cA0rDL75B,KAAKswC,mBACL3jC,SAASoS,KAAKpc,MAAMktC,OAAS,GAC7B,IAAI/sC,EAAY8C,EAAEtF,OAAOwC,UAIzB,GAHI9C,KAAK49B,gBAAkBmT,IAAazhC,oBAAMxM,IAAcA,EAAUqE,SAAS2yB,MAC3EiX,EAAWnrC,EAAEtF,OAAOyhB,oBAEpByuB,EAAU,CACV,IAAIQ,EAAS7jC,UAAQvH,EAAEtF,OAAQ,IAAM24B,IACrC,IAAKuX,EAAS1tC,UAAUqE,SAAS2xB,KAAUiY,IACrCC,EAAOxB,WAAWxvC,KAAKuvC,UAAYvvC,KAAKixC,aAAajxC,KAAKuvC,OAAQyB,GACpE,GAAIprC,GAAMA,EAAE0jB,MAAMtV,QAAU,EAAI,CAC5B0F,YAAUgJ,GAAOmX,IACjB,IAAIqX,EAAS/qB,gBAAc,OAASxiB,UAAWi2B,KAC3CxmB,EAAQpT,KAAK49B,kBACjBoT,EAAOxrC,aAAa0rC,EAAQF,EAAO9sC,SAASkP,SAE3C,GAAIxN,GAAMA,EAAEtF,OAAOyO,aAAe,GAAKnJ,EAAE0jB,MAAMtV,QAAWpO,EAAEtF,OAAOyO,aAAe,GAAM,CACzF2K,YAAUgJ,GAAOmX,IACbqX,EAAS/qB,gBAAc,OAASxiB,UAAWi2B,KAC3CxmB,EAAQpT,KAAK49B,kBACjBoT,EAAOxrC,aAAa0rC,EAAQF,EAAO9sC,SAASkP,SAG5CsG,YAAUgJ,GAptDjB,iBAutD8B,OAAtB9c,EAAEtF,OAAOupC,UAAuBmH,EAAOxB,WAAWxvC,KAAKuvC,SAAYvvC,KAAKixC,aAAajxC,KAAKuvC,OAAQyB,GAIlGprC,EAAEtF,OAAOwC,UAAUqE,SAASyyB,IACjClgB,YAAUgJ,GAAOmX,IAGjBngB,YAAUgJ,GA7tDZ,eAstDEhJ,YAAUgJ,GAAOmX,IACjB75B,KAAKmxC,iBAAiBvrC,SAU1B8T,YAAUgJ,GAhuDT,aAiuDD/V,SAASoS,KAAKpc,MAAMktC,OAAS,cAEjC7vC,KAAKwL,QAAQ,eAAgBxL,KAAKgwC,aAAapqC,EAAE0jB,MAAOtpB,KAAM4F,EAAEtF,OAAQsF,EAAEtF,UAE9Ew6B,EAAS56B,UAAU4wC,WAAa,SAAUlrC,GACtC,IAAIoO,EAAUpO,EAAE0jB,MAAMtV,QAClBu8B,EAAa3qC,EAAEtF,OACfyuC,EAAUnpC,EAAEkqC,SAASsB,UAAUna,cAAc,GAC7CiY,EAAaH,EAAQG,WACrBK,EAAUpiC,UAAQ+hC,EAAY,IAAMjW,IACpC+X,EAAU7jC,UAAQojC,EAAY,IAAMtX,IAGxC,GAFAh0B,SAAOW,EAAEyrC,gBACT1kC,SAASoS,KAAKpc,MAAMktC,OAAS,GACxBmB,IAAUA,EAAOxB,WAAWD,KAAWvvC,KAAKixC,aAAa1B,EAAQyB,GAAtE,CAGA,GAAIjC,EAAQvN,sBAAwB+N,EAAOzsC,UAAUqE,SAASkyB,KAAYrlB,EAAU,GAC/EpO,EAAEtF,OAAOyO,aAAe,GAAKiF,EAAWpO,EAAEtF,OAAOyO,aAAe,IAEjE,IAAK,IADD6zB,EAAS/9B,YAAU,IAAMw0B,GAAQ0V,EAAQltC,SACpCb,EAAI,EAAGA,EAAI4hC,EAAOjiC,OAAQK,IAC3BgwC,EAAOxB,WAAW5M,EAAO5hC,KAAOhB,KAAKixC,aAAarO,EAAO5hC,GAAIgwC,IAGjEhxC,KAAKsxC,WAAWf,EAAY3N,EAAO5hC,GAAIgwC,EAAQprC,EAAGmpC,EAAS/6B,QAI/DhU,KAAKsxC,WAAWf,EAAYhB,EAAQyB,EAAQprC,EAAGmpC,EAAS/6B,GAE5DhU,KAAKwL,QAAQ,cAAexL,KAAKgwC,aAAapqC,EAAE0jB,MAAOylB,EAASwB,EAAY3qC,EAAEtF,WAElFw6B,EAAS56B,UAAUoxC,WAAa,SAAUf,EAAYhB,EAAQyB,EAAQprC,EAAGmpC,EAAS/6B,GAClD,OAAxBu8B,EAAW1G,SACX7pC,KAAKuxC,kBAAkBhC,EAAQyB,EAAQprC,EAAGmpC,GAG1C/uC,KAAKwxC,gBAAgBjC,EAAQyB,EAAQjC,EAAS,KAAMnpC,EAAGoO,IAG/D8mB,EAAS56B,UAAUqxC,kBAAoB,SAAUhC,EAAQyB,EAAQprC,EAAGmpC,GAChE,IAGIj6B,EAHA28B,EAAStkC,UAAQ6jC,EAAQ,IAAM7X,IAC/BuY,EAAevkC,UAAQoiC,EAAQ,IAAMpW,IACrCwY,EAAexkC,UAAQukC,EAAc,IAAMzY,IAE3CrzB,EAAEtF,OAAOyO,aAAe,GAAKnJ,EAAE0jB,MAAMtV,QAAUpO,EAAEtF,OAAOyO,aAAe,EACvE+F,GAAM,EAEDlP,EAAE0jB,MAAMtV,QAAU,IACvBc,GAAM,GAEV28B,EAAOjsC,aAAa+pC,EAAQz6B,EAAMlP,EAAEtF,OAASsF,EAAEtF,OAAOyhB,oBACtD/hB,KAAK4xC,cAAcF,EAAcC,GACjC3xC,KAAK6xC,gBAAgBtC,GACjBR,EAAQltC,QAAQW,KAAOxC,KAAK6B,QAAQW,GACpCxC,KAAKijC,cAGL8L,EAAQ+C,iBACR9xC,KAAK8xC,mBAGbhX,EAAS56B,UAAUsxC,gBAAkB,SAAUjC,EAAQyB,EAAQjC,EAAS37B,EAAOxN,EAAGsJ,GAC9E,IAAIwiC,EAAevkC,UAAQoiC,EAAQ,IAAMpW,IACrCwY,EAAexkC,UAAQukC,EAAc,IAAMzY,IAC3C8Y,EAAe5kC,UAAQ6jC,EAAQ,IAAM7X,IACzC,GAAIvzB,GAAMsJ,EAAM,EACZ6iC,EAAavsC,aAAa+pC,EAAQyB,QAEjC,GAAIprC,GAAMA,EAAEtF,OAAOyO,aAAe,GAAKG,EAAOtJ,EAAEtF,OAAOyO,aAAe,GACvEgjC,EAAavsC,aAAa+pC,EAAQyB,EAAOjvB,wBAExC,CACD,IAAI0vB,EAASzxC,KAAKgyC,aAAahB,GAC/BS,EAAOjsC,aAAa+pC,EAAQkC,EAAOl+B,WAAWH,IAElDpT,KAAK4xC,cAAcF,EAAcC,GACjC3xC,KAAK6xC,gBAAgBtC,GACjBR,EAAQltC,QAAQW,KAAOxC,KAAK6B,QAAQW,GACpCxC,KAAKijC,cAGL8L,EAAQ+C,iBACR9xC,KAAK8xC,mBAGbhX,EAAS56B,UAAU8xC,aAAe,SAAUhB,GACxC,IAAIiB,EAAW1yB,SAAO,OAASia,GAAMwX,GACjCiB,GAAYA,EAASnvC,UAAUqE,SAAS6xB,KACxCh5B,KAAK6lC,aAAamL,EAAQiB,EAAU,MAExC,IAAIR,EAASlyB,SAAO,IAAM4Z,GAAY6X,GACtC,GAAI1hC,oBAAMmiC,GAAS,CACf9qB,WAASurB,aAAalB,EAAQjY,GAAa/4B,KAAKo8B,gBAChD,IAAI1Z,EAAOnD,SAAO,OAASia,GAAMwX,GACjCv3B,eAAaiJ,GAAOsW,IACpByY,EAAS9qB,WAASwrB,cAAe,KAAMnyC,KAAKo8B,gBAC5C4U,EAAO5sC,YAAYqtC,GACnBT,EAAOntC,aAAa,gBAAiB,QACrC4V,eAAau3B,GAAShX,IAE1B,OAAOyX,GAEX3W,EAAS56B,UAAU0xC,cAAgB,SAAUF,EAAcC,GACvD,GAAIA,GAAmD,IAAnCD,EAAazgC,kBAAyB,CACtD,IAAImhC,EAAW7yB,SAAO,OAASia,GAAMmY,GACrC1sC,SAAOysC,GACPzsC,SAAOmtC,GACPT,EAAa3sC,gBAAgB,mBAGrC81B,EAAS56B,UAAU2xC,gBAAkB,SAAUtC,GAC3C,IAAI7O,EAAQ1gC,KAAKonC,QAAQmI,EAAQ,IAAMpW,IAAYx4B,OACnD4uC,EAAO1rC,aAAa,aAAc,GAAK68B,GACvC1gC,KAAKqyC,qBAAqB9yB,SAAO,IAAM4Z,GAAYoW,GAAS7O,EAAQ,IAExE5F,EAAS56B,UAAUmyC,qBAAuB,SAAUxwC,EAAS6+B,GACzD,IAAKpxB,oBAAMzN,GAEP,IAAK,IADDihC,EAASjhC,EAAQ0R,WACZvS,EAAI,EAAGuY,EAAMupB,EAAOniC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC/C,IAAIkjC,EAAQpB,EAAO9hC,GACnBkjC,EAAMrgC,aAAa,aAAc,GAAK68B,GACtC1gC,KAAKqyC,qBAAqB9yB,SAAO,IAAM4Z,GAAY+K,GAAQxD,EAAQ,KAI/E5F,EAAS56B,UAAUixC,iBAAmB,SAAUvrC,GAC5C,IAAIkP,EACAlP,EAAE0jB,MAAMtV,QAAUpO,EAAEtF,OAAOyO,aAAe,EAC1C+F,GAAM,EAEDlP,EAAE0jB,MAAMtV,QAAU,IACvBc,GAAM,GAEV,IAAIo8B,EAAS/qB,gBAAc,OAASxiB,UAAWi2B,KAC3CxmB,EAAQpT,KAAK49B,cAAiB9oB,EAAM,EAAI,EAAMA,EAAM,EAAI,EAC5DlP,EAAEtF,OAAOkF,aAAa0rC,EAAQtrC,EAAEtF,OAAO4D,SAASkP,KAEpD0nB,EAAS56B,UAAUowC,iBAAmB,WAClC,IAAIgC,EAAS/yB,SAAO,IAAMqa,IACtB0Y,GACArtC,SAAOqtC,IAGfxX,EAAS56B,UAAU2uC,YAAc,WACzB7uC,KAAK+uC,SAAW/uC,KAAKywC,UACrBzwC,KAAK+uC,QAAQrqC,UACb1E,KAAKywC,QAAQ/rC,YAGrBo2B,EAAS56B,UAAU8vC,aAAe,SAAU1mB,EAAOwe,EAAKyI,EAAYjwC,GAChE,IAAI0wC,EAAST,EAAapjC,UAAQojC,EAAY,IAAMtX,IAAY,KAC5DsZ,EAAWvB,EAAShxC,KAAK+kC,YAAYiM,GAAU,KACnD,OACIjhC,QAAQ,EACRuZ,MAAOA,EACPkpB,YAAa1K,EAAIyH,OACjBkD,gBAAiB3K,EAAIgI,SACrB4C,YAAa1B,EACb2B,gBAAiBJ,EACjBjyC,OAAQA,IAGhBw6B,EAAS56B,UAAU0yC,WAAa,SAAUC,GACtC,IAAIt5B,EAAMvZ,KAAK+oC,OAAOpoC,OACtB,GAAIkyC,EACA,IAAK,IAAI7xC,EAAI,EAAGA,EAAIuY,EAAKvY,IACrBhB,KAAKuhC,cAAcvhC,KAAK+oC,OAAO/nC,SAInC,IAASA,EAAI,EAAGA,EAAIuY,EAAKvY,IAAK,CAC1B,IAAI8xC,EAASvzB,SAAO,IAAMua,GAAS95B,KAAK+oC,OAAO/nC,IAC/CiE,SAAO6tC,KAInBhY,EAAS56B,UAAUqhC,cAAgB,SAAUzxB,GACzC,IAAIgjC,EAAS3sB,gBAAc,OAASxiB,UAAWm2B,KAC/ChqB,EAAKtK,aAAastC,EAAQhjC,EAAKyD,WAAW,KAE9CunB,EAAS56B,UAAU6yC,eAAiB,SAAUF,GAC1C,GAAIA,EAEA,IAAK,IAAI9uC,EAAK,EAAGivC,EADJnuC,YAAU,IAAMo0B,GAAW,+BAAgCj5B,KAAK6B,SACzCkC,EAAKivC,EAASryC,OAAQoD,IAAM,CAClDivC,EAASjvC,GACfF,aAAa,gBAAiB,cAKtC,IAAK,IAAIiB,EAAK,EAAGmuC,EADJpuC,YAAU,IAAMo0B,GAAW,0BAA2Bj5B,KAAK6B,SACpCiD,EAAKmuC,EAAStyC,OAAQmE,IAAM,CAClDmuC,EAASnuC,GACfE,gBAAgB,mBAIhC81B,EAAS56B,UAAUgzC,gBAAkB,SAAUrxC,EAAS6+B,EAAOyS,GAC3D,GAAIzS,EAAQ,IAAMpxB,oBAAMzN,GAEpB,IAAK,IADDihC,EAAS9iC,KAAKozC,gBAAgBD,EAAoBtxC,EAAQ0R,YACrDvS,EAAI,EAAGuY,EAAMupB,EAAOniC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC/C,IAAIkjC,EAAQpB,EAAO9hC,GACf0hB,EAAOnD,SAAO,IAAMwZ,GAAaxZ,SAAO,IAAMka,GAAUyK,IACvD50B,oBAAMoT,IACP1iB,KAAK8lC,aAAa5B,EAAOxhB,EAAM,MAEnC1iB,KAAKkzC,gBAAgB3zB,SAAO,IAAM4Z,GAAY+K,GAAQxD,EAAQ,EAAGyS,KAI7ErY,EAAS56B,UAAUmzC,iBAAmB,SAAUF,GAE5C,IAAK,IADD/K,EAASpoC,KAAKozC,gBAAgBD,EAAoBtuC,YAAU,IAAMk0B,GAAa/4B,KAAK6B,UAC/Eb,EAAI,EAAGuY,EAAM6uB,EAAOznC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC/C,IAAI0hB,EAAO0lB,EAAOpnC,GACdkjC,EAAQ/2B,UAAQuV,EAAM,IAAMuW,IAChCj5B,KAAK8lC,aAAa5B,EAAOxhB,EAAM,QAGvCoY,EAAS56B,UAAUozC,cAAgB,SAAUzxC,EAAS6+B,EAAOyS,GACzD,GAAIzS,EAAQ,IAAMpxB,oBAAMzN,GAEpB,IAAK,IADDkhC,EAAS/iC,KAAKozC,gBAAgBD,EAAoBtxC,EAAQ0R,YACrDvS,EAAI,EAAGuY,EAAMwpB,EAAOpiC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC/C,IAAIkjC,EAAQnB,EAAO/hC,GACf0hB,EAAOnD,SAAO,IAAMyZ,GAAYzZ,SAAO,IAAMka,GAAUyK,IACtD50B,oBAAMoT,IACP1iB,KAAK6lC,aAAa3B,EAAOxhB,EAAM,MAEnC1iB,KAAKszC,cAAc/zB,SAAO,IAAM4Z,GAAY+K,GAAQxD,EAAQ,EAAGyS,KAI3ErY,EAAS56B,UAAUqzC,eAAiB,SAAUJ,GAE1C,IAAK,IADDK,EAASxzC,KAAKozC,gBAAgBD,EAAoBtuC,YAAU,IAAMm0B,GAAYh5B,KAAK6B,UAC9Eb,EAAI,EAAGuY,EAAMi6B,EAAO7yC,OAAQK,EAAIuY,EAAKvY,IAAK,CAC/C,IAAI0hB,EAAO8wB,EAAOxyC,GACdkjC,EAAQ/2B,UAAQuV,EAAM,IAAMuW,IAChCj5B,KAAK6lC,aAAa3B,EAAOxhB,EAAM,MAAM,KAG7CoY,EAAS56B,UAAUkzC,gBAAkB,SAAUD,EAAoB5kC,GAC/D,IAAIklC,EAAS/zC,MAAMQ,UAAU+D,MAAMnC,KAAKyM,GACxC,GAAI4kC,EACA,IAAK,IAAInyC,EAAI,EAAGA,EAAIyyC,EAAO9yC,OAAQK,IAC1BuL,YAAUknC,EAAOzyC,MAClByyC,EAAOx5B,OAAOjZ,EAAG,GACjBA,KAIZ,OAAOyyC,GAEX3Y,EAAS56B,UAAUwzC,WAAa,SAAU9R,GACtC,IAAI8P,EAAevkC,UAAQy0B,EAAM,IAAMzI,IACnCwY,EAAexkC,UAAQukC,EAAc,IAAMzY,IAC/Ch0B,SAAO28B,GACP5hC,KAAK4xC,cAAcF,EAAcC,GACjC3xC,KAAK8xC,kBAEThX,EAAS56B,UAAU4xC,eAAiB,WAChC9xC,KAAKijC,aACLjjC,KAAK2zC,uBAET7Y,EAAS56B,UAAU+iC,WAAa,WAC5BjjC,KAAK+oC,OAASrpC,MAAMQ,UAAU+D,MAAMnC,KAAK+C,YAAU,IAAMo0B,GAAUj5B,KAAK6B,WAE5Ei5B,EAAS56B,UAAUyzC,oBAAsB,WACrC3zC,KAAKwxB,eAAgByL,mBAAqB,GAC1C,IAAI2F,EAAS/9B,YAAU,IAAMw0B,GAAQr5B,KAAK6B,SAC1C7B,KAAKslC,iBAAiB1C,IAE1B9H,EAAS56B,UAAU0zC,cAAgB,SAAUrlC,EAAOmR,EAAUm0B,GAC1D,IAAK,IAAI7yC,EAAI,EAAGuY,EAAMhL,EAAM5N,OAAQK,EAAIuY,EAAKvY,IAAK,CAC9C,IAAIkjC,EAAQlkC,KAAKmkC,WAAW51B,EAAMvN,IAClC,IAAIsO,oBAAM40B,GAAV,CAGA,IAAIxhB,EAAOnD,SAAO,IAAMG,EAAUH,SAAO,IAAMka,GAAUyK,IACpD50B,oBAAMoT,KACPmxB,EAAW7zC,KAAK6lC,aAAa3B,EAAOxhB,EAAM,MAAQ1iB,KAAK8lC,aAAa5B,EAAOxhB,EAAM,UAI7FoY,EAAS56B,UAAU4zC,cAAgB,SAAUvlC,EAAOyiC,EAAQ59B,EAAO2gC,GAC/D,IAAIrT,EAAQsQ,EAASx/B,WAAWw/B,EAAOzvB,aAAa,eAAiB,EAAI,EACrEwyB,GACA/zC,KAAKg0C,aAAatT,GAKtB,IAAK,IAHD/W,EAAKhD,WAASstB,uBAAuB1lC,EAAOvO,KAAKo8B,eAAgBsE,GACjE+Q,EAAST,EAAShxC,KAAKgyC,aAAahB,GAAUzxB,SAAO,IAAM4Z,GAAYn5B,KAAK6B,SAC5EqyC,EAAUzC,EAAOl+B,WAAWH,GACvBpS,EAAI,EAAGA,EAAI2oB,EAAGhpB,OAAQK,IAC3BywC,EAAOjsC,aAAamkB,EAAG3oB,GAAIkzC,GAE/Bl0C,KAAK6gC,aAAa4Q,IAEtB3W,EAAS56B,UAAU8zC,aAAe,SAAUtT,GACxC,IAAIrB,EAAoB,IAAVqB,EAAe1gC,KAAKs8B,OAASt8B,KAAKsnC,eAAetnC,KAAKs8B,OAAQoE,EAAQ,EAAG,GACnFhB,EAAO1/B,KAAK2/B,oBAAoBN,GACpCr/B,KAAKo8B,eAAeE,OAASoD,EAC7B1/B,KAAKo8B,eAAeE,OAAOK,IAAM+C,EAAK9C,aAE1C9B,EAAS56B,UAAUi0C,gBAAkB,SAAU5lC,GAC3C,IAAK,IAAIvN,EAAI,EAAGuY,EAAMhL,EAAM5N,OAAQK,EAAIuY,EAAKvY,IAAK,CAC9C,IAAIkjC,EAAQlkC,KAAKmkC,WAAW51B,EAAMvN,IAC9BsO,oBAAM40B,KAGVA,EAAMrgC,aAAa,gBAAiB,QACpC6V,YAAUwqB,GA9gER,gBAihEVpJ,EAAS56B,UAAUk0C,eAAiB,SAAU7lC,GAC1C,IAAK,IAAIvN,EAAI,EAAGuY,EAAMhL,EAAM5N,OAAQK,EAAIuY,EAAKvY,IAAK,CAC9C,IAAIkjC,EAAQlkC,KAAKmkC,WAAW51B,EAAMvN,IAC9BsO,oBAAM40B,KAGVA,EAAMl/B,gBAAgB,iBACtByU,eAAayqB,GAxhEX,gBA2hEVpJ,EAAS56B,UAAU88B,cAAgB,WAC/B,IAAIl5B,EAAMqJ,UAAQnN,KAAK6B,QAAS,aAChC7B,KAAKihC,WAAa3xB,oBAAMxL,GAAO,GAjhE3B,WAmhERg3B,EAAS56B,UAAU6tC,gBAAkB,SAAUjE,GAC3CvmC,eAAaR,IAAI+mC,EAAQ,OAAQ9pC,KAAKkuC,cAAeluC,OAEzD86B,EAAS56B,UAAUo9B,kBAAoB,SAAUqR,GAC7C,GAAIA,EAAQ,CACR,IAAI0F,EAAUr0C,KACdA,KAAKs0C,aAAe,IAAIpxC,QAAMlD,KAAK6B,SAC/B0yC,IAAK,SAAU3uC,GACQ,IAAfA,EAAE4uC,WACF5uC,EAAEsB,cAAcL,iBAChBwtC,EAAQjH,eAAexnC,EAAEsB,wBAMjClH,KAAKs0C,cACLt0C,KAAKs0C,aAAa5vC,WAI9Bo2B,EAAS56B,UAAUu0C,eAAiB,SAAU9F,GAC1C,GAAIA,EAAQ,CACR,IAAI+F,EAAU10C,KACdA,KAAK20C,cAAgB,IAAIzxC,QAAMlD,KAAK6B,SAChC0yC,IAAK,SAAU3uC,GACX8uC,EAAQ5oC,aAAalG,EAAEsB,uBAK3BlH,KAAK20C,eACL30C,KAAK20C,cAAcjwC,WAI/Bo2B,EAAS56B,UAAU00C,kBAAoB,SAAUjG,GAC7C,IAAI9oC,EAAQ7F,KACZ,GAAI2uC,EAAQ,CACR,IAAIkG,EAAU70C,KACdA,KAAK80C,eAAiB,IAAI5xC,QAAMlD,KAAK6B,SACjC0yC,IAAK,SAAU3uC,IACgB,UAAvBC,EAAM4jC,cAAoD,aAAvB5jC,EAAM4jC,cAA8C,IAAf7jC,EAAE4uC,WAC1EK,EAAQlL,cAAc/jC,EAAEsB,uBAMhClH,KAAK80C,gBACL90C,KAAK80C,eAAepwC,WAIhCo2B,EAAS56B,UAAUonB,iBAAmB,SAAU1hB,GAC5C5F,KAAK+6B,iBAAkB,GACnBn1B,EAAEgjC,UAAYhjC,EAAE2iC,UAChB3iC,EAAEiB,iBAEFjB,EAAE2iC,SAAWvoC,KAAKwhC,qBAClBj+B,eAAaR,IAAI/C,KAAK6B,QAAS,cAAe7B,KAAKulC,mBAAoBvlC,OAI/E86B,EAAS56B,UAAUqlC,mBAAqB,SAAU3/B,GAC9CA,EAAEiB,kBAENi0B,EAAS56B,UAAU2L,WAAa,WAC5BtI,eAAaR,IAAI/C,KAAK6B,QAAS,YAAa7B,KAAKsnB,iBAAkBtnB,MACnEA,KAAKy0C,gBAAe,GACpBz0C,KAAK40C,mBAAkB,GACvBrxC,eAAaR,IAAI/C,KAAK6B,QAAS,QAAS7B,KAAK4f,QAAS5f,MACtDuD,eAAaR,IAAI/C,KAAK6B,QAAS,OAAQ7B,KAAK6f,SAAU7f,MACtDuD,eAAaR,IAAI/C,KAAK6B,QAAS,YAAa7B,KAAKusC,YAAavsC,MAC9DuD,eAAaR,IAAI/C,KAAK6B,QAAS,WAAY7B,KAAK0sC,aAAc1sC,MAC9DA,KAAKgtB,eAAiB,IAAI/gB,iBAAejM,KAAK6B,SAC1CqK,UAAWlM,KAAKmM,iBAAiB9I,KAAKrD,MACtCsK,WAAYtK,KAAKsK,WACjBqV,UAAW,aAGnBmb,EAAS56B,UAAUwsB,aAAe,WAC9BnpB,eAAaoB,OAAO3E,KAAK6B,QAAS,YAAa7B,KAAKsnB,kBACpDtnB,KAAKy0C,gBAAe,GACpBz0C,KAAK40C,mBAAkB,GACvBrxC,eAAaoB,OAAO3E,KAAK6B,QAAS,QAAS7B,KAAK4f,SAChDrc,eAAaoB,OAAO3E,KAAK6B,QAAS,OAAQ7B,KAAK6f,UAC/Ctc,eAAaoB,OAAO3E,KAAK6B,QAAS,YAAa7B,KAAKusC,aACpDhpC,eAAaoB,OAAO3E,KAAK6B,QAAS,WAAY7B,KAAK0sC,cACnD1sC,KAAKgtB,eAAetoB,WAExBo2B,EAAS56B,UAAUknC,QAAU,SAAUvlC,EAAS6d,GAG5C,IAFA,IAAIq1B,KACAxuC,EAAK1E,EAAQqY,YACT5K,oBAAM/I,IACNyuC,UAAQzuC,EAAImZ,IACZq1B,EAAQzhC,KAAK/M,GAEjBA,EAAKA,EAAG2T,WAEZ,OAAO66B,GAEXja,EAAS56B,UAAU+wC,aAAe,SAAUvG,EAAQxI,GAEhD,IADA,IAAIN,EAAOM,EAAMhoB,YACT5K,oBAAMsyB,IAAO,CACjB,GAAIA,IAAS8I,EACT,OAAO,EAEX9I,EAAOA,EAAK1nB,WAEhB,OAAO,GAEX4gB,EAAS56B,UAAUgnC,YAAc,SAAUrlC,GACvC6X,YAAU7X,GAAUy3B,IACpB2b,iBACI30C,OAAQuB,EACRqG,MAAOjG,UAAQI,SAAW,GAAK,KAEnC6kC,cAAYrlC,IAEhBi5B,EAAS56B,UAAUkmC,YAAc,SAAUvkC,GACvCukC,cAAYvkC,GACZA,EAAQga,UAAY,GACpBpC,eAAa5X,GAAUy3B,KAE3BwB,EAAS56B,UAAUg1C,gBAAkB,SAAU3mC,GAC3CA,EAAQ4mC,KAAKC,MAAMD,KAAKE,UAAU9mC,IAClCvO,KAAKs1C,aACD/mC,EAAM5N,OAAS,GACfX,KAAKu1C,SAAShnC,IAUtBusB,EAAS56B,UAAUwI,kBAAoB,SAAUC,EAASC,GACtD,IAAK,IAAI7E,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,mBACD/D,KAAKw9B,eAAex9B,KAAKy9B,kBACzB,MACJ,IAAK,eACDz9B,KAAKs9B,kBAAkBt9B,KAAKu9B,cAC5B,MACJ,IAAK,sBACD,GAAIv9B,KAAKi9B,cAAct8B,OAAS,EAAG,CAC/B,IAAI0kC,EAAQrlC,KAAKmkC,WAAWnkC,KAAKi9B,cAAc,IAC/Cj9B,KAAK+8B,UAAW,EAChB/8B,KAAK2oC,kBACL3oC,KAAK6iC,WAAWwC,EAAO,MACvBrlC,KAAK+8B,UAAW,EAEpB/8B,KAAKu+B,eAAev+B,KAAKwhC,qBACzBxhC,KAAK+yC,eAAe/yC,KAAKwhC,qBACzB,MACJ,IAAK,eACGxhC,KAAK8gC,eACL9gC,KAAKk9B,aAAet0B,EAAQs0B,aAC5Bl9B,KAAKk1C,gBAAgBvsC,EAAQu0B,eAEjC,MACJ,IAAK,WACDl9B,KAAK4vB,YAAYhnB,EAAQwT,SAAUzT,EAAQyT,UAC3C,MACJ,IAAK,YACDpc,KAAK09B,eACL,MACJ,IAAK,WACD19B,KAAK40C,mBAAkB,GACvB50C,KAAKo9B,kBACLp9B,KAAK40C,mBAAkB,GACvB,MACJ,IAAK,SACD50C,KAAKo8B,eAAeE,OAASt8B,KAAKs8B,OAAO3Q,WACzC3rB,KAAKo8B,eAAeE,OAAOK,IAAM38B,KAAKs8B,OAAOM,YAC7C58B,KAAKitC,gBACL,MACJ,IAAK,gBACDjtC,KAAK29B,WAAW39B,KAAK49B,eACrB59B,KAAK4yC,WAAW5yC,KAAK49B,eACrB,MACJ,IAAK,eACD59B,KAAK69B,eAAiB79B,KAAK89B,iBAAiB99B,KAAK+9B,cACjD/9B,KAAKitC,gBACL,MACJ,IAAK,gBACDjtC,KAAK2oC,kBACL3oC,KAAKwxB,eAAgByL,cAAet0B,EAAQs0B,gBAAiB,GAC7Dj9B,KAAKmlC,oBACL,MACJ,IAAK,eAGL,IAAK,YACDnlC,KAAKitC,mBAQrBnS,EAAS56B,UAAUwE,QAAU,WACzB1E,KAAK6B,QAAQmD,gBAAgB,yBAC7BhF,KAAK6B,QAAQmD,gBAAgB,YAC7BhF,KAAK0sB,eACL1sB,KAAKs9B,mBAAkB,GACvBt9B,KAAKk+B,WACLl+B,KAAKq+B,eACLr+B,KAAK4vB,YAAY5vB,KAAKoc,SAAU,MAChCpc,KAAKw9B,gBAAe,GACpBx9B,KAAK29B,YAAW,GAChB39B,KAAK6B,QAAQga,UAAY,GACzBla,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,OASlC86B,EAAS56B,UAAUs1C,SAAW,SAAUjnC,EAAOjO,EAAQ8S,GACnD,IAAI9D,oBAAMf,GAAV,CAGA,IAAIyiC,EAAShxC,KAAKmkC,WAAW7jC,GAE7B,GADAiO,EAAQvO,KAAK4gC,cAAcryB,GACvBvO,KAAKs8B,OAAOmC,sBAAsBC,cAClC1+B,KAAK8zC,cAAcvlC,EAAOyiC,EAAQ59B,GAAO,QAExC,GAAsB,IAAlBpT,KAAKmgC,SACVngC,KAAK8zC,cAAcvlC,EAAOyiC,EAAQ59B,QAGlC,GAAI49B,EACAhxC,KAAK8zC,cAAcvlC,EAAOyiC,EAAQ59B,QAGlC,IAAK,IAAIpS,EAAI,EAAGA,EAAIuN,EAAM5N,OAAQK,IAAK,CACnC,IAAI+rC,EAAM9mB,WAASjmB,KAAKs8B,OAAO2D,SAAU1xB,EAAMvN,IAC/CgwC,EAASjE,EAAM/sC,KAAKmkC,WAAW4I,EAAIzyB,YAAcyyB,EACjD/sC,KAAK8zC,eAAevlC,EAAMvN,IAAKgwC,EAAQ59B,MASvD0nB,EAAS56B,UAAUu1C,UAAY,SAAU7T,GACrC,IAAI99B,EAAM9D,KAAKmkC,WAAWvC,IACrBtyB,oBAAMxL,IAAQ9D,KAAKu9B,cACpBv9B,KAAKsqC,cAAcxmC,EAAK,OAQhCg3B,EAAS56B,UAAUq1C,SAAW,SAAUhnC,GAChCvO,KAAK8gC,cACL9gC,KAAKgkC,iBAAiBz1B,GAAO,IAWrCusB,EAAS56B,UAAUw1C,YAAc,SAAUnnC,EAAOmyB,EAAOyS,GAChD7jC,oBAAMf,GAIHmyB,EAAQ,EACR1gC,KAAKkzC,gBAAgB3zB,SAAO,IAAM4Z,GAAYn5B,KAAK6B,SAAU6+B,EAAOyS,GAGpEnzC,KAAKqzC,iBAAiBF,GAP1BnzC,KAAK4zC,cAAcrlC,EAAOwqB,IAAa,IAe/C+B,EAAS56B,UAAUy1C,aAAe,SAAUpnC,GACnCe,oBAAMf,IACPvO,KAAKm0C,gBAAgB5lC,IAO7BusB,EAAS56B,UAAU01C,YAAc,SAAUrnC,GAClCe,oBAAMf,IACPvO,KAAKo0C,eAAe7lC,IAQ5BusB,EAAS56B,UAAU21C,cAAgB,SAAUjU,GACzC,IAAIsC,EAAQlkC,KAAKmkC,WAAWvC,GAC5B,IAAItyB,oBAAM40B,GAAV,CAGA,IAAIkD,EAAUpnC,KAAKonC,QAAQlD,EAAO,IAAMjL,IACxCj5B,KAAK81C,UAAU1O,GACfphC,WAAW,WAAck+B,EAAM8G,gBAAe,IAAU,OAU5DlQ,EAAS56B,UAAU41C,UAAY,SAAUvnC,EAAOmyB,EAAOyS,GAC9C7jC,oBAAMf,GAIHmyB,EAAQ,EACR1gC,KAAKszC,cAAc/zB,SAAO,IAAM4Z,GAAYn5B,KAAK6B,SAAU6+B,EAAOyS,GAGlEnzC,KAAKuzC,eAAeJ,GAPxBnzC,KAAK4zC,cAAcrlC,EAAOyqB,IAAY,IAe9C8B,EAAS56B,UAAU61C,QAAU,SAAUnU,GACnC,IAAI99B,EAAM9D,KAAKmkC,WAAWvC,GAC1B,OAAO5hC,KAAK+kC,YAAYjhC,GAAK,IAQjCg3B,EAAS56B,UAAU81C,UAAY,SAAUC,EAAa31C,EAAQ8S,GAC1D,IAAI49B,EAAShxC,KAAKmkC,WAAW7jC,GAC7B,IAAIgP,oBAAM0hC,GAGV,IAAK,IAAIhwC,EAAI,EAAGA,EAAIi1C,EAAYt1C,OAAQK,IAAK,CACzC,IAAIuuC,EAASvvC,KAAKmkC,WAAW8R,EAAYj1C,IACrCsO,oBAAMigC,IAAWyB,EAAOxB,WAAWD,IAAWvvC,KAAKixC,aAAa1B,EAAQyB,IAG5EhxC,KAAKwxC,gBAAgBjC,EAAQyB,EAAQhxC,KAAMoT,KAOnD0nB,EAAS56B,UAAUg2C,YAAc,SAAU3nC,GACvC,IAAKe,oBAAMf,GACP,IAAK,IAAIvN,EAAI,EAAGuY,EAAMhL,EAAM5N,OAAQK,EAAIuY,EAAKvY,IAAK,CAC9C,IAAIkjC,EAAQlkC,KAAKmkC,WAAW51B,EAAMvN,IAC9BsO,oBAAM40B,IAGVlkC,KAAK0zC,WAAWxP,KAS5BpJ,EAAS56B,UAAUi2C,WAAa,SAAU71C,EAAQ6tC,GAC9C,IAAI7+B,oBAAMhP,KAAWgP,oBAAM6+B,IAAanuC,KAAKu9B,aAA7C,CAGA,IAAI2G,EAAQlkC,KAAKmkC,WAAW7jC,GAC5B,IAAIgP,oBAAM40B,GAAV,CAGA,IAAIkK,EAAS7uB,SAAO,IAAM2Z,GAAUgL,GACpClkC,KAAKstC,cAAcpJ,GACnB,IAAIr0B,EAAY7P,KAAKutC,aAAarJ,EAAO,KAAM,MAC/ClkC,KAAKwL,QAAQ,cAAeqE,GACxBA,EAAUE,QAGd/P,KAAKquC,cAAcnK,EAAOkK,EAAQD,GAAS,MAO/CrT,EAAS56B,UAAUo1C,WAAa,SAAU/mC,GAClCvO,KAAK8gC,cACL9gC,KAAKgkC,iBAAiBz1B,GAAO,IAGrCnO,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,wBAAoB,GAC3CE,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,oBAAgB,GACvCE,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,2BAAuB,GAC9CE,IACIge,aAAYyc,KACbC,EAAS56B,UAAW,iBAAa,GACpCE,IACI0I,cACDgyB,EAAS56B,UAAW,oBAAgB,GACvCE,IACI0I,WAAS,KACVgyB,EAAS56B,UAAW,gBAAY,GACnCE,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,yBAAqB,GAC5CE,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,iBAAa,GACpCE,IACI0I,WAAS,SACVgyB,EAAS56B,UAAW,gBAAY,GACnCE,IACIge,aAAYuc,KACbG,EAAS56B,UAAW,cAAU,GACjCE,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,qBAAiB,GACxCE,IACI0I,cACDgyB,EAAS56B,UAAW,oBAAgB,GACvCE,IACI0I,cACDgyB,EAAS56B,UAAW,qBAAiB,GACxCE,IACI0I,WAAS,SACVgyB,EAAS56B,UAAW,iBAAa,GACpCE,IACI0I,YAAS,IACVgyB,EAAS56B,UAAW,oBAAgB,GACvCE,IACI+c,WACD2d,EAAS56B,UAAW,eAAW,GAClCE,IACI+c,WACD2d,EAAS56B,UAAW,iBAAa,GACpCE,IACI+c,WACD2d,EAAS56B,UAAW,gBAAY,GACnCE,IACI+c,WACD2d,EAAS56B,UAAW,iBAAa,GACpCE,IACI+c,WACD2d,EAAS56B,UAAW,gBAAY,GACnCE,IACI+c,WACD2d,EAAS56B,UAAW,mBAAe,GACtCE,IACI+c,WACD2d,EAAS56B,UAAW,oBAAgB,GACvCE,IACI+c,WACD2d,EAAS56B,UAAW,mBAAe,GACtCE,IACI+c,WACD2d,EAAS56B,UAAW,qBAAiB,GACxCE,IACI+c,WACD2d,EAAS56B,UAAW,sBAAkB,GACzCE,IACI+c,WACD2d,EAAS56B,UAAW,oBAAgB,GACvCE,IACI+c,WACD2d,EAAS56B,UAAW,qBAAiB,GACxCE,IACI+c,WACD2d,EAAS56B,UAAW,oBAAgB,GACvCE,IACI+c,WACD2d,EAAS56B,UAAW,mBAAe,GACtCE,IACI+c,WACD2d,EAAS56B,UAAW,kBAAc,GACrCE,IACI+c,WACD2d,EAAS56B,UAAW,mBAAe,GACtCE,IACI+c,WACD2d,EAAS56B,UAAW,oBAAgB,GACvCE,IACI+c,WACD2d,EAAS56B,UAAW,qBAAiB,GACxCE,IACI+c,WACD2d,EAAS56B,UAAW,oBAAgB,GACvCE,IACI+c,WACD2d,EAAS56B,UAAW,qBAAiB,GACxC46B,EAAW16B,IACP2I,yBACD+xB,IAEL9xB,aC1mFE3J,GAAwC,WACxC,IAAIC,EAAgBC,OAAOC,iBACpBC,wBAA2BC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KACzE,OAAO,SAAUF,EAAGC,GAEhB,SAASG,IAAOC,KAAKC,YAAcN,EADnCL,EAAcK,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaL,OAAOY,OAAOP,IAAMG,EAAGG,UAAYN,EAAEM,UAAW,IAAIH,IAP3C,GAUxCK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOjB,OAAOsB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIU,EAAWW,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAEW,EAAQC,EAAKK,GAAKjB,EAAEW,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKrB,OAAO0B,eAAeX,EAAQC,EAAKK,GAAIA,GAQ5Dw1C,GAAQ,UACRC,GAAO,SACPC,GAAY,eAIZC,GAAQ,UAERC,GAAO,SACPC,GAAO,SAEPC,GAAa,eAEbC,GAAmB,sBACnBC,GAAU,oBACVC,GAAkB,qBAelBC,GAAyB,SAAUn1C,GAEnC,SAASm1C,EAAQl1C,EAASC,GACtB,OAAOF,EAAOG,KAAK9B,KAAM4B,EAASC,IAAY7B,KAselD,OAxeAX,GAAUy3C,EAASn1C,GAInBm1C,EAAQ52C,UAAU6B,UAAY,WAC1B/B,KAAK+2C,YAETD,EAAQ52C,UAAU8C,OAAS,WACvBhD,KAAKuC,aACLvC,KAAK6L,cAETirC,EAAQ52C,UAAUqC,WAAa,WAC3BvC,KAAKg3C,aACLh3C,KAAK0Z,WACL1Z,KAAKi3C,YACDj3C,KAAKk3C,YACLl3C,KAAKm3C,UAETn3C,KAAKo3C,gBACLp3C,KAAKq3C,QAAQr3C,KAAK+Z,OAEtB+8B,EAAQ52C,UAAU82C,WAAa,WACvBh3C,KAAKs3C,YACLt3C,KAAKs3C,UAAUC,sBAAsB,aAAcv3C,KAAK6B,SACxD6X,YAAU1Z,KAAK6B,SAAUg1C,IACzBn9B,YAAU1Z,KAAKs3C,WAAYV,MAGnCE,EAAQ52C,UAAU62C,SAAW,WACrB/2C,KAAKk3C,YAAgC,SAAlBl3C,KAAKgQ,SACxBQ,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKw3C,YAE7Cx3C,KAAKk3C,YAAgC,UAAlBl3C,KAAKgQ,SAC7BQ,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKw3C,YAE5Cx3C,KAAKk3C,YACX1mC,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKkI,UAG1D4uC,EAAQ52C,UAAU+2C,UAAY,WAC1BzmC,oBAASxQ,KAAK6B,SAAW41C,UAAW,GAAKz3C,KAAKymB,UAElDqwB,EAAQ52C,UAAUwZ,SAAW,WACzB,IAAIg+B,EAAe/qC,SAASnF,cAAc,mBACrCmwC,oBAAmBD,GACpB13C,KAAK6B,QAAQkgB,qBACbrI,YAAUg+B,GAAgB13C,KAAK6B,QAAQkgB,qBAjExB,wBAmEd/hB,KAAKk3C,YAA4B,SAAdl3C,KAAK+Z,MACzBL,YAAU1Z,KAAK6B,UAAW60C,KAE9Bj9B,eAAazZ,KAAK6B,UAAWw0C,GAAMD,GAAOG,GA3EvC,SAGC,UAwE0DE,GAAMD,KACpEx2C,KAAK6B,QAAQiB,UAAUC,IArFpB,aAsFH2W,YAAU1Z,KAAK6B,SAA6B,UAAlB7B,KAAKgQ,SAAwBumC,GA7EpD,UA8Ee,SAAdv2C,KAAK+Z,MAAoB9X,UAAQI,UAAarC,KAAKk3C,WAInDx9B,YAAU1Z,KAAK6B,SAAUu0C,IAHzB18B,YAAU1Z,KAAK6B,SAAUw0C,KAMjCS,EAAQ52C,UAAU03C,gBAAkB,WAChC,IAAIC,EAAUlrC,SAASnF,cAAc,oBACjCxH,KAAK6B,QAAQkgB,mBACb/hB,KAAKs3C,WAAat3C,KAAK83C,cAAgBD,EACvCp+B,eAAao+B,GA5FH,cA8FL73C,KAAK83C,cAAgB93C,KAAK+3C,QAC/B/3C,KAAK+3C,MAAMp1C,MAAMC,QAAU,OAC3B5C,KAAK+3C,MAAM78B,UAAY,GACvBlb,KAAK+3C,MAAQ,OAOrBjB,EAAQ52C,UAAUsM,KAAO,WACrB,IAAIxM,KAAK6B,QAAQiB,UAAUqE,SAASivC,IAApC,CAGIp2C,KAAK6B,QAAQiB,UAAUqE,SAASkvC,MAChCr2C,KAAKg4C,gBAAmB71C,KAAM,SAAUN,QAAS7B,KAAK6B,SACtD7B,KAAKwL,QAAQ,SAAUxL,KAAKg4C,iBAEhCt+B,YAAU1Z,KAAK6B,SAAUu0C,IACzB38B,eAAazZ,KAAK6B,SAAUw0C,IAC5Br2C,KAAKk3C,WAAa1mC,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKw3C,YAChEhnC,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKkI,SACtDlI,KAAKm3C,UACLn3C,KAAKq3C,QAAQr3C,KAAK+Z,MAClB,IAAI89B,EAAUlrC,SAASnF,cAAc,oBACjCxH,KAAK6B,QAAQkgB,oBACZ/hB,KAAKk3C,YAAcW,IACpBA,EAAQl1C,MAAMs1C,UAAY,kBACR,SAAlBj4C,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM6S,WAAa,MAAQqiC,EAAQl1C,MAAM+O,YAAc,OAE9F1R,KAAKg4C,gBAAmB71C,KAAM,SAAUN,QAAS7B,KAAK6B,SACtD7B,KAAKwL,QAAQ,QAASxL,KAAKg4C,gBAC3Bh4C,KAAK43C,kBACD53C,KAAKk4C,sBACL30C,eAAaoB,OAAOgI,SAAU,uBAAwB3M,KAAKm4C,sBAE/Dn4C,KAAKo4C,eACa,UAAdp4C,KAAK+Z,MACLpN,SAASoS,KAAKjc,UAAU6B,OAAO,wBAOvCmyC,EAAQ52C,UAAU8O,KAAO,WAErB,GADAyK,eAAazZ,KAAK6B,SAAU60C,KACxB12C,KAAK6B,QAAQiB,UAAUqE,SAASkvC,IAApC,CAGIr2C,KAAK6B,QAAQiB,UAAUqE,SAASivC,MAChCp2C,KAAKg4C,gBAAmB71C,KAAM,OAAQN,QAAS7B,KAAK6B,SACpD7B,KAAKwL,QAAQ,SAAUxL,KAAKg4C,iBAEhCt+B,YAAU1Z,KAAK6B,UAAWw0C,GAAMC,KAChC9lC,oBAASxQ,KAAK6B,SAAWo2C,UAAa,KACtCx+B,eAAazZ,KAAK6B,SAAUu0C,IAC5B5lC,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKkI,SAC/BlI,KAAK6B,QAAQsrB,wBAAwBjlB,MACxDlI,KAAKq3C,QAAQr3C,KAAK+Z,MAClB/Z,KAAKq4C,iBACLr4C,KAAKg4C,eAAe71C,KAAO,OAC3BnC,KAAKg4C,eAAen2C,QAAU7B,KAAK6B,QACnC7B,KAAKwL,QAAQ,OAAQxL,KAAKg4C,gBACtBh4C,KAAKk4C,sBACL30C,eAAaR,IAAI4J,SAAU,uBAAwB3M,KAAKm4C,qBAAsBn4C,MAElFA,KAAKo4C,eACa,UAAdp4C,KAAK+Z,MACLpN,SAASoS,KAAKjc,UAAUC,IAAI,wBAGpC+zC,EAAQ52C,UAAUk4C,aAAe,WACzBp4C,KAAK2jB,QACLlK,eAAazZ,KAAK6B,SAAU80C,IAG5Bj9B,YAAU1Z,KAAK6B,SAAU80C,KAGjCG,EAAQ52C,UAAUi3C,QAAU,WACpBn3C,KAAKk3C,YAAgC,SAAlBl3C,KAAKgQ,WAAwBhQ,KAAKs4C,SACrD9nC,oBAASxQ,KAAK6B,SAAWo2C,UAAa,gCAA0C3nC,aAAWtQ,KAAKw3C,UAAY,MAEvGx3C,KAAKk3C,YAAgC,UAAlBl3C,KAAKgQ,WAAyBhQ,KAAKs4C,UAC3D9nC,oBAASxQ,KAAK6B,SAAWo2C,UAAa,gCAA+C3nC,aAAWtQ,KAAKw3C,UAAY,MAEjHx3C,KAAK6B,QAAQiB,UAAUqE,SAASivC,KAAUp2C,KAAKk3C,YAC/C1mC,oBAASxQ,KAAK6B,SAAWqG,MAASoI,aAAWtQ,KAAKw3C,aAG1DV,EAAQ52C,UAAUm4C,eAAiB,WAC/B,GAAIr4C,KAAKs3C,WAAat3C,KAAK83C,aAAc,CACrC,IAAID,EAAUlrC,SAASnF,cAAc,oBACjCxH,KAAK6B,QAAQkgB,mBACjBrI,YAAUm+B,GA7LA,mBA+LL73C,KAAK83C,eAAiB93C,KAAK+3C,OAAS/3C,KAAKs4C,WAC9Ct4C,KAAK+3C,MAAQ5xB,gBAAc,OAC3BnmB,KAAK+3C,MAAMp0C,UAlMD,oBAmMV3D,KAAK+3C,MAAMp1C,MAAMC,QAAU,QAC3B+J,SAASoS,KAAK3a,YAAYpE,KAAK+3C,SAGvCjB,EAAQ52C,UAAUqE,eAAiB,WAC/B,OAAOvE,KAAKwE,cAAc,OAAQ,cAOtCsyC,EAAQ52C,UAAUuE,cAAgB,WAC9B,MAAO,WAMXqyC,EAAQ52C,UAAUusB,OAAS,SAAU7mB,GACjC5F,KAAK6B,QAAQiB,UAAUqE,SAASkvC,IAAQr2C,KAAKwM,OAASxM,KAAKgP,QAM/D8nC,EAAQ52C,UAAUo4C,OAAS,WACvB,QAAOt4C,KAAK6B,QAAQiB,UAAUqE,SAASkvC,KAE3CS,EAAQ52C,UAAUk3C,cAAgB,WAC1Bp3C,KAAKu4C,YAAcv4C,KAAKu4C,WAAWvD,QACnCh1C,KAAKgP,OAEAhP,KAAKu4C,YAAcv4C,KAAKs4C,UAC7Bt4C,KAAKwM,QAGbsqC,EAAQ52C,UAAU6L,OAAS,SAAUnG,GACf,SAAd5F,KAAK+Z,OACD9X,UAAQI,SACRqX,YAAU1Z,KAAK6B,SAAU20C,IAGzB98B,YAAU1Z,KAAK6B,SAAU40C,KAGjCz2C,KAAKo3C,iBAETN,EAAQ52C,UAAUi4C,qBAAuB,SAAUvyC,GAC3CA,EAAEtF,OAAO6M,QAAQ,yBAGrBnN,KAAKwM,QAETsqC,EAAQ52C,UAAUs4C,qBAAuB,SAAUp+B,GACzB,SAAlBpa,KAAKgQ,UAA+C,UAAxBoK,EAAKyc,gBAChCzc,EAAKq+B,QAAU,IAAMr+B,EAAKvS,WAAa,IAAMuS,EAAKwc,UAAY,GAC/D52B,KAAKgP,OAEkB,SAAlBhP,KAAKgQ,UAA+C,SAAxBoK,EAAKyc,eACtC72B,KAAKwM,OAEkB,UAAlBxM,KAAKgQ,UAAgD,UAAxBoK,EAAKyc,eACvC72B,KAAKwM,OAEkB,UAAlBxM,KAAKgQ,UAAgD,SAAxBoK,EAAKyc,gBACnC9wB,OAAOqlC,WAAahxB,EAAKq+B,QAAU,IAAMr+B,EAAKvS,WAAa,IAAMuS,EAAKwc,UAAY,IACtF52B,KAAKgP,QAGb8nC,EAAQ52C,UAAUw4C,kBAAoB,WAC9B14C,KAAK24C,gBACL34C,KAAK44C,eAAiB,IAAI11C,QAAMyJ,SAASoS,MAAQqX,MAAOp2B,KAAKw4C,qBAAqBn1C,KAAKrD,QACvFA,KAAK64C,WAAa,IAAI31C,QAAMlD,KAAK6B,SAAWu0B,MAAOp2B,KAAKw4C,qBAAqBn1C,KAAKrD,SAG9EA,KAAK44C,gBAAkB54C,KAAK64C,aAC5B74C,KAAK44C,eAAel0C,UACpB1E,KAAK64C,WAAWn0C,YAI5BoyC,EAAQ52C,UAAU2L,WAAa,WAC3B7L,KAAK04C,oBACL3yC,OAAOY,iBAAiB,SAAU3G,KAAK+L,OAAO1I,KAAKrD,QAEvD82C,EAAQ52C,UAAUwsB,aAAe,WAC7B3mB,OAAO2wB,oBAAoB,SAAU12B,KAAK+L,OAAO1I,KAAKrD,OACtDuD,eAAaoB,OAAOgI,SAAU,uBAAwB3M,KAAKm4C,sBACvDn4C,KAAK44C,gBACL54C,KAAK44C,eAAel0C,UAEpB1E,KAAK64C,YACL74C,KAAK64C,WAAWn0C,WAGxBoyC,EAAQ52C,UAAUwI,kBAAoB,SAAUC,EAASC,GAGrD,IAAK,IAFDivC,EAAUlrC,SAASnF,cAAc,oBACjCxH,KAAK6B,QAAQkgB,mBACRhe,EAAK,EAAGe,EAAKvF,OAAOsJ,KAAKF,GAAU5E,EAAKe,EAAGnE,OAAQoD,IAAM,CAE9D,OADWe,EAAGf,IAEV,IAAK,QACD/D,KAAK+2C,WACA/2C,KAAKs4C,UACNt4C,KAAKm3C,UAET,MACJ,IAAK,UACDn3C,KAAKo4C,eACL,MACJ,IAAK,OACD3+B,eAAazZ,KAAK6B,UAAW60C,KAC7B12C,KAAK0Z,WACL1Z,KAAKq3C,QAAQr3C,KAAK+Z,MAClB,MACJ,IAAK,WACD/Z,KAAK6B,QAAQc,MAAMs1C,UAAY,GAC/Bj4C,KAAKm3C,UACDU,IACkB,SAAlB73C,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM+O,YAAc,MAAQmmC,EAAQl1C,MAAM6S,WAAa,OAExE,UAAlBxV,KAAKgQ,UACLyJ,eAAazZ,KAAK6B,SA1T/B,UA2Ta6X,YAAU1Z,KAAK6B,SAAU00C,MAGzB98B,eAAazZ,KAAK6B,SAAU00C,IAC5B78B,YAAU1Z,KAAK6B,SA/T5B,WAiUS7B,KAAKq3C,QAAQr3C,KAAK+Z,MAClB,MACJ,IAAK,eACG/Z,KAAK83C,aACL93C,KAAKq4C,iBAGDr4C,KAAK+3C,QACL/3C,KAAK+3C,MAAMp1C,MAAMC,QAAU,OAC3B5C,KAAK+3C,MAAM78B,UAAY,GACvBlb,KAAK+3C,MAAQ,MAGrB,MACJ,IAAK,YACGJ,oBAAkB33C,KAAKs3C,YACvB79B,eAAazZ,KAAK6B,SAAUg1C,IAC5Bp9B,eAAa7Q,EAAQ0uC,WAAYV,IACjCpmC,oBAASqnC,GAAWiB,cAAe,EAAGC,eAAgB,IACtDpsC,SAASoS,KAAKw4B,sBAAsB,aAAcv3C,KAAK6B,UAGvDF,EAAOzB,UAAU6c,QAAQjb,KAAK9B,MAElC,MACJ,IAAK,uBACGA,KAAKk4C,qBACL30C,eAAaR,IAAI4J,SAAU,uBAAwB3M,KAAKm4C,qBAAsBn4C,MAG9EuD,eAAaoB,OAAOgI,SAAU,uBAAwB3M,KAAKm4C,sBAE/D,MACJ,IAAK,aACIn4C,KAAKs4C,UACNt4C,KAAKm3C,UAET,MACJ,IAAK,SACDn3C,KAAKi3C,YACL,MACJ,IAAK,aACDj3C,KAAKo3C,gBACL,MACJ,IAAK,iBACDp3C,KAAK04C,uBAKrB5B,EAAQ52C,UAAUm3C,QAAU,SAAUt9B,GAClC,IAAIi/B,EAAeh5C,KAAK6B,QAAQsrB,wBAAwBjlB,MACxDlI,KAAKi3C,YACDj3C,KAAKk3C,YACLx9B,YAAU1Z,KAAK6B,SA/Xd,UAiYL,IAAIg2C,EAAUlrC,SAASnF,cAAc,oBACjCxH,KAAK6B,QAAQkgB,mBACb81B,IACAA,EAAQl1C,MAAMs1C,UAAY,kBACrBh2C,UAAQI,UAA0B,SAAdrC,KAAK+Z,OACR,SAAlB/Z,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM6S,WAAa,MAAQqiC,EAAQl1C,MAAM+O,YAAc,QAGlG,IAAIuG,GAASjY,KAAKgQ,SAAsBgpC,EAAe,MACnDnnC,EAA6B,SAAlB7R,KAAKgQ,SAAsBgpC,KAE1C,OADAv/B,eAAazZ,KAAK6B,UAAW40C,GAAMD,GAhY/B,YAiYIz8B,GACJ,IAAK,OACDL,YAAU1Z,KAAK6B,UAAW40C,KACtBoB,IAAY73C,KAAKk3C,YAAcl3C,KAAK6B,QAAQiB,UAAUqE,SAASkvC,OAC7C,SAAlBr2C,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM6S,WAAayC,EAAS4/B,EAAQl1C,MAAM+O,YAAcuG,GAE/F,MACJ,IAAK,QACDyB,YAAU1Z,KAAK6B,UAzYnB,YA0YQg2C,IAAY73C,KAAKk3C,YAAcl3C,KAAK6B,QAAQiB,UAAUqE,SAASkvC,OAC/DwB,EAAQl1C,MAAMs1C,UAAY,cAAgBpmC,EAAW,OAEzD,MACJ,IAAK,OACD6H,YAAU1Z,KAAK6B,UAAW20C,KACtBx2C,KAAKk3C,YAAcl3C,KAAK6B,QAAQiB,UAAUqE,SAASivC,KAC/CyB,IACkB,SAAlB73C,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM6S,WAAayC,EAAS4/B,EAAQl1C,MAAM+O,YAAcuG,GAGnG,MACJ,IAAK,OACDyB,YAAU1Z,KAAK6B,UAAWy0C,KACtBr0C,UAAQI,SACJw1C,GAAY73C,KAAe,aAAMA,KAAKs4C,UACpB,SAAlBt4C,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM6S,WAAayC,EAAS4/B,EAAQl1C,MAAM+O,YAAcuG,EAC3FyB,YAAU1Z,KAAK6B,SAAU40C,KAGzB/8B,YAAU1Z,KAAK6B,SAAU20C,KAI7B98B,YAAU1Z,KAAK6B,SAAU40C,IACrBoB,IAAY73C,KAAKk3C,YAAcl3C,KAAK6B,QAAQiB,UAAUqE,SAASkvC,OAC7C,SAAlBr2C,KAAKgQ,SAAsB6nC,EAAQl1C,MAAM6S,WAAayC,EAAS4/B,EAAQl1C,MAAM+O,YAAcuG,IAGnGjY,KAAKq4C,mBAOjBvB,EAAQ52C,UAAUwE,QAAU,WACxB/C,EAAOzB,UAAUwE,QAAQ5C,KAAK9B,MAC9ByZ,eAAazZ,KAAK6B,UAAWw0C,GAAMD,GAAOK,GAhbtC,UAgbmDD,GAnbpD,SAmbgED,GAAOD,KACtEt2C,KAAKs3C,YACL79B,eAAazZ,KAAK6B,SAAUg1C,IAC5Bp9B,eAAazZ,KAAKs3C,WAAYV,KAElC52C,KAAK43C,kBACL53C,KAAK6B,QAAQc,MAAMuF,MAAQ,GAC3BlI,KAAK6B,QAAQc,MAAM8jB,OAAS,GAC5BzmB,KAAK6B,QAAQc,MAAMs1C,UAAY,GAC/B,IAAIJ,EAAUlrC,SAASnF,cAAc,oBAC9BxH,KAAK6B,QAAQkgB,mBACf41B,oBAAkBE,KACnBA,EAAQl1C,MAAMsV,OAAS,GACvB4/B,EAAQl1C,MAAMs1C,UAAY,IAE9Bj4C,KAAK0sB,gBAETtsB,IACI0I,WAAS,SACVguC,EAAQ52C,UAAW,gBAAY,GAClCE,IACI0I,WAAS,OACVguC,EAAQ52C,UAAW,kBAAc,GACpCE,IACI0I,YAAS,IACVguC,EAAQ52C,UAAW,kBAAc,GACpCE,IACI0I,YAAS,IACVguC,EAAQ52C,UAAW,sBAAkB,GACxCE,IACI0I,YAAS,IACVguC,EAAQ52C,UAAW,iBAAa,GACnCE,IACI0I,YAAS,IACVguC,EAAQ52C,UAAW,eAAW,GACjCE,IACI0I,WAAS,SACVguC,EAAQ52C,UAAW,cAAU,GAChCE,IACI0I,YAAS,IACVguC,EAAQ52C,UAAW,4BAAwB,GAC9CE,IACI0I,WAAS,SACVguC,EAAQ52C,UAAW,gBAAY,GAClCE,IACI0I,WAAS,OACVguC,EAAQ52C,UAAW,iBAAa,GACnCE,IACI0I,YAAS,IACVguC,EAAQ52C,UAAW,oBAAgB,GACtCE,IACI0I,WAAS,SACVguC,EAAQ52C,UAAW,YAAQ,GAC9BE,IACI0I,WAAS,SACVguC,EAAQ52C,UAAW,aAAS,GAC/BE,IACI0I,WAAS,MACVguC,EAAQ52C,UAAW,cAAU,GAChCE,IACI+c,WACD25B,EAAQ52C,UAAW,eAAW,GACjCE,IACI+c,WACD25B,EAAQ52C,UAAW,aAAS,GAC/BE,IACI+c,WACD25B,EAAQ52C,UAAW,YAAQ,GAC9BE,IACI+c,WACD25B,EAAQ52C,UAAW,cAAU,GAChCE,IACI+c,WACD25B,EAAQ52C,UAAW,iBAAa,GACnC42C,EAAU12C,IACN2I,yBACD+tC,IAEL9tC"}
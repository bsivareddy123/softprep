{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ff9f5287110ed0b3b81c","webpack:///./~/buffer/index.js","webpack:///./~/bson/lib/bson/float_parser.js","webpack:///./src/util.js","webpack:///./~/bson/lib/bson/long.js","webpack:///./src/auth/common.js","webpack:///./~/bson/lib/bson/binary.js","webpack:///./~/bson/lib/bson/code.js","webpack:///./~/bson/lib/bson/db_ref.js","webpack:///./~/bson/lib/bson/decimal128.js","webpack:///./~/bson/lib/bson/double.js","webpack:///./~/bson/lib/bson/max_key.js","webpack:///./~/bson/lib/bson/min_key.js","webpack:///./~/bson/lib/bson/objectid.js","webpack:///./~/bson/lib/bson/regexp.js","webpack:///./~/bson/lib/bson/symbol.js","webpack:///./~/bson/lib/bson/timestamp.js","webpack:///./src/common.js","webpack:///./src/errors.js","webpack:///(webpack)/buildin/global.js","webpack:///./~/bson/lib/bson/int_32.js","webpack:///./src/client.js","webpack:///./~/mongodb-extjson/dist/bundle.js","webpack:///./~/bson/lib/bson/bson.js","webpack:///./~/bson/lib/bson/map.js","webpack:///./src/auth/providers.js","webpack:///./~/fetch-everywhere/fetch-npm-browserify.js","webpack:///./~/process/browser.js","webpack:///./src/admin.js","webpack:///./~/Base64/base64.js","webpack:///./~/bson/lib/bson/parser/calculate_size.js","webpack:///./~/bson/lib/bson/parser/deserializer.js","webpack:///./~/bson/lib/bson/parser/serializer.js","webpack:///./src/auth/index.js","webpack:///./src/auth/storage.js","webpack:///./src/index.js","webpack:///./src/services/aws/s3_service.js","webpack:///./src/services/aws/ses_service.js","webpack:///./src/services/http/http_service.js","webpack:///./src/services/index.js","webpack:///./src/services/mongodb/collection.js","webpack:///./src/services/mongodb/db.js","webpack:///./src/services/mongodb/mongodb_service.js","webpack:///./src/services/twilio/twilio_service.js","webpack:///./~/base64-js/index.js","webpack:///./~/detect-browser/browser.js","webpack:///./~/detect-browser/lib/detectBrowser.js","webpack:///./~/detect-browser/lib/detectOS.js","webpack:///./~/ieee754/index.js","webpack:///./~/inherits/inherits_browser.js","webpack:///./~/isarray/index.js","webpack:///./~/jwt-decode/lib/atob.js","webpack:///./~/jwt-decode/lib/base64_url_decode.js","webpack:///./~/jwt-decode/lib/index.js","webpack:///./~/object-assign/index.js","webpack:///./~/query-string/index.js","webpack:///./~/strict-uri-encode/index.js","webpack:///./~/util/support/isBufferBrowser.js","webpack:///./~/util/util.js","webpack:///./~/whatwg-fetch/fetch.js"],"names":["readIEEE754","buffer","offset","endian","mLen","nBytes","e","m","bBE","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","writeIEEE754","value","c","rt","abs","isNaN","floor","log","LN2","exports","base64","serviceResponse","service","serviceName","action","args","client","Error","executeServiceFunction","uriEncodeObject","obj","encodeURIComponent","btoa","JSON","stringify","Long","low","high","_bsontype","low_","high_","prototype","toInt","toNumber","TWO_PWR_32_DBL_","getLowBitsUnsigned","toJSON","toString","opt_radix","radix","isZero","isNegative","equals","MIN_VALUE","radixLong","fromNumber","div","rem","multiply","subtract","negate","radixToPower","result","remDiv","intval","digits","length","getHighBits","getLowBits","getNumBitsAbs","val","bit","isOdd","other","notEquals","lessThan","compare","lessThanOrEqual","greaterThan","greaterThanOrEqual","thisNeg","otherNeg","not","add","ONE","a48","a32","a16","a00","b48","b32","b16","b00","c48","c32","c16","c00","fromBits","ZERO","TWO_PWR_24_","NEG_ONE","halfThis","shiftRight","approx","shiftLeft","res","max","log2","ceil","delta","approxRes","approxRem","modulo","and","or","xor","numBits","shiftRightUnsigned","fromInt","cachedObj","INT_CACHE_","isFinite","TWO_PWR_63_DBL_","MAX_VALUE","lowBits","highBits","fromString","str","charAt","substring","indexOf","size","min","parseInt","power","TWO_PWR_16_DBL_","TWO_PWR_24_DBL_","TWO_PWR_31_DBL_","TWO_PWR_48_DBL_","TWO_PWR_64_DBL_","module","USER_AUTH_KEY","REFRESH_TOKEN_KEY","DEVICE_ID_KEY","STATE_KEY","USER_AUTH_COOKIE_NAME","STITCH_ERROR_KEY","STITCH_LINK_KEY","USER_LOGGED_IN_PT_KEY","STITCH_REDIRECT_PROVIDER","DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS","APP_CLIENT_CODEC","ADMIN_CLIENT_CODEC","global","Buffer","require","Binary","subType","Number","sub_type","position","BSON_BINARY_SUBTYPE_DEFAULT","Uint8Array","Object","call","writeStringToArray","BUFFER_SIZE","ArrayBuffer","Array","put","byte_value","decoded_byte","charCodeAt","isBuffer","copy","write","string","read","slice","asRaw","newBuffer","convertArraytoUtf8BinaryString","format","data","byteArray","startIndex","endIndex","String","fromCharCode","SUBTYPE_DEFAULT","SUBTYPE_FUNCTION","SUBTYPE_BYTE_ARRAY","SUBTYPE_UUID_OLD","SUBTYPE_UUID","SUBTYPE_MD5","SUBTYPE_USER_DEFINED","Code","code","scope","DBRef","namespace","oid","db","PARSE_STRING_REGEXP","PARSE_INF_REGEXP","PARSE_NAN_REGEXP","EXPONENT_MAX","EXPONENT_MIN","EXPONENT_BIAS","MAX_DIGITS","NAN_BUFFER","reverse","INF_NEGATIVE_BUFFER","INF_POSITIVE_BUFFER","EXPONENT_REGEX","isDigit","divideu128","DIVISOR","_rem","parts","quotient","multiply64x2","left","right","leftHigh","leftLow","rightHigh","rightLow","productHigh","productMid","productMid2","productLow","uhleft","uhright","ulleft","ulright","longtoHex","index","int32toHex","Decimal128","bytes","sawRadix","foundNonZero","significantDigits","nDigitsRead","nDigits","radixPosition","firstNonZero","nDigitsStored","digitsInsert","firstDigit","lastDigit","exponent","significandHigh","significandLow","biasedExponent","trim","stringMatch","match","infMatch","nanMatch","undefined","substr","digitsString","join","endOfString","roundDigit","roundBit","dIdx","significand","dec","COMBINATION_MASK","EXPONENT_MASK","COMBINATION_INFINITY","COMBINATION_NAN","COMBINATION_SNAN","midh","midl","combination","biased_exponent","significand_digits","scientific_exponent","is_zero","significand_msb","significand128","j","k","push","least_digits","radix_position","Double","valueOf","MaxKey","MinKey","MACHINE_ID","random","checkForHexRegExp","RegExp","hasBufferType","from","err","ObjectID","id","generate","cacheHexString","__id","valid","isValid","createFromHexString","toHexString","ObjectId","hexTable","hexString","_Buffer","convertToHex","get_inc","getInc","time","Date","now","pid","process","inc","inspect","otherId","toLowerCase","getTimestamp","timestamp","setTime","createPk","createFromTime","encodeLookup","split","decodeLookup","array","n","test","defineProperty","enumerable","get","set","BSONRegExp","pattern","options","Symbol","Timestamp","radixTimestamp","JSONTYPE","APP_CLIENT_TYPE","ADMIN_CLIENT_TYPE","DEFAULT_STITCH_SERVER_URL","version","SDK_VERSION","checkStatus","response","status","headers","json","then","error","error_code","Promise","reject","statusText","makeFetchArgs","method","body","init","cors","StitchError","message","name","captureStackTrace","constructor","stack","ErrAuthProviderNotFound","ErrInvalidSession","ErrUnauthorized","Int32","newStitchClient","common","v1","v2","v3","API_TYPE_PUBLIC","API_TYPE_PRIVATE","API_TYPE_CLIENT","API_TYPE_APP","StitchClientFactory","clientAppID","StitchClient","stitchClient","create","baseUrl","authUrl","rootURLsByAPIVersion","authOptions","codec","storage","storageType","platform","authCodec","authPromise","auth","all","handleRedirect","handleCookie","classname","email","password","authenticate","assign","username","provider","register","providerType","isAuthenticated","authedId","authenticateFn","getLoggedInProviderType","resolve","logout","_do","refreshOnFailure","useRefreshToken","rootURL","clear","type","hasOwnProperty","ServiceType","_doFunctionCall","arguments","request","responseDecoder","parse","strict","responseEncoder","text","userApiKeyName","keyID","url","fetchArgs","resource","fetch","refreshToken","appURL","apiVersion","apiType","queryParams","_fetchArgs","noAuth","_fetch","token","getRefreshToken","getAccessToken","isAccessTokenExpired","Authorization","factory","bson","convert","integer","toExtendedJSON","base64String","$binary","fromExtendedJSON","BSON","doc","binary","toExtendedJSON$1","$code","$scope","fromExtendedJSON$1","toExtendedJSON$2","o","$ref","collection","$id","$db","fields","fromExtendedJSON$2","forEach","db_ref","toExtendedJSON$3","$numberDecimal","fromExtendedJSON$3","decimal128","toExtendedJSON$4","relaxed","$numberDouble","fromExtendedJSON$4","parseFloat","double_1","toExtendedJSON$5","$numberInt","fromExtendedJSON$5","int_32","toExtendedJSON$6","$numberLong","fromExtendedJSON$6","long_1","toExtendedJSON$7","$maxKey","fromExtendedJSON$7","max_key","toExtendedJSON$8","$minKey","fromExtendedJSON$8","min_key","toExtendedJSON$9","$oid","fromExtendedJSON$9","objectid","toExtendedJSON$10","$regularExpression","fromExtendedJSON$10","sort","regexp","toExtendedJSON$11","$symbol","fromExtendedJSON$11","symbol","toExtendedJSON$12","$timestamp","t","fromExtendedJSON$12","bson$1","_typeof","iterator","BSONTypes","setBSONModule","keysToCodecs","deserializeValue","self","key","int32Range","BSON_INT32_MIN","BSON_INT32_MAX","int64Range","BSON_INT64_MIN","BSON_INT64_MAX","$undefined","keys","filter","startsWith","$date","date","$dbPointer","v","dollarKeys","reducer","indents","opts","isArray","serializeArray","serializeDocument","map","serializeValue","getISOString","isoStr","toISOString","getUTCMilliseconds","dateNum","getTime","inRange","tempScope","tempDoc","tempId","_tempDoc","_doc","_tempScope","tempVal","_tempId","_tempVal","ext_json","mongodbExtjson","Map","deserialize","serializer","calculateObjectSize","MAXSIZE","serialize","object","checkKeys","serializeFunctions","ignoreUndefined","serializationIndex","finishedBuffer","serializeWithBufferAndIndex","finalBuffer","deserializeStream","numberOfDocuments","documents","docStartIndex","JS_INT_MAX","JS_INT_MIN","JS_INT_MAX_LONG","JS_INT_MIN_LONG","BSON_DATA_NUMBER","BSON_DATA_STRING","BSON_DATA_OBJECT","BSON_DATA_ARRAY","BSON_DATA_BINARY","BSON_DATA_OID","BSON_DATA_BOOLEAN","BSON_DATA_DATE","BSON_DATA_NULL","BSON_DATA_REGEXP","BSON_DATA_CODE","BSON_DATA_SYMBOL","BSON_DATA_CODE_W_SCOPE","BSON_DATA_INT","BSON_DATA_TIMESTAMP","BSON_DATA_LONG","BSON_DATA_MIN_KEY","BSON_DATA_MAX_KEY","BSON_BINARY_SUBTYPE_FUNCTION","BSON_BINARY_SUBTYPE_BYTE_ARRAY","BSON_BINARY_SUBTYPE_UUID","BSON_BINARY_SUBTYPE_MD5","BSON_BINARY_SUBTYPE_USER_DEFINED","_keys","_values","entry","delete","splice","entries","next","done","callback","has","values","authCommon","PROVIDER_TYPE_ANON","PROVIDER_TYPE_CUSTOM","PROVIDER_TYPE_USERPASS","PROVIDER_TYPE_APIKEY","PROVIDER_TYPE_GOOGLE","PROVIDER_TYPE_FACEBOOK","PROVIDER_TYPE_MONGODB_CLOUD","urlWithLinkParam","link","anonProvider","deviceId","getDeviceId","device","getDeviceInfo","rootUrl","fetchArgsWithLink","customProvider","providerRoute","loginRoute","userPassProvider","isAppClient","emailConfirm","tokenId","sendEmailConfirm","sendPasswordReset","passwordReset","apiKeyProvider","alpha","generateState","state","getOAuthLoginURL","providerName","redirectUrl","pageRootUrl","encodeURI","googleProvider","authCode","window","location","replace","facebookProvider","accessToken","mongodbCloudProvider","apiKey","cookie","credentials","createProviders","StitchAdminClientFactory","StitchAdminClient","_v3","_get","groupId","api","groupUrl","list","query","defaults","_post","app","appId","appUrl","remove","_delete","export","valueId","valueUrl","update","_put","services","serviceId","runCommand","commandName","config","_patch","rules","rule","ruleId","ruleUrl","incomingWebhooks","incomingWebhook","incomingWebhookId","webhookUrl","pushNotifications","pushNotification","messageId","send","users","user","uid","devices","enable","disable","userRegistrations","sendConfirmationEmail","debug","executeFunction","userId","user_id","executeFunctionSource","source","evalSource","authProviders","authProvider","providerId","security","allowedRequestOrigins","logs","apiKeys","apiKeyId","functions","function","functionId","_v2","apps","pipelines","pipeline","pipelineId","pipelineUrl","setType","dev","executePipeline","v3do","contentHeader","v2do","isDate","totalLength","calculateElement","toBSON","byteLength","ordered_values","ignoreCase","multiline","f","deserializeObject","evalFunctions","cacheFunctions","cacheFunctionsCrc32","fieldsAsRaw","raw","bsonRegExp","promoteBuffers","promoteLongs","promoteValues","arrayIndex","elementType","stringSize","readDoubleLE","_index","objectSize","arrayOptions","stopIndex","BSON_DATA_UNDEFINED","long","BSON_DATA_DECIMAL128","toObject","binarySize","totalBinarySize","_buffer","regExpOptions","optionsArray","functionString","hash","crc32","isolateEvalWithHash","functionCache","isolateEval","totalSize","scopeObject","BSON_DATA_DBPOINTER","oidBuffer","shift","eval","bind","isRegExp","serializeString","numberOfWrittenBytes","serializeNumber","longVal","serializeNull","serializeBoolean","serializeDate","dateInMilis","serializeRegExp","serializeBSONRegExp","serializeMinMax","serializeObjectId","serializeBuffer","serializeObject","depth","path","serializeInto","pop","serializeDecimal128","serializeLong","serializeInt32","serializeDouble","serializeFunction","serializeCode","codeSize","serializeBinary","serializeSymbol","serializeDBRef","startingIndex","newAuth","_platform","jwtDecode","EMBEDDED_USER_AUTH_DATA_PARTS","AuthFactory","Auth","providers","authObj","loggedInProviderType","appVersion","deviceInfo","sdkVersion","platformVersion","doSessionPost","protocol","host","pathname","_error","ourState","redirectProvider","redirectFragment","redirectState","parseRedirectFragment","lastError","found","console","history","replaceState","stateValid","ua","catch","splitCookies","document","sepIdx","cookieName","cookieVal","uaCookie","getCookie","userAuth","unmarshallUserAuth","withinSeconds","decodedToken","exp","authType","newUserAuth","setters","fragment","vars","shouldBreak","pairParts","pairKey","decodeURIComponent","theirState","RangeError","createStorage","MemoryStorage","_data","_orderedKeys","_VERSION","_VERSION_KEY","_runMigration","migrations","store","getItem","item","setItem","_generateKey","removeItem","Storage","_migration","localStorage","sessionStorage","S3Service","bucket","acl","contentType","SESService","fromAddress","toAddress","subject","HTTPService","urlOrOptions","buildResponse","buildArgs","Collection","docs","updateOp","project","MongoQuery","aggregateOp","outgoingOptions","limit","count","isMulti","upsert","findOp","database","execute","DB","MongoDBService","databaseName","TwilioService","to"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;AC5vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,cAAc,SAAdA,WAAc,CAASC,MAAT,EAAiBC,MAAjB,EAAyBC,MAAzB,EAAiCC,IAAjC,EAAuCC,MAAvC,EAA+C;AAC/D,MAAIC,CAAJ;AAAA,MAAOC,CAAP;AAAA,MACIC,MAAOL,WAAW,KADtB;AAAA,MAEIM,OAAOJ,SAAS,CAAT,GAAaD,IAAb,GAAoB,CAF/B;AAAA,MAGIM,OAAO,CAAC,KAAKD,IAAN,IAAc,CAHzB;AAAA,MAIIE,QAAQD,QAAQ,CAJpB;AAAA,MAKIE,QAAQ,CAAC,CALb;AAAA,MAMIC,IAAIL,MAAM,CAAN,GAAWH,SAAS,CAN5B;AAAA,MAOIS,IAAIN,MAAM,CAAN,GAAU,CAAC,CAPnB;AAAA,MAQIO,IAAId,OAAOC,SAASW,CAAhB,CARR;;AAUAA,OAAKC,CAAL;;AA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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;;;;;qjBCvLtC;AACA;;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;;;;;;;AAEA,IAAMxS,KAAK,CAAX;AACA,IAAMC,KAAK,CAAX;;AAEA;;IACawS,wB,WAAAA,wB;AACX,sCAAc;AAAA;;AACZ,UAAM,wBAAgB,sFAAhB,CAAN;AACD;;;;2BAEa9R,O,EAAS;AACrB,aAAO,6BAAgB+R,kBAAkB/nB,SAAlC,EAA6C,EAA7C,EAAiD,EAACgW,gBAAD,EAAUQ,sCAAV,EAAjD,CAAP;AACD;;;;;;AAGH;;;IACauR,iB,WAAAA,iB;;;AACX,+BAAc;AAAA;;AAAA;AAEb;;;;;;AAsED;;;;;6BAKS;AAAA;;AACP,aAAO,0HAAU,eAAV,EAA2B,QAA3B,EAAqC,EAAEjQ,kBAAkB,KAApB,EAA2BC,iBAAiB,IAA5C,EAAkDsB,YAA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AEA;AACA;;AAEA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACjHA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACRA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;AChCA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACzFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,oBAAoB;;AAE1C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA,EAAE;AACF;AACA,EAAE;AACF;;;;;;;;AC5MA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACzkBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;;AAEA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;;AAEA;AACA;AACA,wCAAwC,4BAA4B;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA,SAAS;AACT,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,uBAAuB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,CAAC","file":"stitch.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"stitch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stitch\"] = factory();\n\telse\n\t\troot[\"stitch\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ff9f5287110ed0b3b81c","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 0\n// module chunks = 0","// Copyright (c) 2008, Fair Oaks Labs, Inc.\n// All rights reserved.\n// \n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n// \n//  * Redistributions of source code must retain the above copyright notice,\n//    this list of conditions and the following disclaimer.\n// \n//  * Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n// \n//  * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors\n//    may be used to endorse or promote products derived from this software\n//    without specific prior written permission.\n// \n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n//\n//\n// Modifications to writeIEEE754 to support negative zeroes made by Brian White\n\nvar readIEEE754 = function(buffer, offset, endian, mLen, nBytes) {\n  var e, m,\n      bBE = (endian === 'big'),\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = bBE ? 0 : (nBytes - 1),\n      d = bBE ? 1 : -1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nvar writeIEEE754 = function(buffer, value, offset, endian, mLen, nBytes) {\n  var e, m, c,\n      bBE = (endian === 'big'),\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = bBE ? (nBytes-1) : 0,\n      d = bBE ? -1 : 1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e+eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\nexports.readIEEE754 = readIEEE754;\nexports.writeIEEE754 = writeIEEE754;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/float_parser.js","import * as base64 from 'Base64';\n\n/**\n * @namespace util\n * @private\n */\n\n/**\n * Utility method for executing a service action as a function call.\n *\n * @memberof util\n * @param {Object} service the service to execute the action on\n * @param {String} action the service action to execute\n * @param {Array} args the arguments to supply to the service action invocation\n * @returns {Promise} the API response from the executed service action\n */\nfunction serviceResponse(service, { serviceName = service.serviceName, action, args }) {\n  const { client } = service;\n\n  if (!client) {\n    throw new Error('Service has no client');\n  }\n\n  return client.executeServiceFunction(serviceName, action, args);\n}\n\n/**\n * Utility function to encode a JSON object into a valid string that can be\n * inserted in a URI. The object is first stringified, then encoded in base64,\n * and finally encoded via the builtin encodeURIComponent function.\n *\n * @memberof util\n * @param {Object} obj The object to encode\n * @returns {String} The encoded object\n */\nfunction uriEncodeObject(obj) {\n  return encodeURIComponent(base64.btoa(JSON.stringify(obj)));\n}\n\nexport {\n  serviceResponse,\n  uriEncodeObject\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * Defines a Long class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n * implementation is derived from LongLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Longs.\n *\n * The internal representation of a Long is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Long.\n * @param {number} high the high (signed) 32 bits of the Long.\n * @return {Long}\n */\nfunction Long(low, high) {\n  if(!(this instanceof Long)) return new Long(low, high);\n  \n  this._bsontype = 'Long';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0;  // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0;  // force into 32 signed bits.\n};\n\n/**\n * Return the int value.\n *\n * @method\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nLong.prototype.toInt = function() {\n  return this.low_;\n};\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nLong.prototype.toNumber = function() {\n  return this.high_ * Long.TWO_PWR_32_DBL_ +\n         this.getLowBitsUnsigned();\n};\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {string} the JSON representation.\n */\nLong.prototype.toJSON = function() {\n  return this.toString();\n}\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {string} the textual representation of this value.\n */\nLong.prototype.toString = function(opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      // We need to change the Long value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixLong = Long.fromNumber(radix);\n      var div = this.div(radixLong);\n      var rem = div.multiply(radixLong).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 6));\n\n  var rem = this;\n  var result = '';\n  while (true) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nLong.prototype.getHighBits = function() {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nLong.prototype.getLowBits = function() {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nLong.prototype.getLowBitsUnsigned = function() {\n  return (this.low_ >= 0) ?\n      this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Long.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Long.\n */\nLong.prototype.getNumBitsAbs = function() {\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ != 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & (1 << bit)) != 0) {\n        break;\n      }\n    }\n    return this.high_ != 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {boolean} whether this value is zero.\n */\nLong.prototype.isZero = function() {\n  return this.high_ == 0 && this.low_ == 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {boolean} whether this value is negative.\n */\nLong.prototype.isNegative = function() {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {boolean} whether this value is odd.\n */\nLong.prototype.isOdd = function() {\n  return (this.low_ & 1) == 1;\n};\n\n/**\n * Return whether this Long equals the other\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long equals the other\n */\nLong.prototype.equals = function(other) {\n  return (this.high_ == other.high_) && (this.low_ == other.low_);\n};\n\n/**\n * Return whether this Long does not equal the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long does not equal the other.\n */\nLong.prototype.notEquals = function(other) {\n  return (this.high_ != other.high_) || (this.low_ != other.low_);\n};\n\n/**\n * Return whether this Long is less than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than the other.\n */\nLong.prototype.lessThan = function(other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Long is less than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than or equal to the other.\n */\nLong.prototype.lessThanOrEqual = function(other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Long is greater than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than the other.\n */\nLong.prototype.greaterThan = function(other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Long is greater than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than or equal to the other.\n */\nLong.prototype.greaterThanOrEqual = function(other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Long with the given one.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nLong.prototype.compare = function(other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Long} the negation of this value.\n */\nLong.prototype.negate = function() {\n  if (this.equals(Long.MIN_VALUE)) {\n    return Long.MIN_VALUE;\n  } else {\n    return this.not().add(Long.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Long.\n *\n * @method\n * @param {Long} other Long to add to this one.\n * @return {Long} the sum of this and the given Long.\n */\nLong.prototype.add = function(other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 + b48;\n  c48 &= 0xFFFF;\n  return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns the difference of this and the given Long.\n *\n * @method\n * @param {Long} other Long to subtract from this.\n * @return {Long} the difference of this and the given Long.\n */\nLong.prototype.subtract = function(other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Long.\n *\n * @method\n * @param {Long} other Long to multiply with this.\n * @return {Long} the product of this and the other.\n */\nLong.prototype.multiply = function(other) {\n  if (this.isZero()) {\n    return Long.ZERO;\n  } else if (other.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate().multiply(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Longs are small, use float multiplication\n  if (this.lessThan(Long.TWO_PWR_24_) &&\n      other.lessThan(Long.TWO_PWR_24_)) {\n    return Long.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xFFFF;\n  return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns this Long divided by the given one.\n *\n * @method\n * @param {Long} other Long by which to divide.\n * @return {Long} this Long divided by the given one.\n */\nLong.prototype.div = function(other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    if (other.equals(Long.ONE) ||\n        other.equals(Long.NEG_ONE)) {\n      return Long.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return Long.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Long.ZERO)) {\n        return other.isNegative() ? Long.ONE : Long.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate().div(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Long.ZERO;\n  var rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = (log2 <= 48) ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Long.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Long.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Long.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Long modulo the given one.\n *\n * @method\n * @param {Long} other Long by which to mod.\n * @return {Long} this Long modulo the given one.\n */\nLong.prototype.modulo = function(other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Long} the bitwise-NOT of this value.\n */\nLong.prototype.not = function() {\n  return Long.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to AND.\n * @return {Long} the bitwise-AND of this and the other.\n */\nLong.prototype.and = function(other) {\n  return Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to OR.\n * @return {Long} the bitwise-OR of this and the other.\n */\nLong.prototype.or = function(other) {\n  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to XOR.\n * @return {Long} the bitwise-XOR of this and the other.\n */\nLong.prototype.xor = function(other) {\n  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Long with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the left by the given amount.\n */\nLong.prototype.shiftLeft = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Long.fromBits(\n                 low << numBits,\n                 (high << numBits) | (low >>> (32 - numBits)));\n    } else {\n      return Long.fromBits(0, low << (numBits - 32));\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount.\n */\nLong.prototype.shiftRight = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >> numBits);\n    } else {\n      return Long.fromBits(\n                 high >> (numBits - 32),\n                 high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nLong.prototype.shiftRightUnsigned = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >>> numBits);\n    } else if (numBits == 32) {\n      return Long.fromBits(high, 0);\n    } else {\n      return Long.fromBits(high >>> (numBits - 32), 0);\n    }\n  }\n};\n\n/**\n * Returns a Long representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromInt = function(value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Long.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Long(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Long.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromNumber = function(value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Long.ZERO;\n  } else if (value <= -Long.TWO_PWR_63_DBL_) {\n    return Long.MIN_VALUE;\n  } else if (value + 1 >= Long.TWO_PWR_63_DBL_) {\n    return Long.MAX_VALUE;\n  } else if (value < 0) {\n    return Long.fromNumber(-value).negate();\n  } else {\n    return new Long(\n               (value % Long.TWO_PWR_32_DBL_) | 0,\n               (value / Long.TWO_PWR_32_DBL_) | 0);\n  }\n};\n\n/**\n * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Long} the corresponding Long value.\n */\nLong.fromBits = function(lowBits, highBits) {\n  return new Long(lowBits, highBits);\n};\n\n/**\n * Returns a Long representation of the given string, written using the given radix.\n *\n * @method\n * @param {string} str the textual representation of the Long.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Long} the corresponding Long value.\n */\nLong.fromString = function(str, opt_radix) {\n  if (str.length == 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) == '-') {\n    return Long.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 8));\n\n  var result = Long.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Long.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Long.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Long.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n\n/**\n * A cache of the Long representations of small integer values.\n * @type {Object}\n * @ignore\n */\nLong.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_32_DBL_ = Long.TWO_PWR_16_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_31_DBL_ = Long.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_48_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_64_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_63_DBL_ = Long.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Long} */\nLong.ZERO = Long.fromInt(0);\n\n/** @type {Long} */\nLong.ONE = Long.fromInt(1);\n\n/** @type {Long} */\nLong.NEG_ONE = Long.fromInt(-1);\n\n/** @type {Long} */\nLong.MAX_VALUE =\n    Long.fromBits(0xFFFFFFFF | 0, 0x7FFFFFFF | 0);\n\n/** @type {Long} */\nLong.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Long}\n * @ignore\n */\nLong.TWO_PWR_24_ = Long.fromInt(1 << 24);\n\n/**\n * Expose.\n */\nmodule.exports = Long;\nmodule.exports.Long = Long;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/long.js","export const USER_AUTH_KEY = '_stitch_ua';\nexport const REFRESH_TOKEN_KEY = '_stitch_rt';\nexport const DEVICE_ID_KEY = '_stitch_did';\nexport const STATE_KEY = '_stitch_state';\nexport const USER_AUTH_COOKIE_NAME = 'stitch_ua';\nexport const STITCH_ERROR_KEY = '_stitch_error';\nexport const STITCH_LINK_KEY = '_stitch_link';\nexport const USER_LOGGED_IN_PT_KEY = '_stitch_pt';\nexport const STITCH_REDIRECT_PROVIDER = '_stitch_rp';\n\nexport const DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = 10;\n\nexport const APP_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\nexport const ADMIN_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/common.js","/**\n * Module dependencies.\n * @ignore\n */\n\n// Test if we're in Node via presence of \"global\" not absence of \"window\"\n// to support hybrid environments like Electron\nif(typeof global !== 'undefined') {\n  var Buffer = require('buffer').Buffer; // TODO just use global Buffer\n}\n\n/**\n * A class representation of the BSON Binary type.\n *\n * Sub types\n *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n *\n * @class\n * @param {Buffer} buffer a buffer object containing the binary data.\n * @param {Number} [subType] the option binary type.\n * @return {Binary}\n */\nfunction Binary(buffer, subType) {\n  if(!(this instanceof Binary)) return new Binary(buffer, subType);\n\n  this._bsontype = 'Binary';\n\n  if(buffer instanceof Number) {\n    this.sub_type = buffer;\n    this.position = 0;\n  } else {\n    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n    this.position = 0;\n  }\n\n  if(buffer != null && !(buffer instanceof Number)) {\n    // Only accept Buffer, Uint8Array or Arrays\n    if(typeof buffer == 'string') {\n      // Different ways of writing the length of the string for the different types\n      if(typeof Buffer != 'undefined') {\n        this.buffer = new Buffer(buffer);\n      } else if(typeof Uint8Array != 'undefined' || (Object.prototype.toString.call(buffer) == '[object Array]')) {\n        this.buffer = writeStringToArray(buffer);\n      } else {\n        throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");\n      }\n    } else {\n      this.buffer = buffer;\n    }\n    this.position = buffer.length;\n  } else {\n    if(typeof Buffer != 'undefined') {\n      this.buffer =  new Buffer(Binary.BUFFER_SIZE);\n    } else if(typeof Uint8Array != 'undefined'){\n      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n    } else {\n      this.buffer = new Array(Binary.BUFFER_SIZE);\n    }\n    // Set position to start of buffer\n    this.position = 0;\n  }\n};\n\n/**\n * Updates this binary with byte_value.\n *\n * @method\n * @param {string} byte_value a single byte we wish to write.\n */\nBinary.prototype.put = function put(byte_value) {\n  // If it's a string and a has more than one character throw an error\n  if(byte_value['length'] != null && typeof byte_value != 'number' && byte_value.length != 1) throw new Error(\"only accepts single character String, Uint8Array or Array\");\n  if(typeof byte_value != 'number' && byte_value < 0 || byte_value > 255) throw new Error(\"only accepts number in a valid unsigned byte range 0-255\");\n\n  // Decode the byte value once\n  var decoded_byte = null;\n  if(typeof byte_value == 'string') {\n    decoded_byte = byte_value.charCodeAt(0);\n  } else if(byte_value['length'] != null) {\n    decoded_byte = byte_value[0];\n  } else {\n    decoded_byte = byte_value;\n  }\n\n  if(this.buffer.length > this.position) {\n    this.buffer[this.position++] = decoded_byte;\n  } else {\n    if(typeof Buffer != 'undefined' && Buffer.isBuffer(this.buffer)) {\n      // Create additional overflow buffer\n      var buffer = new Buffer(Binary.BUFFER_SIZE + this.buffer.length);\n      // Combine the two buffers together\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n      this.buffer = buffer;\n      this.buffer[this.position++] = decoded_byte;\n    } else {\n      var buffer = null;\n      // Create a new buffer (typed or normal array)\n      if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {\n        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n      } else {\n        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);\n      }\n\n      // We need to copy all the content to the new array\n      for(var i = 0; i < this.buffer.length; i++) {\n        buffer[i] = this.buffer[i];\n      }\n\n      // Reassign the buffer\n      this.buffer = buffer;\n      // Write the byte\n      this.buffer[this.position++] = decoded_byte;\n    }\n  }\n};\n\n/**\n * Writes a buffer or string to the binary.\n *\n * @method\n * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n * @param {number} offset specify the binary of where to write the content.\n * @return {null}\n */\nBinary.prototype.write = function write(string, offset) {\n  offset = typeof offset == 'number' ? offset : this.position;\n\n  // If the buffer is to small let's extend the buffer\n  if(this.buffer.length < offset + string.length) {\n    var buffer = null;\n    // If we are in node.js\n    if(typeof Buffer != 'undefined' && Buffer.isBuffer(this.buffer)) {\n      buffer = new Buffer(this.buffer.length + string.length);\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n    } else if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {\n      // Create a new buffer\n      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length))\n      // Copy the content\n      for(var i = 0; i < this.position; i++) {\n        buffer[i] = this.buffer[i];\n      }\n    }\n\n    // Assign the new buffer\n    this.buffer = buffer;\n  }\n\n  if(typeof Buffer != 'undefined' && Buffer.isBuffer(string) && Buffer.isBuffer(this.buffer)) {\n    string.copy(this.buffer, offset, 0, string.length);\n    this.position = (offset + string.length) > this.position ? (offset + string.length) : this.position;\n    // offset = string.length\n  } else if(typeof Buffer != 'undefined' && typeof string == 'string' && Buffer.isBuffer(this.buffer)) {\n    this.buffer.write(string, offset, 'binary');\n    this.position = (offset + string.length) > this.position ? (offset + string.length) : this.position;\n    // offset = string.length;\n  } else if(Object.prototype.toString.call(string) == '[object Uint8Array]'\n    || Object.prototype.toString.call(string) == '[object Array]' && typeof string != 'string') {\n    for(var i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string[i];\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  } else if(typeof string == 'string') {\n    for(var i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string.charCodeAt(i);\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  }\n};\n\n/**\n * Reads **length** bytes starting at **position**.\n *\n * @method\n * @param {number} position read from the given position in the Binary.\n * @param {number} length the number of bytes to read.\n * @return {Buffer}\n */\nBinary.prototype.read = function read(position, length) {\n  length = length && length > 0\n    ? length\n    : this.position;\n\n  // Let's return the data based on the type we have\n  if(this.buffer['slice']) {\n    return this.buffer.slice(position, position + length);\n  } else {\n    // Create a buffer to keep the result\n    var buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);\n    for(var i = 0; i < length; i++) {\n      buffer[i] = this.buffer[position++];\n    }\n  }\n  // Return the buffer\n  return buffer;\n};\n\n/**\n * Returns the value of this binary as a string.\n *\n * @method\n * @return {string}\n */\nBinary.prototype.value = function value(asRaw) {\n  asRaw = asRaw == null ? false : asRaw;\n\n  // Optimize to serialize for the situation where the data == size of buffer\n  if(asRaw && typeof Buffer != 'undefined' && Buffer.isBuffer(this.buffer) && this.buffer.length == this.position)\n    return this.buffer;\n\n  // If it's a node.js buffer object\n  if(typeof Buffer != 'undefined' && Buffer.isBuffer(this.buffer)) {\n    return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);\n  } else {\n    if(asRaw) {\n      // we support the slice command use it\n      if(this.buffer['slice'] != null) {\n        return this.buffer.slice(0, this.position);\n      } else {\n        // Create a new buffer to copy content to\n        var newBuffer = Object.prototype.toString.call(this.buffer) == '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position);\n        // Copy content\n        for(var i = 0; i < this.position; i++) {\n          newBuffer[i] = this.buffer[i];\n        }\n        // Return the buffer\n        return newBuffer;\n      }\n    } else {\n      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n    }\n  }\n};\n\n/**\n * Length.\n *\n * @method\n * @return {number} the length of the binary.\n */\nBinary.prototype.length = function length() {\n  return this.position;\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toJSON = function() {\n  return this.buffer != null ? this.buffer.toString('base64') : '';\n}\n\n/**\n * @ignore\n */\nBinary.prototype.toString = function(format) {\n  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n}\n\n/**\n * Binary default subtype\n * @ignore\n */\nvar BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\n/**\n * @ignore\n */\nvar writeStringToArray = function(data) {\n  // Create a buffer\n  var buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(data.length)) : new Array(data.length);\n  // Write the content to the buffer\n  for(var i = 0; i < data.length; i++) {\n    buffer[i] = data.charCodeAt(i);\n  }\n  // Write the string to the buffer\n  return buffer;\n}\n\n/**\n * Convert Array ot Uint8Array to Binary String\n *\n * @ignore\n */\nvar convertArraytoUtf8BinaryString = function(byteArray, startIndex, endIndex) {\n  var result = \"\";\n  for(var i = startIndex; i < endIndex; i++) {\n   result = result + String.fromCharCode(byteArray[i]);\n  }\n  return result;\n};\n\nBinary.BUFFER_SIZE = 256;\n\n/**\n * Default BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_DEFAULT = 0;\n/**\n * Function BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_FUNCTION = 1;\n/**\n * Byte Array BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_BYTE_ARRAY = 2;\n/**\n * OLD UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID_OLD = 3;\n/**\n * UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID = 4;\n/**\n * MD5 BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_MD5 = 5;\n/**\n * User BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_USER_DEFINED = 128;\n\n/**\n * Expose.\n */\nmodule.exports = Binary;\nmodule.exports.Binary = Binary;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/binary.js","/**\n * A class representation of the BSON Code type.\n *\n * @class\n * @param {(string|function)} code a string or function.\n * @param {Object} [scope] an optional scope for the function.\n * @return {Code}\n */\nvar Code = function Code(code, scope) {\n  if(!(this instanceof Code)) return new Code(code, scope);\n  this._bsontype = 'Code';\n  this.code = code;\n  this.scope = scope;\n};\n\n/**\n * @ignore\n */\nCode.prototype.toJSON = function() {\n  return {scope:this.scope, code:this.code};\n}\n\nmodule.exports = Code;\nmodule.exports.Code = Code;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/code.js","/**\n * A class representation of the BSON DBRef type.\n *\n * @class\n * @param {string} namespace the collection name.\n * @param {ObjectID} oid the reference ObjectID.\n * @param {string} [db] optional db name, if omitted the reference is local to the current db.\n * @return {DBRef}\n */\nfunction DBRef(namespace, oid, db) {\n  if(!(this instanceof DBRef)) return new DBRef(namespace, oid, db);\n  \n  this._bsontype = 'DBRef';\n  this.namespace = namespace;\n  this.oid = oid;\n  this.db = db;\n};\n\n/**\n * @ignore\n * @api private\n */\nDBRef.prototype.toJSON = function() {\n  return {\n    '$ref':this.namespace,\n    '$id':this.oid,\n    '$db':this.db == null ? '' : this.db\n  };\n}\n\nmodule.exports = DBRef;\nmodule.exports.DBRef = DBRef;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/db_ref.js","\"use strict\"\n\nvar Long = require('./long');\n\nvar PARSE_STRING_REGEXP = /^(\\+|\\-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([\\-\\+])?(\\d+)?$/;\nvar PARSE_INF_REGEXP = /^(\\+|\\-)?(Infinity|inf)$/i;\nvar PARSE_NAN_REGEXP = /^(\\+|\\-)?NaN$/i;\n\nvar EXPONENT_MAX = 6111;\nvar EXPONENT_MIN = -6176;\nvar EXPONENT_BIAS = 6176;\nvar MAX_DIGITS = 34;\n\n// Nan value bits as 32 bit values (due to lack of longs)\nvar NAN_BUFFER = [0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n// Infinity value bits 32 bit values (due to lack of longs)\nvar INF_NEGATIVE_BUFFER = [0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\nvar INF_POSITIVE_BUFFER = [0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n\nvar EXPONENT_REGEX = /^([\\-\\+])?(\\d+)?$/;\n\n\n// Detect if the value is a digit\nvar isDigit = function(value) {\n  return !isNaN(parseInt(value, 10));\n}\n\n// Divide two uint128 values\nvar divideu128 = function(value) {\n  var DIVISOR = Long.fromNumber(1000 * 1000 * 1000);\n  var _rem = Long.fromNumber(0);\n  var i = 0;\n\n  if(!value.parts[0] && !value.parts[1] &&\n     !value.parts[2] && !value.parts[3]) {\n    return { quotient: value, rem: _rem };\n  }\n\n  for(var i = 0; i <= 3; i++) {\n    // Adjust remainder to match value of next dividend\n    _rem = _rem.shiftLeft(32);\n    // Add the divided to _rem\n    _rem = _rem.add(new Long(value.parts[i], 0));\n    value.parts[i] = _rem.div(DIVISOR).low_;\n    _rem = _rem.modulo(DIVISOR);\n  }\n\n  return { quotient: value, rem: _rem };\n}\n\n// Multiply two Long values and return the 128 bit value\nvar multiply64x2 = function(left, right) {\n  if(!left && !right) {\n    return {high: Long.fromNumber(0), low: Long.fromNumber(0)};\n  }\n\n  var leftHigh = left.shiftRightUnsigned(32);\n  var leftLow = new Long(left.getLowBits(), 0);\n  var rightHigh = right.shiftRightUnsigned(32);\n  var rightLow = new Long(right.getLowBits(), 0);\n\n  var productHigh = leftHigh.multiply(rightHigh);\n  var productMid = leftHigh.multiply(rightLow);\n  var productMid2 = leftLow.multiply(rightHigh);\n  var productLow = leftLow.multiply(rightLow);\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productMid = new Long(productMid.getLowBits(), 0)\n                .add(productMid2)\n                .add(productLow.shiftRightUnsigned(32));\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productLow = productMid.shiftLeft(32).add(new Long(productLow.getLowBits(), 0));\n\n  // Return the 128 bit result\n  return {high: productHigh, low: productLow};\n}\n\nvar lessThan = function(left, right) {\n  // Make values unsigned\n  var uhleft = left.high_ >>> 0;\n  var uhright = right.high_ >>> 0;\n\n  // Compare high bits first\n  if(uhleft < uhright) {\n    return true\n  } else if(uhleft == uhright) {\n    var ulleft = left.low_ >>> 0;\n    var ulright = right.low_ >>> 0;\n    if(ulleft < ulright) return true;\n  }\n\n  return false;\n}\n\nvar longtoHex = function(value) {\n  var buffer = new Buffer(8);\n  var index = 0;\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = value.low_ & 0xff;\n  buffer[index++] = (value.low_ >> 8) & 0xff;\n  buffer[index++] = (value.low_ >> 16) & 0xff;\n  buffer[index++] = (value.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = value.high_ & 0xff;\n  buffer[index++] = (value.high_ >> 8) & 0xff;\n  buffer[index++] = (value.high_ >> 16) & 0xff;\n  buffer[index++] = (value.high_ >> 24) & 0xff;\n  return buffer.reverse().toString('hex');\n}\n\nvar int32toHex = function(value) {\n  var buffer = new Buffer(4);\n  var index = 0;\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = value & 0xff;\n  buffer[index++] = (value >> 8) & 0xff;\n  buffer[index++] = (value >> 16) & 0xff;\n  buffer[index++] = (value >> 24) & 0xff;\n  return buffer.reverse().toString('hex');\n}\n\nvar Decimal128 = function(bytes) {\n  this._bsontype = 'Decimal128';\n  this.bytes = bytes;\n}\n\nDecimal128.fromString = function(string) {\n  // Parse state tracking\n  var isNegative = false;\n  var sawRadix = false;\n  var foundNonZero = false;\n\n  // Total number of significant digits (no leading or trailing zero)\n  var significantDigits = 0;\n  // Total number of significand digits read\n  var nDigitsRead = 0;\n  // Total number of digits (no leading zeros)\n  var nDigits = 0;\n  // The number of the digits after radix\n  var radixPosition = 0;\n  // The index of the first non-zero in *str*\n  var firstNonZero = 0;\n\n  // Digits Array\n  var digits = [0];\n  // The number of digits in digits\n  var nDigitsStored = 0;\n  // Insertion pointer for digits\n  var digitsInsert = 0;\n  // The index of the first non-zero digit\n  var firstDigit = 0;\n  // The index of the last digit\n  var lastDigit = 0;\n\n  // Exponent\n  var exponent = 0;\n  // loop index over array\n  var i = 0;\n  // The high 17 digits of the significand\n  var significandHigh = [0, 0];\n  // The low 17 digits of the significand\n  var significandLow = [0, 0];\n  // The biased exponent\n  var biasedExponent = 0;\n\n  // Read index\n  var index = 0;\n\n  // Trim the string\n  string = string.trim();\n\n  // Results\n  var stringMatch = string.match(PARSE_STRING_REGEXP);\n  var infMatch = string.match(PARSE_INF_REGEXP);\n  var nanMatch = string.match(PARSE_NAN_REGEXP);\n\n  // Validate the string\n  if(!stringMatch\n    && ! infMatch\n    && ! nanMatch || string.length == 0) {\n      throw new Error(\"\" + string + \" not a valid Decimal128 string\");\n  }\n\n  // Check if we have an illegal exponent format\n  if(stringMatch && stringMatch[4] && stringMatch[2] === undefined) {\n    throw new Error(\"\" + string + \" not a valid Decimal128 string\");\n  }\n\n  // Get the negative or positive sign\n  if(string[index] == '+' || string[index] == '-') {\n    isNegative = string[index++] == '-';\n  }\n\n  // Check if user passed Infinity or NaN\n  if(!isDigit(string[index]) && string[index] != '.') {\n    if(string[index] == 'i' || string[index] == 'I') {\n      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n    } else if(string[index] == 'N') {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n  }\n\n  // Read all the digits\n  while(isDigit(string[index]) || string[index] == '.') {\n    if(string[index] == '.') {\n      if(sawRadix) {\n        return new Decimal128(new Buffer(NAN_BUFFER));\n      }\n\n      sawRadix = true;\n      index = index + 1;\n      continue;\n    }\n\n    if(nDigitsStored < 34) {\n      if(string[index] != '0' || foundNonZero) {\n        if(!foundNonZero) {\n          firstNonZero = nDigitsRead;\n        }\n\n        foundNonZero = true;\n\n        // Only store 34 digits\n        digits[digitsInsert++] = parseInt(string[index], 10);\n        nDigitsStored = nDigitsStored + 1;\n      }\n    }\n\n    if(foundNonZero) {\n      nDigits = nDigits + 1;\n    }\n\n    if(sawRadix) {\n      radixPosition = radixPosition + 1;\n    }\n\n    nDigitsRead = nDigitsRead + 1;\n    index = index + 1;\n  }\n\n  if(sawRadix && !nDigitsRead) {\n    throw new Error(\"\" + string + \" not a valid Decimal128 string\");\n  }\n\n  // Read exponent if exists\n  if(string[index] == 'e' || string[index] == 'E') {\n    // Read exponent digits\n    var match = string.substr(++index).match(EXPONENT_REGEX);\n\n    // No digits read\n    if(!match || !match[2]) {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n\n    // Get exponent\n    exponent = parseInt(match[0], 10);\n\n    // Adjust the index\n    index = index + match[0].length;\n  }\n\n  // Return not a number\n  if(string[index]) {\n    return new Decimal128(new Buffer(NAN_BUFFER));\n  }\n\n  // Done reading input\n  // Find first non-zero digit in digits\n  firstDigit = 0;\n\n  if(!nDigitsStored) {\n    firstDigit = 0;\n    lastDigit = 0;\n    digits[0] = 0;\n    nDigits = 1;\n    nDigitsStored = 1;\n    significantDigits = 0;\n  } else {\n    lastDigit = nDigitsStored - 1;\n    significantDigits = nDigits;\n\n    if(exponent != 0 && significantDigits != 1) {\n      while(string[firstNonZero + significantDigits - 1] == '0') {\n        significantDigits = significantDigits - 1;\n      }\n    }\n  }\n\n  // Normalization of exponent\n  // Correct exponent based on radix position, and shift significand as needed\n  // to represent user input\n\n  // Overflow prevention\n  if(exponent <= radixPosition && radixPosition - exponent > (1 << 14)) {\n    exponent = EXPONENT_MIN;\n  } else {\n    exponent = exponent - radixPosition;\n  }\n\n  // Attempt to normalize the exponent\n  while(exponent > EXPONENT_MAX) {\n    // Shift exponent to significand and decrease\n    lastDigit = lastDigit + 1;\n\n    if(lastDigit - firstDigit > MAX_DIGITS) {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if(digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      } else {\n        return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n      }\n    }\n\n    exponent = exponent - 1;\n  }\n\n  while(exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n    // Shift last digit\n    if(lastDigit == 0) {\n      exponent = EXPONENT_MIN;\n      significantDigits = 0;\n      break;\n    }\n\n    if(nDigitsStored < nDigits) {\n      // adjust to match digits not stored\n      nDigits = nDigits - 1;\n    } else {\n      // adjust to round\n      lastDigit = lastDigit - 1;\n    }\n\n    if(exponent < EXPONENT_MAX) {\n      exponent = exponent + 1;\n    } else {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if(digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      } else {\n        return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER))\n      }\n    }\n  }\n\n\n  // Round\n  // We've normalized the exponent, but might still need to round.\n  if((lastDigit - firstDigit + 1 < significantDigits) && string[significantDigits] != '0') {\n    var endOfString = nDigitsRead;\n\n    // If we have seen a radix point, 'string' is 1 longer than we have\n    // documented with ndigits_read, so inc the position of the first nonzero\n    // digit and the position that digits are read to.\n    if(sawRadix && exponent == EXPONENT_MIN) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n\n    var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n    var roundBit = 0;\n\n    if(roundDigit >= 5) {\n      roundBit = 1;\n\n      if(roundDigit == 5) {\n        roundBit = digits[lastDigit] % 2 == 1;\n\n        for(var i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n          if(parseInt(string[i], 10)) {\n            roundBit = 1;\n            break;\n          }\n        }\n      }\n    }\n\n    if(roundBit) {\n      var dIdx = lastDigit;\n\n      for(; dIdx >= 0; dIdx--) {\n        if(++digits[dIdx] > 9) {\n          digits[dIdx] = 0;\n\n          // overflowed most significant digit\n          if(dIdx == 0) {\n            if(exponent < EXPONENT_MAX) {\n              exponent = exponent + 1;\n              digits[dIdx] = 1;\n            } else {\n              return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER))\n            }\n          }\n        } else {\n          break;\n        }\n      }\n    }\n  }\n\n  // Encode significand\n  // The high 17 digits of the significand\n  significandHigh = Long.fromNumber(0);\n  // The low 17 digits of the significand\n  significandLow = Long.fromNumber(0);\n\n  // read a zero\n  if(significantDigits == 0) {\n    significandHigh = Long.fromNumber(0);\n    significandLow = Long.fromNumber(0);\n  } else if(lastDigit - firstDigit < 17) {\n    var dIdx = firstDigit;\n    significandLow = Long.fromNumber(digits[dIdx++]);\n    significandHigh = new Long(0, 0);\n\n    for(; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  } else {\n    var dIdx = firstDigit;\n    significandHigh = Long.fromNumber(digits[dIdx++]);\n\n    for(; dIdx <= lastDigit - 17; dIdx++) {\n      significandHigh = significandHigh.multiply(Long.fromNumber(10));\n      significandHigh = significandHigh.add(Long.fromNumber(digits[dIdx]));\n    }\n\n    significandLow = Long.fromNumber(digits[dIdx++]);\n\n    for(; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  }\n\n  var significand = multiply64x2(significandHigh, Long.fromString(\"100000000000000000\"));\n\n  significand.low = significand.low.add(significandLow);\n\n  if(lessThan(significand.low, significandLow)) {\n    significand.high = significand.high.add(Long.fromNumber(1));\n  }\n\n  // Biased exponent\n  var biasedExponent = (exponent + EXPONENT_BIAS);\n  var dec = { low: Long.fromNumber(0), high: Long.fromNumber(0) };\n\n  // Encode combination, exponent, and significand.\n  if(significand.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber)) {\n    // Encode '11' into bits 1 to 3\n    dec.high = dec.high.or(Long.fromNumber(0x3).shiftLeft(61));\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent).and(Long.fromNumber(0x3fff).shiftLeft(47)));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x7fffffffffff)));\n  } else {\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x1ffffffffffff)));\n  }\n\n  dec.low = significand.low;\n\n  // Encode sign\n  if(isNegative) {\n    dec.high = dec.high.or(Long.fromString('9223372036854775808'));\n  }\n\n  // Encode into a buffer\n  var buffer = new Buffer(16);\n  var index = 0;\n\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.low.low_ & 0xff;\n  buffer[index++] = (dec.low.low_ >> 8) & 0xff;\n  buffer[index++] = (dec.low.low_ >> 16) & 0xff;\n  buffer[index++] = (dec.low.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.low.high_ & 0xff;\n  buffer[index++] = (dec.low.high_ >> 8) & 0xff;\n  buffer[index++] = (dec.low.high_ >> 16) & 0xff;\n  buffer[index++] = (dec.low.high_ >> 24) & 0xff;\n\n  // Encode the high 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.high.low_ & 0xff;\n  buffer[index++] = (dec.high.low_ >> 8) & 0xff;\n  buffer[index++] = (dec.high.low_ >> 16) & 0xff;\n  buffer[index++] = (dec.high.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.high.high_ & 0xff;\n  buffer[index++] = (dec.high.high_ >> 8) & 0xff;\n  buffer[index++] = (dec.high.high_ >> 16) & 0xff;\n  buffer[index++] = (dec.high.high_ >> 24) & 0xff;\n\n  // Return the new Decimal128\n  return new Decimal128(buffer);\n}\n\n// Extract least significant 5 bits\nvar COMBINATION_MASK = 0x1f;\n// Extract least significant 14 bits\nvar EXPONENT_MASK = 0x3fff;\n// Value of combination field for Inf\nvar COMBINATION_INFINITY = 30;\n// Value of combination field for NaN\nvar COMBINATION_NAN = 31;\n// Value of combination field for NaN\nvar COMBINATION_SNAN = 32;\n// decimal128 exponent bias\nvar EXPONENT_BIAS = 6176;\n\nDecimal128.prototype.toString = function() {\n  // Note: bits in this routine are referred to starting at 0,\n  // from the sign bit, towards the coefficient.\n\n  // bits 0 - 31\n  var high;\n  // bits 32 - 63\n  var midh;\n  // bits 64 - 95\n  var midl;\n  // bits 96 - 127\n  var low;\n  // bits 1 - 5\n  var combination;\n  // decoded biased exponent (14 bits)\n  var biased_exponent;\n  // the number of significand digits\n  var significand_digits = 0;\n  // the base-10 digits in the significand\n  var significand = new Array(36);\n  for(var i = 0; i < significand.length; i++) significand[i] = 0;\n  // read pointer into significand\n  var index = 0;\n\n  // unbiased exponent\n  var exponent;\n  // the exponent if scientific notation is used\n  var scientific_exponent;\n\n  // true if the number is zero\n  var is_zero = false;\n\n  // the most signifcant significand bits (50-46)\n  var significand_msb;\n  // temporary storage for significand decoding\n  var significand128 = {parts: new Array(4)};\n  // indexing variables\n  var i;\n  var j, k;\n\n  // Output string\n  var string = [];\n\n  // Unpack index\n  var index = 0;\n\n  // Buffer reference\n  var buffer = this.bytes;\n\n  // Unpack the low 64bits into a long\n  low = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  midl = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack the high 64bits into a long\n  midh = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  high = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack index\n  var index = 0;\n\n  // Create the state of the decimal\n  var dec = {\n    low: new Long(low, midl),\n    high: new Long(midh, high) };\n\n  if(dec.high.lessThan(Long.ZERO)) {\n    string.push('-');\n  }\n\n  // Decode combination field and exponent\n  combination = (high >> 26) & COMBINATION_MASK;\n\n  if((combination >> 3) == 3) {\n    // Check for 'special' values\n    if(combination == COMBINATION_INFINITY) {\n      return string.join('') + \"Infinity\";\n    } else if(combination == COMBINATION_NAN) {\n      return \"NaN\";\n    } else {\n      biased_exponent = (high >> 15) & EXPONENT_MASK;\n      significand_msb = 0x08 + ((high >> 14) & 0x01);\n    }\n  } else {\n    significand_msb = (high >> 14) & 0x07;\n    biased_exponent = (high >> 17) & EXPONENT_MASK;\n  }\n\n  exponent = biased_exponent - EXPONENT_BIAS;\n\n  // Create string of significand digits\n\n  // Convert the 114-bit binary number represented by\n  // (significand_high, significand_low) to at most 34 decimal\n  // digits through modulo and division.\n  significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n  significand128.parts[1] = midh;\n  significand128.parts[2] = midl;\n  significand128.parts[3] = low;\n\n  if(significand128.parts[0] == 0 && significand128.parts[1] == 0\n    && significand128.parts[2] == 0 && significand128.parts[3] == 0) {\n      is_zero = true;\n  } else {\n    for(var k = 3; k >= 0; k--) {\n      var least_digits = 0;\n      // Peform the divide\n      var result = divideu128(significand128);\n      significand128 = result.quotient;\n      least_digits = result.rem.low_;\n\n      // We now have the 9 least significant digits (in base 2).\n      // Convert and output to string.\n      if(!least_digits) continue;\n\n      for(var j = 8; j >= 0; j--) {\n        // significand[k * 9 + j] = Math.round(least_digits % 10);\n        significand[k * 9 + j] = least_digits % 10;\n        // least_digits = Math.round(least_digits / 10);\n        least_digits = Math.floor(least_digits / 10);\n      }\n    }\n  }\n\n  // Output format options:\n  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n  // Regular    - ddd.ddd\n\n  if(is_zero) {\n    significand_digits = 1;\n    significand[index] = 0;\n  } else {\n    significand_digits = 36;\n    var i = 0;\n\n    while(!significand[index]) {\n      i++;\n      significand_digits = significand_digits - 1;\n      index = index + 1;\n    }\n  }\n\n  scientific_exponent = significand_digits - 1 + exponent;\n\n  // The scientific exponent checks are dictated by the string conversion\n  // specification and are somewhat arbitrary cutoffs.\n  //\n  // We must check exponent > 0, because if this is the case, the number\n  // has trailing zeros.  However, we *cannot* output these trailing zeros,\n  // because doing so would change the precision of the value, and would\n  // change stored data if the string converted number is round tripped.\n\n  if(scientific_exponent >= 34 || scientific_exponent <= -7 ||\n    exponent > 0) {\n    // Scientific format\n    string.push(significand[index++]);\n    significand_digits = significand_digits - 1;\n\n    if(significand_digits) {\n      string.push('.');\n    }\n\n    for(var i = 0; i < significand_digits; i++) {\n      string.push(significand[index++]);\n    }\n\n    // Exponent\n    string.push('E');\n    if(scientific_exponent > 0) {\n      string.push('+' + scientific_exponent);\n    } else {\n      string.push(scientific_exponent);\n    }\n  } else {\n    // Regular format with no decimal place\n    if(exponent >= 0) {\n      for(var i = 0; i < significand_digits; i++) {\n        string.push(significand[index++]);\n      }\n    } else {\n      var radix_position = significand_digits + exponent;\n\n      // non-zero digits before radix\n      if(radix_position > 0) {\n        for(var i = 0; i < radix_position; i++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        string.push('0');\n      }\n\n      string.push('.');\n      // add leading zeros after radix\n      while(radix_position++ < 0) {\n        string.push('0');\n      }\n\n      for(var i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n        string.push(significand[index++]);\n      }\n    }\n  }\n\n  return string.join('');\n}\n\nDecimal128.prototype.toJSON = function() {\n  return { \"$numberDecimal\": this.toString() };\n}\n\nmodule.exports = Decimal128;\nmodule.exports.Decimal128 = Decimal128;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/decimal128.js","/**\n * A class representation of the BSON Double type.\n *\n * @class\n * @param {number} value the number we want to represent as a double.\n * @return {Double}\n */\nfunction Double(value) {\n  if(!(this instanceof Double)) return new Double(value);\n\n  this._bsontype = 'Double';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped double number.\n */\nDouble.prototype.valueOf = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nDouble.prototype.toJSON = function() {\n  return this.value;\n}\n\nmodule.exports = Double;\nmodule.exports.Double = Double;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/double.js","/**\n * A class representation of the BSON MaxKey type.\n *\n * @class\n * @return {MaxKey} A MaxKey instance\n */\nfunction MaxKey() {\n  if(!(this instanceof MaxKey)) return new MaxKey();\n  \n  this._bsontype = 'MaxKey';  \n}\n\nmodule.exports = MaxKey;\nmodule.exports.MaxKey = MaxKey;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/max_key.js","/**\n * A class representation of the BSON MinKey type.\n *\n * @class\n * @return {MinKey} A MinKey instance\n */\nfunction MinKey() {\n  if(!(this instanceof MinKey)) return new MinKey();\n  \n  this._bsontype = 'MinKey';\n}\n\nmodule.exports = MinKey;\nmodule.exports.MinKey = MinKey;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/min_key.js","/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\nvar MACHINE_ID = parseInt(Math.random() * 0xFFFFFF, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp(\"^[0-9a-fA-F]{24}$\");\nvar hasBufferType = false;\n\n// Check if buffer exists\ntry {\n  if(Buffer && Buffer.from) hasBufferType = true;\n} catch(err) {};\n\n/**\n* Create a new ObjectID instance\n*\n* @class\n* @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n* @property {number} generationTime The generation time of this ObjectId instance\n* @return {ObjectID} instance of ObjectID.\n*/\nvar ObjectID = function ObjectID(id) {\n  // Duck-typing to support ObjectId from different npm packages\n  if(id instanceof ObjectID) return id;\n  if(!(this instanceof ObjectID)) return new ObjectID(id);\n\n  this._bsontype = 'ObjectID';\n\n  // The most common usecase (blank id, new objectId instance)\n  if(id == null || typeof id == 'number') {\n    // Generate a new id\n    this.id = this.generate(id);\n    // If we are caching the hex string\n    if(ObjectID.cacheHexString) this.__id = this.toString('hex');\n    // Return the object\n    return;\n  }\n\n  // Check if the passed in id is valid\n  var valid = ObjectID.isValid(id);\n\n  // Throw an error if it's not a valid setup\n  if(!valid && id != null){\n    throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");\n  } else if(valid && typeof id == 'string' && id.length == 24 && hasBufferType) {\n    return new ObjectID(new Buffer(id, 'hex'));\n  } else if(valid && typeof id == 'string' && id.length == 24) {\n    return ObjectID.createFromHexString(id);\n  } else if(id != null && id.length === 12) {\n    // assume 12 byte string\n    this.id = id;\n  } else if(id != null && id.toHexString) {\n    // Duck-typing to support ObjectId from different npm packages\n    return id;\n  } else {\n    throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");\n  }\n\n  if(ObjectID.cacheHexString) this.__id = this.toString('hex');\n};\n\n// Allow usage of ObjectId as well as ObjectID\nvar ObjectId = ObjectID;\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n  hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n/**\n* Return the ObjectID id as a 24 byte hex string representation\n*\n* @method\n* @return {string} return the 24 byte hex string representation.\n*/\nObjectID.prototype.toHexString = function() {\n  if(ObjectID.cacheHexString && this.__id) return this.__id;\n\n  var hexString = '';\n  if(!this.id || !this.id.length) {\n    throw new Error('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');\n  }\n\n  if(this.id instanceof _Buffer) {\n    hexString = convertToHex(this.id);\n    if(ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n  }\n\n  for (var i = 0; i < this.id.length; i++) {\n    hexString += hexTable[this.id.charCodeAt(i)];\n  }\n\n  if(ObjectID.cacheHexString) this.__id = hexString;\n  return hexString;\n};\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.get_inc = function() {\n  return ObjectID.index = (ObjectID.index + 1) % 0xFFFFFF;\n};\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.getInc = function() {\n  return this.get_inc();\n};\n\n/**\n* Generate a 12 byte id buffer used in ObjectID's\n*\n* @method\n* @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n* @return {Buffer} return the 12 byte id buffer string.\n*/\nObjectID.prototype.generate = function(time) {\n  if ('number' != typeof time) {\n    time = ~~(Date.now()/1000);\n  }\n\n  // Use pid\n  var pid = (typeof process === 'undefined' ? Math.floor(Math.random() * 100000) : process.pid) % 0xFFFF;\n  var inc = this.get_inc();\n  // Buffer used\n  var buffer = new Buffer(12);\n  // Encode time\n  buffer[3] = time & 0xff;\n  buffer[2] = (time >> 8) & 0xff;\n  buffer[1] = (time >> 16) & 0xff;\n  buffer[0] = (time >> 24) & 0xff;\n  // Encode machine\n  buffer[6] = MACHINE_ID & 0xff;\n  buffer[5] = (MACHINE_ID >> 8) & 0xff;\n  buffer[4] = (MACHINE_ID >> 16) & 0xff;\n  // Encode pid\n  buffer[8] = pid & 0xff;\n  buffer[7] = (pid >> 8) & 0xff;\n  // Encode index\n  buffer[11] = inc & 0xff;\n  buffer[10] = (inc >> 8) & 0xff;\n  buffer[9] = (inc >> 16) & 0xff;\n  // Return the buffer\n  return buffer;\n};\n\n/**\n* Converts the id into a 24 byte hex string for printing\n*\n* @param {String} format The Buffer toString format parameter.\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toString = function(format) {\n  // Is the id a buffer then use the buffer toString method to return the format\n  if(this.id && this.id.copy) {\n    return this.id.toString(typeof format === 'string' ? format : 'hex');\n  }\n\n  // if(this.buffer )\n  return this.toHexString();\n};\n\n/**\n* Converts to a string representation of this Id.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n/**\n* Converts to its JSON representation.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toJSON = function() {\n  return this.toHexString();\n};\n\n/**\n* Compares the equality of this ObjectID with `otherID`.\n*\n* @method\n* @param {object} otherID ObjectID instance to compare against.\n* @return {boolean} the result of comparing two ObjectID's\n*/\nObjectID.prototype.equals = function equals (otherId) {\n  var id;\n\n  if(otherId instanceof ObjectID) {\n    return this.toString() == otherId.toString();\n  } else if(typeof otherId == 'string' && ObjectID.isValid(otherId) && otherId.length == 12 && this.id instanceof _Buffer) {\n    return otherId === this.id.toString('binary');\n  } else if(typeof otherId == 'string' && ObjectID.isValid(otherId) && otherId.length == 24) {\n    return otherId.toLowerCase() === this.toHexString();\n  } else if(typeof otherId == 'string' && ObjectID.isValid(otherId) && otherId.length == 12) {\n    return otherId === this.id;\n  } else if(otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n    return otherId.toHexString() === this.toHexString();\n  } else {\n    return false;\n  }\n}\n\n/**\n* Returns the generation date (accurate up to the second) that this ID was generated.\n*\n* @method\n* @return {date} the generation date\n*/\nObjectID.prototype.getTimestamp = function() {\n  var timestamp = new Date();\n  var time = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  timestamp.setTime(Math.floor(time) * 1000);\n  return timestamp;\n}\n\n/**\n* @ignore\n*/\nObjectID.index = ~~(Math.random() * 0xFFFFFF);\n\n/**\n* @ignore\n*/\nObjectID.createPk = function createPk () {\n  return new ObjectID();\n};\n\n/**\n* Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n*\n* @method\n* @param {number} time an integer number representing a number of seconds.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromTime = function createFromTime (time) {\n  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  // Encode time into first 4 bytes\n  buffer[3] = time & 0xff;\n  buffer[2] = (time >> 8) & 0xff;\n  buffer[1] = (time >> 16) & 0xff;\n  buffer[0] = (time >> 24) & 0xff;\n  // Return the new objectId\n  return new ObjectID(buffer);\n};\n\n// Lookup tables\nvar encodeLookup = '0123456789abcdef'.split('')\nvar decodeLookup = []\nvar i = 0\nwhile (i < 10) decodeLookup[0x30 + i] = i++\nwhile (i < 16) decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++\n\nvar _Buffer = Buffer;\nvar convertToHex = function(bytes) {\n  return bytes.toString('hex');\n}\n\n/**\n* Creates an ObjectID from a hex string representation of an ObjectID.\n*\n* @method\n* @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromHexString = function createFromHexString (string) {\n  // Throw an error if it's not a valid setup\n  if(typeof string === 'undefined' || string != null && string.length != 24) {\n    throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");\n  }\n\n  // Use Buffer.from method if available\n  if(hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n  // Calculate lengths\n  var array = new _Buffer(12);\n  var n = 0;\n  var i = 0;\n\n  while (i < 24) {\n    array[n++] = decodeLookup[string.charCodeAt(i++)] << 4 | decodeLookup[string.charCodeAt(i++)]\n  }\n\n  return new ObjectID(array);\n};\n\n/**\n* Checks if a value is a valid bson ObjectId\n*\n* @method\n* @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n*/\nObjectID.isValid = function isValid(id) {\n  if(id == null) return false;\n\n  if(typeof id == 'number') {\n    return true;\n  }\n\n  if(typeof id == 'string') {\n    return id.length == 12 || (id.length == 24 && checkForHexRegExp.test(id));\n  }\n\n  if(id instanceof ObjectID) {\n    return true;\n  }\n\n  if(id instanceof _Buffer) {\n    return true;\n  }\n\n  // Duck-Typing detection of ObjectId like objects\n  if(id.toHexString) {\n    return id.id.length == 12 || (id.id.length == 24 && checkForHexRegExp.test(id.id));\n  }\n\n  return false;\n};\n\n/**\n* @ignore\n*/\nObject.defineProperty(ObjectID.prototype, \"generationTime\", {\n   enumerable: true\n , get: function () {\n     return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n   }\n , set: function (value) {\n     // Encode time into first 4 bytes\n     this.id[3] = value & 0xff;\n     this.id[2] = (value >> 8) & 0xff;\n     this.id[1] = (value >> 16) & 0xff;\n     this.id[0] = (value >> 24) & 0xff;\n   }\n});\n\n/**\n * Expose.\n */\nmodule.exports = ObjectID;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.ObjectId = ObjectID;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/objectid.js","/**\n * A class representation of the BSON RegExp type.\n *\n * @class\n * @return {BSONRegExp} A MinKey instance\n */\nfunction BSONRegExp(pattern, options) {\n  if(!(this instanceof BSONRegExp)) return new BSONRegExp();\n\n  // Execute\n  this._bsontype = 'BSONRegExp';\n  this.pattern = pattern || '';\n  this.options = options || '';\n\n  // Validate options\n  for(var i = 0; i < this.options.length; i++) {\n    if(!(this.options[i] == 'i'\n      || this.options[i] == 'm'\n      || this.options[i] == 'x'\n      || this.options[i] == 'l'\n      || this.options[i] == 's'\n      || this.options[i] == 'u'\n    )) {\n      throw new Error('the regular expression options [' + this.options[i] + \"] is not supported\");\n    }\n  }\n}\n\nmodule.exports = BSONRegExp;\nmodule.exports.BSONRegExp = BSONRegExp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/regexp.js","/**\n * A class representation of the BSON Symbol type.\n *\n * @class\n * @deprecated\n * @param {string} value the string representing the symbol.\n * @return {Symbol}\n */\nfunction Symbol(value) {\n  if(!(this instanceof Symbol)) return new Symbol(value);\n  this._bsontype = 'Symbol';\n  this.value = value;\n}\n\n/**\n * Access the wrapped string value.\n *\n * @method\n * @return {String} returns the wrapped string.\n */\nSymbol.prototype.valueOf = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nSymbol.prototype.toString = function() {\n  return this.value;\n}\n\n/**\n * @ignore\n */\nSymbol.prototype.inspect = function() {\n  return this.value;\n}\n\n/**\n * @ignore\n */\nSymbol.prototype.toJSON = function() {\n  return this.value;\n}\n\nmodule.exports = Symbol;\nmodule.exports.Symbol = Symbol;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/symbol.js","// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * This type is for INTERNAL use in MongoDB only and should not be used in applications.\n * The appropriate corresponding type is the JavaScript Date type.\n * \n * Defines a Timestamp class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Timestamp\". This\n * implementation is derived from TimestampLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Timestamps.\n *\n * The internal representation of a Timestamp is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Timestamp.\n * @param {number} high the high (signed) 32 bits of the Timestamp.\n */\nfunction Timestamp(low, high) {\n  if(!(this instanceof Timestamp)) return new Timestamp(low, high);\n  this._bsontype = 'Timestamp';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0;  // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0;  // force into 32 signed bits.\n};\n\n/**\n * Return the int value.\n *\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nTimestamp.prototype.toInt = function() {\n  return this.low_;\n};\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nTimestamp.prototype.toNumber = function() {\n  return this.high_ * Timestamp.TWO_PWR_32_DBL_ +\n         this.getLowBitsUnsigned();\n};\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {string} the JSON representation.\n */\nTimestamp.prototype.toJSON = function() {\n  return this.toString();\n}\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {string} the textual representation of this value.\n */\nTimestamp.prototype.toString = function(opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Timestamp.MIN_VALUE)) {\n      // We need to change the Timestamp value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixTimestamp = Timestamp.fromNumber(radix);\n      var div = this.div(radixTimestamp);\n      var rem = div.multiply(radixTimestamp).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 6));\n\n  var rem = this;\n  var result = '';\n  while (true) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nTimestamp.prototype.getHighBits = function() {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nTimestamp.prototype.getLowBits = function() {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nTimestamp.prototype.getLowBitsUnsigned = function() {\n  return (this.low_ >= 0) ?\n      this.low_ : Timestamp.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Timestamp.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Timestamp.\n */\nTimestamp.prototype.getNumBitsAbs = function() {\n  if (this.isNegative()) {\n    if (this.equals(Timestamp.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ != 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & (1 << bit)) != 0) {\n        break;\n      }\n    }\n    return this.high_ != 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {boolean} whether this value is zero.\n */\nTimestamp.prototype.isZero = function() {\n  return this.high_ == 0 && this.low_ == 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {boolean} whether this value is negative.\n */\nTimestamp.prototype.isNegative = function() {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {boolean} whether this value is odd.\n */\nTimestamp.prototype.isOdd = function() {\n  return (this.low_ & 1) == 1;\n};\n\n/**\n * Return whether this Timestamp equals the other\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} whether this Timestamp equals the other\n */\nTimestamp.prototype.equals = function(other) {\n  return (this.high_ == other.high_) && (this.low_ == other.low_);\n};\n\n/**\n * Return whether this Timestamp does not equal the other.\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} whether this Timestamp does not equal the other.\n */\nTimestamp.prototype.notEquals = function(other) {\n  return (this.high_ != other.high_) || (this.low_ != other.low_);\n};\n\n/**\n * Return whether this Timestamp is less than the other.\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} whether this Timestamp is less than the other.\n */\nTimestamp.prototype.lessThan = function(other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Timestamp is less than or equal to the other.\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} whether this Timestamp is less than or equal to the other.\n */\nTimestamp.prototype.lessThanOrEqual = function(other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Timestamp is greater than the other.\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} whether this Timestamp is greater than the other.\n */\nTimestamp.prototype.greaterThan = function(other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Timestamp is greater than or equal to the other.\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} whether this Timestamp is greater than or equal to the other.\n */\nTimestamp.prototype.greaterThanOrEqual = function(other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Timestamp with the given one.\n *\n * @method\n * @param {Timestamp} other Timestamp to compare against.\n * @return {boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nTimestamp.prototype.compare = function(other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Timestamp} the negation of this value.\n */\nTimestamp.prototype.negate = function() {\n  if (this.equals(Timestamp.MIN_VALUE)) {\n    return Timestamp.MIN_VALUE;\n  } else {\n    return this.not().add(Timestamp.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Timestamp.\n *\n * @method\n * @param {Timestamp} other Timestamp to add to this one.\n * @return {Timestamp} the sum of this and the given Timestamp.\n */\nTimestamp.prototype.add = function(other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 + b48;\n  c48 &= 0xFFFF;\n  return Timestamp.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns the difference of this and the given Timestamp.\n *\n * @method\n * @param {Timestamp} other Timestamp to subtract from this.\n * @return {Timestamp} the difference of this and the given Timestamp.\n */\nTimestamp.prototype.subtract = function(other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Timestamp.\n *\n * @method\n * @param {Timestamp} other Timestamp to multiply with this.\n * @return {Timestamp} the product of this and the other.\n */\nTimestamp.prototype.multiply = function(other) {\n  if (this.isZero()) {\n    return Timestamp.ZERO;\n  } else if (other.isZero()) {\n    return Timestamp.ZERO;\n  }\n\n  if (this.equals(Timestamp.MIN_VALUE)) {\n    return other.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;\n  } else if (other.equals(Timestamp.MIN_VALUE)) {\n    return this.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate().multiply(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Timestamps are small, use float multiplication\n  if (this.lessThan(Timestamp.TWO_PWR_24_) &&\n      other.lessThan(Timestamp.TWO_PWR_24_)) {\n    return Timestamp.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Timestamp into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xFFFF;\n  return Timestamp.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns this Timestamp divided by the given one.\n *\n * @method\n * @param {Timestamp} other Timestamp by which to divide.\n * @return {Timestamp} this Timestamp divided by the given one.\n */\nTimestamp.prototype.div = function(other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Timestamp.ZERO;\n  }\n\n  if (this.equals(Timestamp.MIN_VALUE)) {\n    if (other.equals(Timestamp.ONE) ||\n        other.equals(Timestamp.NEG_ONE)) {\n      return Timestamp.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Timestamp.MIN_VALUE)) {\n      return Timestamp.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Timestamp.ZERO)) {\n        return other.isNegative() ? Timestamp.ONE : Timestamp.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Timestamp.MIN_VALUE)) {\n    return Timestamp.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate().div(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Timestamp.ZERO;\n  var rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = (log2 <= 48) ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Timestamp.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Timestamp.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Timestamp.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Timestamp modulo the given one.\n *\n * @method\n * @param {Timestamp} other Timestamp by which to mod.\n * @return {Timestamp} this Timestamp modulo the given one.\n */\nTimestamp.prototype.modulo = function(other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Timestamp} the bitwise-NOT of this value.\n */\nTimestamp.prototype.not = function() {\n  return Timestamp.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Timestamp and the given one.\n *\n * @method\n * @param {Timestamp} other the Timestamp with which to AND.\n * @return {Timestamp} the bitwise-AND of this and the other.\n */\nTimestamp.prototype.and = function(other) {\n  return Timestamp.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Timestamp and the given one.\n *\n * @method\n * @param {Timestamp} other the Timestamp with which to OR.\n * @return {Timestamp} the bitwise-OR of this and the other.\n */\nTimestamp.prototype.or = function(other) {\n  return Timestamp.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Timestamp and the given one.\n *\n * @method\n * @param {Timestamp} other the Timestamp with which to XOR.\n * @return {Timestamp} the bitwise-XOR of this and the other.\n */\nTimestamp.prototype.xor = function(other) {\n  return Timestamp.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Timestamp with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Timestamp} this shifted to the left by the given amount.\n */\nTimestamp.prototype.shiftLeft = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Timestamp.fromBits(\n                 low << numBits,\n                 (high << numBits) | (low >>> (32 - numBits)));\n    } else {\n      return Timestamp.fromBits(0, low << (numBits - 32));\n    }\n  }\n};\n\n/**\n * Returns this Timestamp with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Timestamp} this shifted to the right by the given amount.\n */\nTimestamp.prototype.shiftRight = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Timestamp.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >> numBits);\n    } else {\n      return Timestamp.fromBits(\n                 high >> (numBits - 32),\n                 high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Timestamp with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Timestamp} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nTimestamp.prototype.shiftRightUnsigned = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Timestamp.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >>> numBits);\n    } else if (numBits == 32) {\n      return Timestamp.fromBits(high, 0);\n    } else {\n      return Timestamp.fromBits(high >>> (numBits - 32), 0);\n    }\n  }\n};\n\n/**\n * Returns a Timestamp representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Timestamp} the corresponding Timestamp value.\n */\nTimestamp.fromInt = function(value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Timestamp.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Timestamp(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Timestamp.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Timestamp representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Timestamp} the corresponding Timestamp value.\n */\nTimestamp.fromNumber = function(value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Timestamp.ZERO;\n  } else if (value <= -Timestamp.TWO_PWR_63_DBL_) {\n    return Timestamp.MIN_VALUE;\n  } else if (value + 1 >= Timestamp.TWO_PWR_63_DBL_) {\n    return Timestamp.MAX_VALUE;\n  } else if (value < 0) {\n    return Timestamp.fromNumber(-value).negate();\n  } else {\n    return new Timestamp(\n               (value % Timestamp.TWO_PWR_32_DBL_) | 0,\n               (value / Timestamp.TWO_PWR_32_DBL_) | 0);\n  }\n};\n\n/**\n * Returns a Timestamp representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Timestamp} the corresponding Timestamp value.\n */\nTimestamp.fromBits = function(lowBits, highBits) {\n  return new Timestamp(lowBits, highBits);\n};\n\n/**\n * Returns a Timestamp representation of the given string, written using the given radix.\n *\n * @method\n * @param {string} str the textual representation of the Timestamp.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Timestamp} the corresponding Timestamp value.\n */\nTimestamp.fromString = function(str, opt_radix) {\n  if (str.length == 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) == '-') {\n    return Timestamp.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 8));\n\n  var result = Timestamp.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Timestamp.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Timestamp.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Timestamp.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n\n/**\n * A cache of the Timestamp representations of small integer values.\n * @type {Object}\n * @ignore\n */\nTimestamp.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_32_DBL_ = Timestamp.TWO_PWR_16_DBL_ * Timestamp.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_31_DBL_ = Timestamp.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_48_DBL_ = Timestamp.TWO_PWR_32_DBL_ * Timestamp.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_64_DBL_ = Timestamp.TWO_PWR_32_DBL_ * Timestamp.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_63_DBL_ = Timestamp.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Timestamp} */\nTimestamp.ZERO = Timestamp.fromInt(0);\n\n/** @type {Timestamp} */\nTimestamp.ONE = Timestamp.fromInt(1);\n\n/** @type {Timestamp} */\nTimestamp.NEG_ONE = Timestamp.fromInt(-1);\n\n/** @type {Timestamp} */\nTimestamp.MAX_VALUE =\n    Timestamp.fromBits(0xFFFFFFFF | 0, 0x7FFFFFFF | 0);\n\n/** @type {Timestamp} */\nTimestamp.MIN_VALUE = Timestamp.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Timestamp}\n * @ignore\n */\nTimestamp.TWO_PWR_24_ = Timestamp.fromInt(1 << 24);\n\n/**\n * Expose.\n */\nmodule.exports = Timestamp;\nmodule.exports.Timestamp = Timestamp;\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/timestamp.js","import { StitchError } from './errors';\n\nexport const JSONTYPE = 'application/json';\nexport const APP_CLIENT_TYPE = 'app';\nexport const ADMIN_CLIENT_TYPE = 'admin';\nexport const DEFAULT_STITCH_SERVER_URL = 'https://stitch.mongodb.com';\n\n// VERSION is substituted with the package.json version number at build time\nlet version = 'unknown';\nif (typeof VERSION !== 'undefined') {\n  version = VERSION;\n}\nexport const SDK_VERSION = version;\n\nexport const checkStatus = (response) => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  if (response.headers.get('Content-Type') === JSONTYPE) {\n    return response.json()\n      .then(json => {\n        const error = new StitchError(json.error, json.error_code);\n        error.response = response;\n        error.json = json;\n        return Promise.reject(error);\n      });\n  }\n\n  const error = new Error(response.statusText);\n  error.response = response;\n  return Promise.reject(error);\n};\n\nexport const makeFetchArgs = (method, body) => {\n  const init = {\n    method: method,\n    headers: { 'Accept': JSONTYPE, 'Content-Type': JSONTYPE }\n  };\n\n  if (body) {\n    init.body = body;\n  }\n\n  init.cors = true;\n  return init;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common.js","/**\n * Creates a new StitchError\n *\n * @class\n * @augments Error\n * @param {String} message The error message.\n * @param {Object} code The error code.\n * @return {StitchError} A StitchError instance.\n */\nclass StitchError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.name = 'StitchError';\n    this.message = message;\n    if (code !== undefined) {\n      this.code = code;\n    }\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = (new Error(message)).stack;\n    }\n  }\n}\n\nconst ErrAuthProviderNotFound = 'AuthProviderNotFound';\nconst ErrInvalidSession = 'InvalidSession';\nconst ErrUnauthorized = 'Unauthorized';\n\n\nexport {\n  StitchError,\n  ErrAuthProviderNotFound,\n  ErrInvalidSession,\n  ErrUnauthorized\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/errors.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 18\n// module chunks = 0","var Int32 = function(value) {\n  if(!(this instanceof Int32)) return new Int32(value);\n\n  this._bsontype = 'Int32';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped int32 number.\n */\nInt32.prototype.valueOf = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nInt32.prototype.toJSON = function() {\n  return this.value;\n}\n\nmodule.exports = Int32;\nmodule.exports.Int32 = Int32;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/int_32.js","/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nimport 'fetch-everywhere';\nimport { AuthFactory } from './auth';\nimport { PROVIDER_TYPE_ANON } from './auth/providers';\nimport { APP_CLIENT_CODEC } from './auth/common';\nimport ServiceRegistry from './services';\nimport * as common from './common';\nimport ExtJSON from 'mongodb-extjson';\nimport queryString from 'query-string';\nimport {\n  StitchError,\n  ErrInvalidSession,\n  ErrUnauthorized\n} from './errors';\n\nconst v1 = 1;\nconst v2 = 2;\nconst v3 = 3;\nconst API_TYPE_PUBLIC = 'public';\nconst API_TYPE_PRIVATE = 'private';\nconst API_TYPE_CLIENT = 'client';\nconst API_TYPE_APP = 'app';\n\n/**\n  * StitchClientFactory is a singleton factory class which can be used to\n  * asynchronously create instances of {@link StitchClient}. StitchClientFactory\n  * is not meant to be instantiated. Use the static `create()` method to build\n  * a new StitchClient.\n  */\nexport class StitchClientFactory {\n  /**\n   * @hideconstructor\n   */\n  constructor() {\n    throw new StitchError('StitchClient can only be made from the StitchClientFactory.create function');\n  }\n\n  /**\n   * Creates a new {@link StitchClient}.\n   *\n   * @param {String} clientAppID the app ID of the Stitch application, which can be found in\n   * the \"Clients\" page of the Stitch admin console.\n   * @param {Object} [options = {}] additional options for creating the {@link StitchClient}.\n   */\n  static create(clientAppID, options = {}) {\n    return newStitchClient(StitchClient.prototype, clientAppID, options);\n  }\n}\n\nexport function newStitchClient(prototype, clientAppID, options = {}) {\n  let stitchClient = Object.create(prototype);\n  let baseUrl = common.DEFAULT_STITCH_SERVER_URL;\n  if (options.baseUrl) {\n    baseUrl = options.baseUrl;\n  }\n\n  stitchClient.clientAppID = clientAppID;\n\n  stitchClient.authUrl = (\n    clientAppID ?\n      `${baseUrl}/api/client/v2.0/app/${clientAppID}/auth` :\n      `${baseUrl}/api/admin/v3.0/auth`\n  );\n\n  stitchClient.rootURLsByAPIVersion = {\n    [v1]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v1.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v1.0`,\n      [API_TYPE_PRIVATE]: `${baseUrl}/api/private/v1.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v1.0/app/${clientAppID}` :\n        `${baseUrl}/api/public/v1.0`)\n    },\n    [v2]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v2.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v2.0`,\n      [API_TYPE_PRIVATE]: `${baseUrl}/api/private/v2.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v2.0/app/${clientAppID}` :\n        `${baseUrl}/api/public/v2.0`)\n    },\n    [v3]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v3.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v3.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v3.0/app/${clientAppID}` :\n        `${baseUrl}/api/admin/v3.0`)\n    }\n  };\n\n  const authOptions = {\n    codec: APP_CLIENT_CODEC,\n    storage: options.storage\n  };\n\n  if (options.storageType) {\n    authOptions.storageType = options.storageType;\n  }\n  if (options.platform) {\n    authOptions.platform = options.platform;\n  }\n  if (options.authCodec) {\n    authOptions.codec = options.authCodec;\n  }\n\n  const authPromise = AuthFactory.create(stitchClient, stitchClient.authUrl, authOptions);\n  return authPromise.then(auth => {\n    stitchClient.auth = auth;\n    return Promise.all([\n      stitchClient.auth.handleRedirect(),\n      stitchClient.auth.handleCookie()\n    ]);\n  }).then(() => stitchClient);\n}\n/**\n * StitchClient is the fundamental way of communicating with MongoDB Stitch in your\n * application. Use StitchClient to authenticate users and to access Stitch services.\n * StitchClient is not meant to be instantiated directly. Use a\n * {@link StitchClientFactory} to create one.\n */\nexport class StitchClient {\n  /**\n   * @hideconstructor\n   */\n  constructor() {\n    let classname = this.constructor.name;\n    throw new StitchError(`${classname} can only be made from the ${classname}Factory.create function`);\n  }\n\n  get type() {\n    return common.APP_CLIENT_TYPE;\n  }\n\n  /**\n   * Login to Stitch instance, optionally providing a username and password. In\n   * the event that these are omitted, anonymous authentication is used.\n   *\n   * @param {String} [email] the email address used for login\n   * @param {String} [password] the password for the provided email address\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolve to a String value: the authenticated user ID.\n   */\n  login(email, password, options = {}) {\n    if (email === undefined || password === undefined) {\n      return this.authenticate(PROVIDER_TYPE_ANON, options);\n    }\n\n    return this.authenticate('userpass', Object.assign({ username: email, password }, options));\n  }\n\n  /**\n   * Send a request to the server indicating the provided email would like\n   * to sign up for an account. This will trigger a confirmation email containing\n   * a token which must be used with the `emailConfirm` method of the `userpass`\n   * auth provider in order to complete registration. The user will not be able\n   * to log in until that flow has been completed.\n   *\n   * @param {String} email the email used to sign up for the app\n   * @param {String} password the password used to sign up for the app\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise}\n   */\n  register(email, password, options = {}) {\n    return this.auth.provider('userpass').register(email, password, options);\n  }\n\n\n  /**\n   * Links the currently logged in user with another identity.\n   *\n   * @param {String} providerType the provider of the other identity (e.g. 'userpass', 'facebook', 'google')\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolves to a String value: the original user ID\n   */\n  linkWithProvider(providerType, options = {}) {\n    if (!this.isAuthenticated()) {\n      throw new StitchError('Must be authenticated to link an account');\n    }\n\n    return this.auth.provider(providerType).authenticate(options, true).then(() => this.authedId());\n  }\n\n  /**\n   * Submits an authentication request to the specified provider providing any\n   * included options (read: user data).  If auth data already exists and the\n   * existing auth data has an access token, then these credentials are returned.\n   *\n   * @param {String} providerType the provider used for authentication (The possible\n   *                 options are 'anon', 'userpass', 'custom', 'facebook', 'google',\n   *                 and 'apiKey')\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolves to a String value: the authenticated user ID\n   */\n  authenticate(providerType, options = {}) {\n    // reuse existing auth if present\n    const authenticateFn = () =>\n      this.auth.provider(providerType).authenticate(options).then(() => this.authedId());\n\n    if (this.isAuthenticated()) {\n      if (providerType === PROVIDER_TYPE_ANON && this.auth.getLoggedInProviderType() === PROVIDER_TYPE_ANON) {\n        return Promise.resolve(this.auth.authedId); // is authenticated, skip log in\n      }\n\n      return this.logout().then(() => authenticateFn()); // will not be authenticated, continue log in\n    }\n\n    // is not authenticated, continue log in\n    return authenticateFn();\n  }\n\n  /**\n   * Ends the session for the current user, and clears auth information from storage.\n   *\n   * @returns {Promise}\n   */\n  logout() {\n    return this._do(\n      '/auth/session',\n      'DELETE',\n      {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }\n    ).then(() => this.auth.clear(), () => this.auth.clear());\n  }\n\n  /**\n   * @returns {*} Returns any error from the Stitch authentication system.\n   */\n  authError() {\n    return this.auth.error();\n  }\n\n  /**\n   * Returns profile information for the currently logged in user.\n   *\n   * @returns {Promise} which resolves to a a JSON object containing user profile information.\n   */\n  userProfile() {\n    return this._do(\n      '/auth/profile',\n      'GET',\n      {rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]},\n    ).then(response => response.json());\n  }\n\n  /**\n  * @returns {Boolean} whether or not the current client is authenticated.\n  */\n  isAuthenticated() {\n    return !!this.authedId();\n  }\n\n  /**\n   *  @returns {String} a string of the currently authenticated user's ID.\n   */\n  authedId() {\n    return this.auth.authedId;\n  }\n\n  /**\n   * Factory method for accessing Stitch services.\n   *\n   * @method\n   * @param {String} type the service type (e.g. \"mongodb\", \"aws-s3\", \"aws-ses\", \"twilio\", \"http\", etc.)\n   * @param {String} name the service name specified in the Stitch admin console.\n   * @returns {Object} returns an instance of the specified service type.\n   */\n  service(type, name) {\n    if (this.constructor !== StitchClient) {\n      throw new StitchError('`service` is a factory method, do not use `new`');\n    }\n\n    if (!ServiceRegistry.hasOwnProperty(type)) {\n      throw new StitchError('Invalid service type specified: ' + type);\n    }\n\n    const ServiceType = ServiceRegistry[type];\n    return new ServiceType(this, name);\n  }\n\n  /**\n   * Executes a function.\n   *\n   * @param {String} name The name of the function.\n   * @param {...*} args Arguments to pass to the function.\n   */\n  executeFunction(name, ...args) {\n    return this._doFunctionCall({\n      name,\n      arguments: args\n    });\n  }\n\n  /**\n   * Executes a service function.\n   *\n   * @param {String} service The name of the service.\n   * @param {String} action The name of the service action.\n   * @param {...*} args Arguments to pass to the service action.\n   */\n  executeServiceFunction(service, action, ...args) {\n    return this._doFunctionCall({\n      service,\n      name: action,\n      arguments: args\n    });\n  }\n\n  _doFunctionCall(request) {\n    let responseDecoder = (d) => ExtJSON.parse(d, { strict: false });\n    let responseEncoder = (d) => ExtJSON.stringify(d);\n\n    return this._do('/functions/call', 'POST', { body: responseEncoder(request) })\n      .then(response => response.text())\n      .then(body => responseDecoder(body));\n  }\n\n  /**\n   * Returns an access token for the user\n   *\n   * @private\n   * @returns {Promise}\n   */\n  doSessionPost() {\n    return this._do(\n      '/auth/session',\n      'POST',\n      {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }\n    )\n      .then(response => response.json());\n  }\n\n  /**\n   * Returns the user API keys associated with the current user.\n   *\n   * @returns {Promise} which resolves to an array of API key objects\n   */\n  getApiKeys() {\n    return this._do(\n      '/auth/api_keys',\n      'GET',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Creates a user API key that can be used to authenticate as the current user.\n   *\n   * @param {String} userApiKeyName a unique name for the user API key\n   * @returns {Promise} which resolves to an API key object containing the API key value\n   */\n  createApiKey(userApiKeyName) {\n    return this._do(\n      '/auth/api_keys',\n      'POST',\n      { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true,\n        body: JSON.stringify({'name': userApiKeyName})\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Returns a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to fetch\n   * @returns {Promise} which resolves to an API key object, although the API key value will be omitted\n   */\n  getApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}`,\n      'GET',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Deletes a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to delete\n   * @returns {Promise}\n   */\n  deleteApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}`,\n      'DELETE',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  /**\n   * Enables a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to enable\n   * @returns {Promise}\n   */\n  enableApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}/enable`,\n      'PUT',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  /**\n   * Disables a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to disable\n   * @returns {Promise}\n   */\n  disableApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}/disable`,\n      'PUT',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  _fetch(url, fetchArgs, resource, method, options) {\n    return fetch(url, fetchArgs)\n      .then(response => {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        }\n\n        if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json()\n            .then(json => {\n              // Only want to try refreshing token when there's an invalid session\n              if ('error_code' in json && json.error_code === ErrInvalidSession) {\n                if (!options.refreshOnFailure) {\n                  return this.auth.clear().then(() => {\n                    const error = new StitchError(json.error, json.error_code);\n                    error.response = response;\n                    error.json = json;\n                    throw error;\n                  });\n                }\n\n                return this.auth.refreshToken()\n                  .then(() => {\n                    options.refreshOnFailure = false;\n                    return this._do(resource, method, options);\n                  });\n              }\n\n              const error = new StitchError(json.error, json.error_code);\n              error.response = response;\n              error.json = json;\n              return Promise.reject(error);\n            });\n        }\n\n        const error = new Error(response.statusText);\n        error.response = response;\n        return Promise.reject(error);\n      });\n  }\n\n  _fetchArgs(resource, method, options) {\n    const appURL = this.rootURLsByAPIVersion[options.apiVersion][options.apiType];\n    let url = `${appURL}${resource}`;\n    if (options.rootURL) {\n      url = `${options.rootURL}${resource}`;\n    }\n    let fetchArgs = common.makeFetchArgs(method, options.body);\n\n    if (!!options.headers) {\n      Object.assign(fetchArgs.headers, options.headers);\n    }\n\n    if (options.queryParams) {\n      url = `${url}?${queryString.stringify(options.queryParams)}`;\n    }\n\n    return { url, fetchArgs };\n  }\n\n  _do(resource, method, options) {\n    options = Object.assign({}, {\n      refreshOnFailure: true,\n      useRefreshToken: false,\n      apiVersion: v2,\n      apiType: API_TYPE_APP,\n      rootURL: undefined\n    }, options);\n\n    let { url, fetchArgs } = this._fetchArgs(resource, method, options);\n    if (options.noAuth) {\n      return this._fetch(url, fetchArgs, resource, method, options);\n    }\n\n    if (!this.isAuthenticated()) {\n      return Promise.reject(new StitchError('Must auth first', ErrUnauthorized));\n    }\n    const token =\n      options.useRefreshToken ? this.auth.getRefreshToken() : this.auth.getAccessToken();\n\n    // If access token is expired, proactively get a new one\n    if (!options.useRefreshToken) {\n      if (this.auth.isAccessTokenExpired()) {\n        return this.auth.refreshToken().then(() => {\n          options.refreshOnFailure = false;\n          return this._do(resource, method, options);\n        });\n      }\n\n      fetchArgs.headers.Authorization = `Bearer ${token}`;\n      return this._fetch(url, fetchArgs, resource, method, options);\n    }\n\n    fetchArgs.headers.Authorization = `Bearer ${token}`;\n    return this._fetch(url, fetchArgs, resource, method, options);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client.js","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('bson')) :\n\ttypeof define === 'function' && define.amd ? define(['bson'], factory) :\n\t(global['mongodb-extjson'] = factory(global.bson));\n}(this, (function (bson) { 'use strict';\n\nbson = bson && bson.hasOwnProperty('default') ? bson['default'] : bson;\n\n/**\n * Module dependencies.\n * @ignore\n */\n\nfunction convert(integer) {\n  var str = Number(integer).toString(16);\n  return str.length === 1 ? '0' + str : str;\n}\n\nfunction toExtendedJSON(obj) {\n  var base64String = obj.buffer.toString('base64');\n\n  return {\n    $binary: {\n      base64: base64String,\n      subType: convert(obj.sub_type)\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n\n  var data = new Buffer(doc.$binary.base64, 'base64');\n\n  return new BSON.Binary(data, type);\n}\n\nvar binary = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\nfunction toExtendedJSON$1(obj) {\n  if (obj.scope) {\n    return { $code: obj.code, $scope: obj.scope };\n  }\n\n  return { $code: obj.code };\n}\n\nfunction fromExtendedJSON$1(BSON, doc) {\n  return new BSON.Code(doc.$code, doc.$scope);\n}\n\nvar code = {\n  toExtendedJSON: toExtendedJSON$1,\n  fromExtendedJSON: fromExtendedJSON$1\n};\n\nfunction toExtendedJSON$2(obj) {\n  var o = {\n    $ref: obj.collection,\n    $id: obj.oid\n  };\n  if (obj.db) o.$db = obj.db;\n  o = Object.assign(o, obj.fields);\n  return o;\n}\n\nfunction fromExtendedJSON$2(BSON, doc) {\n  var copy = Object.assign({}, doc);\n  ['$ref', '$id', '$db'].forEach(function (k) {\n    return delete copy[k];\n  });\n  return new BSON.DBRef(doc.$ref, doc.$id, doc.$db, copy);\n}\n\nvar db_ref = {\n  toExtendedJSON: toExtendedJSON$2,\n  fromExtendedJSON: fromExtendedJSON$2\n};\n\nfunction toExtendedJSON$3(obj) {\n  return { $numberDecimal: obj.toString() };\n}\n\nfunction fromExtendedJSON$3(BSON, doc) {\n  return new BSON.Decimal128.fromString(doc.$numberDecimal);\n}\n\nvar decimal128 = {\n  toExtendedJSON: toExtendedJSON$3,\n  fromExtendedJSON: fromExtendedJSON$3\n};\n\nfunction toExtendedJSON$4(obj, options) {\n  if (options.relaxed && isFinite(obj.value)) return obj.value;\n  return { $numberDouble: obj.value.toString() };\n}\n\nfunction fromExtendedJSON$4(BSON, doc) {\n  return new BSON.Double(parseFloat(doc.$numberDouble));\n}\n\nvar double_1 = {\n  toExtendedJSON: toExtendedJSON$4,\n  fromExtendedJSON: fromExtendedJSON$4\n};\n\nfunction toExtendedJSON$5(obj, options) {\n  if (options && options.relaxed) return obj.value;\n  return { $numberInt: obj.value.toString() };\n}\n\nfunction fromExtendedJSON$5(BSON, doc) {\n  return new BSON.Int32(doc.$numberInt);\n}\n\nvar int_32 = {\n  toExtendedJSON: toExtendedJSON$5,\n  fromExtendedJSON: fromExtendedJSON$5\n};\n\nfunction toExtendedJSON$6(obj, options) {\n  if (options && options.relaxed) return obj.toNumber();\n  return { $numberLong: obj.toString() };\n}\n\nfunction fromExtendedJSON$6(BSON, doc) {\n  return BSON.Long.fromString(doc.$numberLong);\n}\n\nvar long_1 = {\n  toExtendedJSON: toExtendedJSON$6,\n  fromExtendedJSON: fromExtendedJSON$6\n};\n\nfunction toExtendedJSON$7() {\n  return { $maxKey: 1 };\n}\n\nfunction fromExtendedJSON$7(BSON) {\n  return new BSON.MaxKey();\n}\n\nvar max_key = {\n  toExtendedJSON: toExtendedJSON$7,\n  fromExtendedJSON: fromExtendedJSON$7\n};\n\nfunction toExtendedJSON$8() {\n  return { $minKey: 1 };\n}\n\nfunction fromExtendedJSON$8(BSON) {\n  return new BSON.MinKey();\n}\n\nvar min_key = {\n  toExtendedJSON: toExtendedJSON$8,\n  fromExtendedJSON: fromExtendedJSON$8\n};\n\nfunction toExtendedJSON$9(obj) {\n  if (obj.toHexString) return { $oid: obj.toHexString() };\n  return { $oid: obj.toString('hex') };\n}\n\nfunction fromExtendedJSON$9(BSON, doc) {\n  return new BSON.ObjectID(doc.$oid);\n}\n\nvar objectid = {\n  toExtendedJSON: toExtendedJSON$9,\n  fromExtendedJSON: fromExtendedJSON$9\n};\n\nfunction toExtendedJSON$10(obj) {\n  return { $regularExpression: { pattern: obj.pattern, options: obj.options } };\n}\n\nfunction fromExtendedJSON$10(BSON, doc) {\n  return new BSON.BSONRegExp(doc.$regularExpression.pattern, doc.$regularExpression.options.split('').sort().join(''));\n}\n\nvar regexp = {\n  toExtendedJSON: toExtendedJSON$10,\n  fromExtendedJSON: fromExtendedJSON$10\n};\n\nfunction toExtendedJSON$11(obj) {\n  return { $symbol: obj.value };\n}\n\nfunction fromExtendedJSON$11(BSON, doc) {\n  return new BSON.Symbol(doc.$symbol);\n}\n\nvar symbol = {\n  toExtendedJSON: toExtendedJSON$11,\n  fromExtendedJSON: fromExtendedJSON$11\n};\n\nfunction toExtendedJSON$12(obj) {\n  return {\n    $timestamp: {\n      t: obj.high_,\n      i: obj.low_\n    }\n  };\n}\n\nfunction fromExtendedJSON$12(BSON, doc) {\n  return new BSON.Timestamp(doc.$timestamp.i, doc.$timestamp.t);\n}\n\nvar timestamp = {\n  toExtendedJSON: toExtendedJSON$12,\n  fromExtendedJSON: fromExtendedJSON$12\n};\n\nvar bson$1 = {\n  Binary: binary,\n  Code: code,\n  DBRef: db_ref,\n  Decimal128: decimal128,\n  Double: double_1,\n  Int32: int_32,\n  Long: long_1,\n  MaxKey: max_key,\n  MinKey: min_key,\n  ObjectID: objectid,\n  BSONRegExp: regexp,\n  Symbol: symbol,\n  Timestamp: timestamp\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar BSON = bson;\n\nvar BSONTypes = ['Binary', 'Code', 'DBRef', 'Decimal128', 'Double', 'Int32', 'Long', 'MaxKey', 'MinKey', 'ObjectID', 'BSONRegExp', 'Symbol', 'Timestamp'];\n\nsetBSONModule(BSON);\n\n// all the types where we don't need to do any special processing and can just pass the EJSON\n//straight to type.fromExtendedJSON\nvar keysToCodecs = {\n  $oid: bson$1.ObjectID,\n  $binary: bson$1.Binary,\n  $symbol: bson$1.Symbol,\n  $numberDecimal: bson$1.Decimal128,\n  $numberLong: bson$1.Long,\n  $minKey: bson$1.MinKey,\n  $maxKey: bson$1.MaxKey,\n  $regularExpression: bson$1.BSONRegExp,\n  $timestamp: bson$1.Timestamp\n};\n\nfunction setBSONModule(module) {\n  BSONTypes.forEach(function (t) {\n    if (!module[t]) throw new Error('passed in module does not contain all BSON types required');\n  });\n  BSON = module;\n}\n\nfunction deserializeValue(self, key, value, options) {\n  if (typeof value === 'number') {\n    // if it's an integer, should interpret as smallest BSON integer\n    // that can represent it exactly. (if out of range, interpret as double.)\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      if (int32Range) return options.strict ? new BSON.Int32(value) : value;\n      if (int64Range) return options.strict ? new BSON.Long.fromNumber(value) : value;\n    }\n    // If the number is a non-integer or out of integer range, should interpret as BSON Double.\n    return new BSON.Double(value);\n  }\n\n  // from here on out we're looking for bson types, so bail if its not an object\n  if (value == null || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') return value;\n\n  // upgrade deprecated undefined to null\n  if (value.$undefined) return null;\n\n  var keys = Object.keys(value).filter(function (k) {\n    return k.startsWith('$') && value[k] != null;\n  });\n  for (var i = 0; i < keys.length; i++) {\n    var c = keysToCodecs[keys[i]];\n    if (c) return c.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$date != null) {\n    var d = value.$date,\n        date = new Date();\n\n    if (typeof d === 'string') date.setTime(Date.parse(d));else if (d instanceof BSON.Long) date.setTime(d.toNumber());\n    return date;\n  }\n\n  if (value.$code != null) {\n    if (value.$scope) var scope = deserializeValue(self, null, value.$scope);\n    var copy = Object.assign({}, value);\n    copy.$scope = scope;\n    return bson$1.Code.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$numberDouble != null) {\n    return options.strict ? bson$1.Double.fromExtendedJSON(BSON, value) : parseFloat(value.$numberDouble);\n  }\n\n  if (value.$numberInt != null) {\n    return options.strict ? bson$1.Int32.fromExtendedJSON(BSON, value) : parseInt(value.$numberInt, 10);\n  }\n\n  if (value.$ref != null || value.$dbPointer != null) {\n    var v = value.$ref ? value : value.$dbPointer;\n\n    // we run into this in a \"degenerate EJSON\" case (with $id and $ref order flipped)\n    // because of the order JSON.parse goes through the document\n    if (v instanceof BSON.DBRef) return v;\n\n    var dollarKeys = Object.keys(v).filter(function (k) {\n      return k.startsWith('$');\n    }),\n        valid = true;\n    dollarKeys.forEach(function (k) {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    });\n\n    // only make DBRef if $ keys are all valid\n    if (valid) return bson$1.DBRef.fromExtendedJSON(BSON, v);\n  }\n\n  return value;\n}\n\nvar parse = function parse(text, options) {\n  var self = this;\n  options = options || { strict: true };\n\n  return JSON.parse(text, function (key, value) {\n    return deserializeValue(self, key, value, options);\n  });\n};\n\n//\n// Serializer\n//\n\n// MAX INT32 boundaries\nvar BSON_INT32_MAX = 0x7fffffff,\n    BSON_INT32_MIN = -0x80000000,\n    BSON_INT64_MAX = 0x7fffffffffffffff,\n    BSON_INT64_MIN = -0x8000000000000000;\n\nvar stringify = function stringify(value, reducer, indents, options) {\n  var opts = {};\n  if (options != null && (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') opts = options;else if (indents != null && (typeof indents === 'undefined' ? 'undefined' : _typeof(indents)) === 'object') {\n    opts = indents;\n    indents = 0;\n  } else if (reducer != null && (typeof reducer === 'undefined' ? 'undefined' : _typeof(reducer)) === 'object') {\n    opts = reducer;\n    reducer = null;\n  }\n\n  var doc = Array.isArray(value) ? serializeArray(value, opts) : serializeDocument(value, opts);\n  return JSON.stringify(doc, reducer, indents);\n};\n\nfunction serializeArray(array, options) {\n  return array.map(function (v) {\n    return serializeValue(v, options);\n  });\n}\n\nfunction getISOString(date) {\n  var isoStr = date.toISOString();\n  // we should only show milliseconds in timestamp if they're non-zero\n  return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\n\nfunction serializeValue(value, options) {\n  if (Array.isArray(value)) return serializeArray(value, options);\n\n  if (value === undefined) return null;\n\n  if (value instanceof Date) {\n    var dateNum = value.getTime(),\n\n    // is it in year range 1970-9999?\n    inRange = dateNum > -1 && dateNum < 253402318800000;\n\n    return options.relaxed && inRange ? { $date: getISOString(value) } : { $date: { $numberLong: value.getTime().toString() } };\n  }\n\n  if (typeof value === 'number' && !options.relaxed) {\n    // it's an integer\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      // interpret as being of the smallest BSON integer type that can represent the number exactly\n      if (int32Range) return { $numberInt: value.toString() };\n      if (int64Range) return { $numberLong: value.toString() };\n    }\n    return { $numberDouble: value.toString() };\n  }\n\n  if (value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') return serializeDocument(value, options);\n  return value;\n}\n\nfunction serializeDocument(doc, options) {\n  if (doc == null || (typeof doc === 'undefined' ? 'undefined' : _typeof(doc)) !== 'object') throw new Error('not an object instance');\n\n  // the document itself is a BSON type\n  if (doc._bsontype && BSONTypes.indexOf(doc._bsontype) !== -1) {\n    // we need to separately serialize the embedded scope document\n    if (doc._bsontype === 'Code' && doc.scope) {\n      var tempScope = serializeDocument(doc.scope, options),\n          tempDoc = Object.assign({}, doc, { scope: tempScope });\n      return bson$1['Code'].toExtendedJSON(tempDoc, options);\n      // we need to separately serialize the embedded OID document\n    } else if (doc._bsontype === 'DBRef' && doc.oid) {\n      var tempId = serializeDocument(doc.oid, options),\n          _tempDoc = Object.assign({}, doc, { oid: tempId });\n      return bson$1['DBRef'].toExtendedJSON(_tempDoc, options);\n    }\n    return bson$1[doc._bsontype].toExtendedJSON(doc, options);\n  }\n\n  // the document is an object with nested BSON types\n  var _doc = {};\n  for (var name in doc) {\n    var val = doc[name];\n    if (Array.isArray(val)) {\n      _doc[name] = serializeArray(val, options);\n    } else if (val != null && val._bsontype && BSONTypes.indexOf(val._bsontype) !== -1) {\n      // we need to separately serialize the embedded scope document\n      if (val._bsontype === 'Code' && val.scope) {\n        var _tempScope = serializeDocument(val.scope, options),\n            tempVal = Object.assign({}, val, { scope: _tempScope });\n        _doc[name] = bson$1['Code'].toExtendedJSON(tempVal, options);\n        // we need to separately serialize the embedded OID document\n      } else if (val._bsontype === 'DBRef' && val.oid) {\n        var _tempId = serializeDocument(val.oid, options),\n            _tempVal = Object.assign({}, val, { oid: _tempId });\n        _doc[name] = bson$1['DBRef'].toExtendedJSON(_tempVal, options);\n      } else _doc[name] = bson$1[val._bsontype].toExtendedJSON(val, options);\n    } else if (val instanceof Date) {\n      _doc[name] = serializeValue(val, options);\n    } else if (val != null && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') {\n      _doc[name] = serializeDocument(val, options);\n    }\n\n    _doc[name] = serializeValue(val, options);\n  }\n\n  return _doc;\n}\n\nvar ext_json = {\n  parse: parse,\n  stringify: stringify,\n  setBSONModule: setBSONModule,\n  BSON: BSON\n};\n\nvar mongodbExtjson = ext_json;\n\nreturn mongodbExtjson;\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/dist/bundle.js","\"use strict\"\n\nvar writeIEEE754 = require('./float_parser').writeIEEE754,\n\treadIEEE754 = require('./float_parser').readIEEE754,\n  Map = require('./map'),\n\tLong = require('./long'),\n  Double = require('./double'),\n  Timestamp = require('./timestamp'),\n  ObjectID = require('./objectid'),\n  BSONRegExp = require('./regexp'),\n  Symbol = require('./symbol'),\n\tInt32 = require('./int_32'),\n  Code = require('./code'),\n\tDecimal128 = require('./decimal128'),\n  MinKey = require('./min_key'),\n  MaxKey = require('./max_key'),\n  DBRef = require('./db_ref'),\n  Binary = require('./binary');\n\n// Parts of the parser\nvar deserialize = require('./parser/deserializer'),\n\tserializer = require('./parser/serializer'),\n\tcalculateObjectSize = require('./parser/calculate_size');\n\n/**\n * @ignore\n * @api private\n */\n// Max Size\nvar MAXSIZE = (1024*1024*17);\n// Max Document Buffer size\nvar buffer = new Buffer(MAXSIZE);\n\nvar BSON = function() {\n}\n\n/**\n * Serialize a Javascript object.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Buffer} returns the Buffer object containing the serialized object.\n * @api public\n */\nBSON.prototype.serialize = function serialize(object, options) {\n\toptions = options || {};\n\t// Unpack the options\n\tvar checkKeys = typeof options.checkKeys == 'boolean'\n\t\t? options.checkKeys : false;\n\tvar serializeFunctions = typeof options.serializeFunctions == 'boolean'\n\t\t? options.serializeFunctions : false;\n\tvar ignoreUndefined = typeof options.ignoreUndefined == 'boolean'\n\t\t? options.ignoreUndefined : true;\n\n\t// Attempt to serialize\n\tvar serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, []);\n\t// Create the final buffer\n\tvar finishedBuffer = new Buffer(serializationIndex);\n\t// Copy into the finished buffer\n\tbuffer.copy(finishedBuffer, 0, 0, finishedBuffer.length);\n\t// Return the buffer\n\treturn finishedBuffer;\n}\n\n/**\n * Serialize a Javascript object using a predefined Buffer and index into the buffer, useful when pre-allocating the space for serialization.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @param {Number} [options.index] the index in the buffer where we wish to start serializing into.\n * @return {Number} returns the index pointing to the last written byte in the buffer.\n * @api public\n */\nBSON.prototype.serializeWithBufferAndIndex = function(object, finalBuffer, options) {\n\toptions = options || {};\n\t// Unpack the options\n\tvar checkKeys = typeof options.checkKeys == 'boolean'\n\t\t? options.checkKeys : false;\n\tvar serializeFunctions = typeof options.serializeFunctions == 'boolean'\n\t\t? options.serializeFunctions : false;\n\tvar ignoreUndefined = typeof options.ignoreUndefined == 'boolean'\n\t\t? options.ignoreUndefined : true;\n\tvar startIndex = typeof options.index == 'number'\n\t\t? options.index : 0;\n\n\t// Attempt to serialize\n\tvar serializationIndex = serializer(buffer, object, checkKeys, startIndex || 0, 0, serializeFunctions, ignoreUndefined);\n\tbuffer.copy(finalBuffer, startIndex, 0, serializationIndex);\n\n\t// Return the index\n\treturn serializationIndex - 1;\n}\n\n/**\n * Deserialize data as BSON.\n *\n * @param {Buffer} buffer the buffer containing the serialized set of BSON documents.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Object} returns the deserialized Javascript Object.\n * @api public\n */\nBSON.prototype.deserialize = function(buffer, options) {\n  return deserialize(buffer, options);\n}\n\n/**\n * Calculate the bson size for a passed in Javascript object.\n *\n * @param {Object} object the Javascript object to calculate the BSON byte size for.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Number} returns the number of bytes the BSON object will take up.\n * @api public\n */\nBSON.prototype.calculateObjectSize = function(object, options) {\n\toptions = options || {};\n\n\tvar serializeFunctions = typeof options.serializeFunctions == 'boolean'\n\t\t? options.serializeFunctions : false;\n\tvar ignoreUndefined = typeof options.ignoreUndefined == 'boolean'\n\t\t? options.ignoreUndefined : true;\n\n  return calculateObjectSize(object, serializeFunctions, ignoreUndefined);\n}\n\n/**\n * Deserialize stream data as BSON documents.\n *\n * @param {Buffer} data the buffer containing the serialized set of BSON documents.\n * @param {Number} startIndex the start index in the data Buffer where the deserialization is to start.\n * @param {Number} numberOfDocuments number of documents to deserialize.\n * @param {Array} documents an array where to store the deserialized documents.\n * @param {Number} docStartIndex the index in the documents array from where to start inserting documents.\n * @param {Object} [options] additional options used for the deserialization.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Number} returns the next index in the buffer after deserialization **x** numbers of documents.\n * @api public\n */\nBSON.prototype.deserializeStream = function(data, startIndex, numberOfDocuments, documents, docStartIndex, options) {\n  options = options != null ? options : {};\n  var index = startIndex;\n  // Loop over all documents\n  for(var i = 0; i < numberOfDocuments; i++) {\n    // Find size of the document\n    var size = data[index] | data[index + 1] << 8 | data[index + 2] << 16 | data[index + 3] << 24;\n    // Update options with index\n    options['index'] = index;\n    // Parse the document at this point\n    documents[docStartIndex + i] = this.deserialize(data, options);\n    // Adjust index by the document size\n    index = index + size;\n  }\n\n  // Return object containing end index of parsing and list of documents\n  return index;\n}\n\n/**\n * @ignore\n * @api private\n */\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7FFFFFFF;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000;  // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000;  // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\nvar JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000);  // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000);  // Any integer down to -2^53 can be precisely represented by a double.\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// Return BSON\nmodule.exports = BSON;\nmodule.exports.Code = Code;\nmodule.exports.Map = Map;\nmodule.exports.Symbol = Symbol;\nmodule.exports.BSON = BSON;\nmodule.exports.DBRef = DBRef;\nmodule.exports.Binary = Binary;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.Long = Long;\nmodule.exports.Timestamp = Timestamp;\nmodule.exports.Double = Double;\nmodule.exports.Int32 = Int32;\nmodule.exports.MinKey = MinKey;\nmodule.exports.MaxKey = MaxKey;\nmodule.exports.BSONRegExp = BSONRegExp;\nmodule.exports.Decimal128 = Decimal128;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/bson.js","\"use strict\"\n\n// We have an ES6 Map available, return the native instance\nif(typeof global.Map !== 'undefined') {\n  module.exports = global.Map;\n  module.exports.Map = global.Map;\n} else {\n  // We will return a polyfill\n  var Map = function(array) {\n    this._keys = [];\n    this._values = {};\n\n    for(var i = 0; i < array.length; i++) {\n      if(array[i] == null) continue;  // skip null and undefined\n      var entry = array[i];\n      var key = entry[0];\n      var value = entry[1];\n      // Add the key to the list of keys in order\n      this._keys.push(key);\n      // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n      this._values[key] = {v: value, i: this._keys.length - 1};\n    }\n  }\n\n  Map.prototype.clear = function() {\n    this._keys = [];\n    this._values = {};\n  }\n\n  Map.prototype.delete = function(key) {\n    var value = this._values[key];\n    if(value == null) return false;\n    // Delete entry\n    delete this._values[key];\n    // Remove the key from the ordered keys list\n    this._keys.splice(value.i, 1);\n    return true;\n  }\n\n  Map.prototype.entries = function() {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? [key, self._values[key].v] : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  Map.prototype.forEach = function(callback, self) {\n    self = self || this;\n\n    for(var i = 0; i < this._keys.length; i++) {\n      var key = this._keys[i];\n      // Call the forEach callback\n      callback.call(self, this._values[key].v, key, self);\n    }\n  }\n\n  Map.prototype.get = function(key) {\n    return this._values[key] ? this._values[key].v : undefined;\n  }\n\n  Map.prototype.has = function(key) {\n    return this._values[key] != null;\n  }\n\n  Map.prototype.keys = function(key) {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? key : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  Map.prototype.set = function(key, value) {\n    if(this._values[key]) {\n      this._values[key].v = value;\n      return this;\n    }\n\n    // Add the key to the list of keys in order\n    this._keys.push(key);\n    // Add the key and value to the values dictionary with a point\n    // to the location in the ordered keys list\n    this._values[key] = {v: value, i: this._keys.length - 1};\n    return this;\n  }\n\n  Map.prototype.values = function(key, value) {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? self._values[key].v : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  // Last ismaster\n  Object.defineProperty(Map.prototype, 'size', {\n    enumerable:true,\n    get: function() { return this._keys.length; }\n  });\n\n  module.exports = Map;\n  module.exports.Map = Map;\n}\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/map.js","/**\n * @private\n * @module auth\n */\nimport * as common from '../common';\nimport * as authCommon from './common';\nimport { uriEncodeObject } from '../util';\n\nexport const PROVIDER_TYPE_ANON = 'anon';\nexport const PROVIDER_TYPE_CUSTOM = 'custom';\nexport const PROVIDER_TYPE_USERPASS = 'userpass';\nexport const PROVIDER_TYPE_APIKEY = 'apiKey';\nexport const PROVIDER_TYPE_GOOGLE = 'google';\nexport const PROVIDER_TYPE_FACEBOOK = 'facebook';\nexport const PROVIDER_TYPE_MONGODB_CLOUD = 'mongodbCloud';\n\nfunction urlWithLinkParam(url, link) {\n  if (link) {\n    return url + '?link=true';\n  }\n\n  return url;\n}\n\n/**\n * @private\n * @namespace\n */\nfunction anonProvider(auth) {\n  return {\n    /**\n     * Login to a stitch application using anonymous authentication\n     *\n     * @memberof anonProvider\n     * @instance\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (options, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs('GET');\n      fetchArgs.cors = true;\n\n      return fetch(\n        urlWithLinkParam(`${auth.rootUrl}/providers/anon-user/login?device=${uriEncodeObject(device)}`, link),\n        auth.fetchArgsWithLink(fetchArgs, link)\n      ).then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_ANON));\n    }\n  };\n}\n\n/**\n  * @private\n  * @namespace\n  */\nfunction customProvider(auth) {\n  const providerRoute = 'providers/custom-token';\n  const loginRoute = `${providerRoute}/login`;\n\n  return {\n    /**\n     * Login to a stitch application using custom authentication\n     *\n     * @memberof customProvider\n     * @instance\n     * @param {String} JWT token to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (token, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ token, options: { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_CUSTOM));\n    }\n  };\n}\n\n/**\n * userPassProvider offers several methods for completing certain tasks necessary for email/password\n * authentication. userPassProvider cannot be instantiated directly. To instantiate,\n * use `.auth.providers('userpass')` on a {@link StitchClient}.\n *\n * @namespace\n */\nfunction userPassProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const providerRoute = auth.isAppClient() ? 'providers/local-userpass' : 'providers/local-userpass';\n  const loginRoute = auth.isAppClient() ? `${providerRoute}/login` : `${providerRoute}/login`;\n\n  return {\n    /**\n     * Login to a stitch application using username and password authentication\n     *\n     * @private\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} username the username to use for authentication\n     * @param {String} password the password to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: ({ username, password }, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ username, password, options: { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_USERPASS));\n    },\n\n    /**\n     * Completes the email confirmation workflow from the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @returns {Promise}\n     */\n    emailConfirm: (tokenId, token) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId, token }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/confirm`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Request that the stitch server send another email confirmation\n     * for account creation.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address to send a confirmation email for\n     * @returns {Promise}\n     */\n    sendEmailConfirm: (email) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/confirm/send`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Sends a password reset request to the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address of the account to reset the password for\n     * @returns {Promise}\n     */\n    sendPasswordReset: (email) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/reset/send`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Use information returned from the Stitch server to complete the password\n     * reset flow for a given email account, providing a new password for the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @param {String} password the new password requested for this account\n     * @returns {Promise}\n     */\n    passwordReset: (tokenId, token, password) => {\n      const fetchArgs =\n        common.makeFetchArgs('POST', JSON.stringify({ tokenId, token, password }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/reset`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n\n    /**\n     * Will trigger an email to the requested account containing a link with the\n     * token and tokenId that must be returned to the server using emailConfirm()\n     * to activate the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the requested email for the account\n     * @param {String} password the requested password for the account\n     * @returns {Promise}\n     */\n    register: (email, password) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email, password }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/register`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction apiKeyProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const loginRoute = auth.isAppClient() ? 'providers/api-key/login' : 'providers/api-key/login';\n\n  return {\n    /**\n     * Login to a stitch application using an api key\n     *\n     * @memberof apiKeyProvider\n     * @instance\n     * @param {String} key the key for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (key, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ 'key': key, 'options': { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_APIKEY));\n    }\n  };\n}\n\n// The state we generate is to be used for any kind of request where we will\n// complete an authentication flow via a redirect. We store the generate in\n// a local storage bound to the app's origin. This ensures that any time we\n// receive a redirect, there must be a state parameter and it must match\n// what we ourselves have generated. This state MUST only be sent to\n// a trusted Stitch endpoint in order to preserve its integrity. Stitch will\n// store it in some way on its origin (currently a cookie stored on this client)\n// and use that state at the end of an auth flow as a parameter in the redirect URI.\nconst alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nfunction generateState() {\n  let state = '';\n  for (let i = 0; i < 64; ++i) {\n    state += alpha.charAt(Math.floor(Math.random() * alpha.length));\n  }\n\n  return state;\n}\n\nfunction getOAuthLoginURL(auth, providerName, redirectUrl) {\n  if (redirectUrl === undefined) {\n    redirectUrl = auth.pageRootUrl();\n  }\n\n  const state = generateState();\n  return auth.storage.set(authCommon.STATE_KEY, state)\n    .then(() => auth.getDeviceId())\n    .then(deviceId => {\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const result = `${auth.rootUrl}/providers/oauth2-${providerName}/login?redirect=${encodeURI(redirectUrl)}&state=${state}&device=${uriEncodeObject(device)}`;\n      return result;\n    });\n}\n\n/**\n * @private\n * @namespace\n */\nfunction googleProvider(auth) {\n  const loginRoute = auth.isAppClient() ? 'providers/oauth2-google/login' : 'providers/oauth2-google/login';\n\n  return {\n    /**\n     * Login to a stitch application using google authentication\n     *\n     * @memberof googleProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      let { authCode } = data;\n      if (authCode) {\n        const deviceId = auth.getDeviceId();\n        const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        const fetchArgs = common.makeFetchArgs(\n          'POST',\n          JSON.stringify({ authCode, options: { device } })\n        );\n\n        return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n          .then(common.checkStatus)\n          .then(response => response.json())\n          .then(json => auth.set(json, PROVIDER_TYPE_GOOGLE));\n      }\n\n      const redirectUrl = (data && data.redirectUrl) ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_GOOGLE)\n        .then(() => getOAuthLoginURL(auth, PROVIDER_TYPE_GOOGLE, redirectUrl))\n        .then((res) => window.location.replace(res));\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction facebookProvider(auth) {\n  const loginRoute = auth.isAppClient() ? 'providers/oauth2-facebook/login' : 'providers/oauth2-facebook/login';\n\n  return {\n    /**\n     * Login to a stitch application using facebook authentication\n     *\n     * @memberof facebookProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      let { accessToken } = data;\n\n      if (accessToken) {\n        const deviceId = auth.getDeviceId();\n        const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        const fetchArgs = common.makeFetchArgs(\n          'POST',\n          JSON.stringify({ accessToken, options: { device } })\n        );\n\n        return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n          .then(common.checkStatus)\n          .then(response => response.json())\n          .then(json => auth.set(json, PROVIDER_TYPE_FACEBOOK));\n      }\n\n      const redirectUrl = (data && data.redirectUrl) ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_FACEBOOK)\n        .then(() => getOAuthLoginURL(auth, PROVIDER_TYPE_FACEBOOK, redirectUrl))\n        .then((res) => window.location.replace(res));\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction mongodbCloudProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const loginRoute = auth.isAppClient() ? 'providers/mongodb-cloud/login' : 'providers/mongodb-cloud/login';\n\n  return {\n    /**\n     * Login to a stitch application using mongodb cloud authentication\n     *\n     * @memberof mongodbCloudProvider\n     * @instance\n     * @param {Object} data the username, apiKey, cors, and cookie data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      const { username, apiKey, cors, cookie } = data;\n      const options = Object.assign({}, { cors: true, cookie: false }, { cors: cors, cookie: cookie });\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ username, apiKey, options: { device } })\n      );\n      fetchArgs.cors = true;  // TODO: shouldn't this use the passed in `cors` value?\n      fetchArgs.credentials = 'include';\n\n      let url = urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link);\n      if (options.cookie) {\n        return fetch(url + '?cookie=true', fetchArgs)\n          .then(common.checkStatus);\n      }\n\n      return fetch(url, auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_MONGODB_CLOUD));\n    }\n  };\n}\n\n// TODO: support auth-specific options\nfunction createProviders(auth, options = {}) {\n  return {\n    [PROVIDER_TYPE_ANON]: anonProvider(auth),\n    [PROVIDER_TYPE_APIKEY]: apiKeyProvider(auth),\n    [PROVIDER_TYPE_GOOGLE]: googleProvider(auth),\n    [PROVIDER_TYPE_FACEBOOK]: facebookProvider(auth),\n    [PROVIDER_TYPE_MONGODB_CLOUD]: mongodbCloudProvider(auth),\n    [PROVIDER_TYPE_USERPASS]: userPassProvider(auth),\n    [PROVIDER_TYPE_CUSTOM]: customProvider(auth)\n  };\n}\n\nexport { createProviders };\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/providers.js","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nvar globalObj = typeof self !== 'undefined' && self || this;\nmodule.exports = globalObj.fetch.bind(globalObj);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fetch-everywhere/fetch-npm-browserify.js\n// module id = 25\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 26\n// module chunks = 0","/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nimport 'fetch-everywhere';\nimport { newStitchClient, StitchClient } from './client';\nimport ADMIN_CLIENT_TYPE from './common';\nimport { ADMIN_CLIENT_CODEC } from './auth/common';\nimport { StitchError } from './errors';\n\nconst v2 = 2;\nconst v3 = 3;\n\n/** @private **/\nexport class StitchAdminClientFactory {\n  constructor() {\n    throw new StitchError('StitchAdminClient can only be made from the StitchAdminClientFactory.create function');\n  }\n\n  static create(baseUrl) {\n    return newStitchClient(StitchAdminClient.prototype, '', {baseUrl, authCodec: ADMIN_CLIENT_CODEC});\n  }\n}\n\n/** @private */\nexport class StitchAdminClient extends StitchClient {\n  constructor() {\n    super();\n  }\n\n  get type() {\n    return ADMIN_CLIENT_TYPE;\n  }\n\n  get _v3() {\n    const v3do = (url, method, options) =>\n      super._do(\n        url,\n        method,\n        Object.assign({}, { apiVersion: v3 }, options)\n      ).then(response => {\n        const contentHeader = response.headers.get('content-type') || '';\n        if (contentHeader.split(',').indexOf('application/json') >= 0) {\n          return response.json();\n        }\n        return response;\n      });\n\n    return {\n      _get: (url, queryParams) => v3do(url, 'GET', {queryParams}),\n      _put: (url, data) =>\n        (data ?\n          v3do(url, 'PUT', {body: JSON.stringify(data)}) :\n          v3do(url, 'PUT')),\n      _patch: (url, data) =>\n        (data ?\n          v3do(url, 'PATCH', {body: JSON.stringify(data)}) :\n          v3do(url, 'PATCH')),\n      _delete: (url)  => v3do(url, 'DELETE'),\n      _post: (url, body, queryParams) =>\n        (queryParams ?\n          v3do(url, 'POST', { body: JSON.stringify(body), queryParams }) :\n          v3do(url, 'POST', { body: JSON.stringify(body) }))\n    };\n  }\n\n  get _v2() {\n    const v2do = (url, method, options) =>\n      super._do(\n        url,\n        method,\n        Object.assign({}, { apiVersion: v2 }, options)\n      ).then(response => {\n        const contentHeader = response.headers.get('content-type') || '';\n        if (contentHeader.split(',').indexOf('application/json') >= 0) {\n          return response.json();\n        }\n        return response;\n      });\n\n    return {\n      _get: (url, queryParams) => v2do(url, 'GET', {queryParams}),\n      _put: (url, data) =>\n        (data ?\n          v2do(url, 'PUT', {body: JSON.stringify(data)}) :\n          v2do(url, 'PUT')),\n      _patch: (url, data) =>\n        (data ?\n          v2do(url, 'PATCH', {body: JSON.stringify(data)}) :\n          v2do(url, 'PATCH')),\n      _delete: (url)  => v2do(url, 'DELETE'),\n      _post: (url, body, queryParams) =>\n        (queryParams ?\n          v2do(url, 'POST', { body: JSON.stringify(body), queryParams }) :\n          v2do(url, 'POST', { body: JSON.stringify(body) }))\n    };\n  }\n\n  /**\n   * Ends the session for the current user.\n   *\n   * @returns {Promise}\n   */\n  logout() {\n    return super._do('/auth/session', 'DELETE', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 })\n      .then(() => this.auth.clear());\n  }\n\n  /**\n   * Returns profile information for the currently logged in user\n   *\n   * @returns {Promise}\n   */\n  userProfile() {\n    return this._v3._get('/auth/profile');\n  }\n\n  /**\n   * Returns available providers for the currently logged in admin\n   *\n   * @returns {Promise}\n   */\n  getAuthProviders() {\n    return super._do('/auth/providers', 'GET', { noAuth: true, apiVersion: v3 })\n      .then(response => response.json());\n  }\n\n  /**\n   * Returns an access token for the user\n   *\n   * @returns {Promise}\n   */\n  doSessionPost() {\n    return super._do('/auth/session', 'POST', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 })\n      .then(response => response.json());\n  }\n\n  /* Examples of how to access admin API with this client:\n   *\n   * List all apps\n   *    a.apps('580e6d055b199c221fcb821c').list()\n   *\n   * Fetch app under name 'planner'\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').get()\n   *\n   * List services under the app 'planner'\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').services().list()\n   *\n   * Delete a rule by ID\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').services().service('mdb1').rules().rule('580e6d055b199c221fcb821d').remove()\n   *\n   */\n  apps(groupId) {\n    const api = this._v3;\n    const groupUrl = `/groups/${groupId}/apps`;\n    return {\n      list: () => api._get(groupUrl),\n      create: (data, options) => {\n        let query = (options && options.defaults) ? '?defaults=true' : '';\n        return api._post(groupUrl + query, data);\n      },\n\n      app: (appId) => {\n        const appUrl = `${groupUrl}/${appId}`;\n        return {\n          get: () => api._get(appUrl),\n          remove: () => api._delete(appUrl),\n\n          export: () => api._get(`${appUrl}/export`),\n\n          values: () => ({\n            list: () => api._get(`${appUrl}/values`),\n            create: (data) => api._post( `${appUrl}/values`, data),\n            value: (valueId) => {\n              const valueUrl = `${appUrl}/values/${valueId}`;\n              return {\n                get: ()=> api._get(valueUrl),\n                remove: ()=> api._delete(valueUrl),\n                update: (data) => api._put(valueUrl, data)\n              };\n            }\n          }),\n\n          services: () => ({\n            list: () => api._get(`${appUrl}/services`),\n            create: (data) => api._post(`${appUrl}/services`, data),\n            service: (serviceId) => ({\n              get: () => api._get(`${appUrl}/services/${serviceId}`),\n              remove: () => api._delete(`${appUrl}/services/${serviceId}`),\n              runCommand: (commandName, data) => api._post(`${appUrl}/services/${serviceId}/commands/${commandName}`, data),\n              config: ()=> ({\n                get: () => api._get(`${appUrl}/services/${serviceId}/config`),\n                update: (data) => api._patch(`${appUrl}/services/${serviceId}/config`, data)\n              }),\n\n              rules: () => ({\n                list: () => api._get(`${appUrl}/services/${serviceId}/rules`),\n                create: (data) => api._post(`${appUrl}/services/${serviceId}/rules`, data),\n                rule: (ruleId) => {\n                  const ruleUrl = `${appUrl}/services/${serviceId}/rules/${ruleId}`;\n                  return {\n                    get: () => api._get(ruleUrl),\n                    update: (data) => api._put(ruleUrl, data),\n                    remove: () => api._delete(ruleUrl)\n                  };\n                }\n              }),\n\n              incomingWebhooks: () => ({\n                list: () => api._get(`${appUrl}/services/${serviceId}/incoming_webhooks`),\n                create: (data) => api._post(`${appUrl}/services/${serviceId}/incoming_webhooks`, data),\n                incomingWebhook: (incomingWebhookId) => {\n                  const webhookUrl = `${appUrl}/services/${serviceId}/incoming_webhooks/${incomingWebhookId}`;\n                  return {\n                    get: () => api._get(webhookUrl),\n                    update: (data) => api._put(webhookUrl, data),\n                    remove: () => api._delete(webhookUrl)\n                  };\n                }\n              })\n            })\n          }),\n\n          pushNotifications: () => ({\n            list: (filter) => api._get(`${appUrl}/push/notifications`, filter),\n            create: (data) => api._post(`${appUrl}/push/notifications`, data),\n            pushNotification: (messageId) => ({\n              get: () => api._get(`${appUrl}/push/notifications/${messageId}`),\n              update: (data) => api._put(`${appUrl}/push/notifications/${messageId}`, data),\n              remove: () => api._delete(`${appUrl}/push/notifications/${messageId}`),\n              send: () => api._post(`${appUrl}/push/notifications/${messageId}/send`)\n            })\n          }),\n\n          users: () => ({\n            list: (filter) => api._get(`${appUrl}/users`, filter),\n            create: (user) => api._post(`${appUrl}/users`, user),\n            user: (uid) => ({\n              get: () => api._get(`${appUrl}/users/${uid}`),\n              devices: () => ({\n                get: () => api._get(`${appUrl}/users/${uid}/devices`)\n              }),\n              logout: () => api._put(`${appUrl}/users/${uid}/logout`),\n              enable: () => api._put(`${appUrl}/users/${uid}/enable`),\n              disable: () => api._put(`${appUrl}/users/${uid}/disable`),\n              remove: () => api._delete(`${appUrl}/users/${uid}`)\n            })\n          }),\n\n          userRegistrations: () => ({\n            sendConfirmationEmail: (email) => api._post(`${appUrl}/user_registrations/by_email/${email}/send_confirm`)\n          }),\n\n          debug: () => ({\n            executeFunction: (userId, name = '', ...args) => {\n              return api._post(\n                `${appUrl}/debug/execute_function`,\n                {name, 'arguments': args},\n                { user_id: userId });\n            },\n            executeFunctionSource: (userId, source = '', evalSource = '') => {\n              return api._post(\n                `${appUrl}/debug/execute_function_source`,\n                {source, 'eval_source': evalSource},\n                { user_id: userId });\n            }\n          }),\n\n          authProviders: () => ({\n            list: () => api._get(`${appUrl}/auth_providers`),\n            create: (data) => api._post(`${appUrl}/auth_providers`, data),\n            authProvider: (providerId) => ({\n              get: () => api._get(`${appUrl}/auth_providers/${providerId}`),\n              update: (data) => api._patch(`${appUrl}/auth_providers/${providerId}`, data),\n              enable: () => api._put(`${appUrl}/auth_providers/${providerId}/enable`),\n              disable: () => api._put(`${appUrl}/auth_providers/${providerId}/disable`),\n              remove: () => api._delete(`${appUrl}/auth_providers/${providerId}`)\n            })\n          }),\n\n          security: () => ({\n            allowedRequestOrigins: () => ({\n              get: () => api._get(`${appUrl}/security/allowed_request_origins`),\n              update: (data) => api._post(`${appUrl}/security/allowed_request_origins`, data)\n            })\n          }),\n\n          logs: () => ({\n            list: (filter) => api._get(`${appUrl}/logs`, filter)\n          }),\n\n          apiKeys: () => ({\n            list: () => api._get(`${appUrl}/api_keys`),\n            create: (data) => api._post(`${appUrl}/api_keys`, data),\n            apiKey: (apiKeyId) => ({\n              get: () => api._get(`${appUrl}/api_keys/${apiKeyId}`),\n              remove: () => api._delete(`${appUrl}/api_keys/${apiKeyId}`),\n              enable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/enable`),\n              disable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/disable`)\n            })\n          }),\n\n          functions: () => ({\n            list: () => api._get(`${appUrl}/functions`),\n            create: (data) => api._post(`${appUrl}/functions`, data),\n            function: (functionId) => ({\n              get: () => api._get(`${appUrl}/functions/${functionId}`),\n              update: (data) => api._put(`${appUrl}/functions/${functionId}`, data),\n              remove: () => api._delete(`${appUrl}/functions/${functionId}`)\n            })\n          })\n        };\n      }\n    };\n  }\n\n  v2() {\n    const api = this._v2;\n    return {\n\n      apps: (groupId)  => {\n        const groupUrl = `/groups/${groupId}/apps`;\n        return {\n          list: () => api._get(groupUrl),\n          create: (data, options) => {\n            let query = (options && options.defaults) ? '?defaults=true' : '';\n            return api._post(groupUrl + query, data);\n          },\n\n          app: (appId) => {\n            const appUrl = `${groupUrl}/${appId}`;\n            return {\n              get: () => api._get(appUrl),\n              remove: () => api._delete(appUrl),\n\n              pipelines: () => ({\n                list: () => api._get(`${appUrl}/pipelines`),\n                create: (data) => api._post( `${appUrl}/pipelines`, data),\n                pipeline: (pipelineId) => {\n                  const pipelineUrl = `${appUrl}/pipelines/${pipelineId}`;\n                  return {\n                    get: ()=> api._get(pipelineUrl),\n                    remove: ()=> api._delete(pipelineUrl),\n                    update: (data) => api._put(pipelineUrl, data)\n                  };\n                }\n              }),\n\n              values: () => ({\n                list: () => api._get(`${appUrl}/values`),\n                create: (data) => api._post( `${appUrl}/values`, data),\n                value: (valueId) => {\n                  const valueUrl = `${appUrl}/values/${valueId}`;\n                  return {\n                    get: ()=> api._get(valueUrl),\n                    remove: ()=> api._delete(valueUrl),\n                    update: (data) => api._put(valueUrl, data)\n                  };\n                }\n              }),\n\n              services: () => ({\n                list: () => api._get(`${appUrl}/services`),\n                create: (data) => api._post(`${appUrl}/services`, data),\n                service: (serviceId) => ({\n                  get: () => api._get(`${appUrl}/services/${serviceId}`),\n                  remove: () => api._delete(`${appUrl}/services/${serviceId}`),\n                  runCommand: (commandName, data) => api._post(`${appUrl}/services/${serviceId}/commands/${commandName}`, data),\n                  config: ()=> ({\n                    get: () => api._get(`${appUrl}/services/${serviceId}/config`),\n                    update: (data) => api._patch(`${appUrl}/services/${serviceId}/config`, data)\n                  }),\n\n                  rules: () => ({\n                    list: () => api._get(`${appUrl}/services/${serviceId}/rules`),\n                    create: (data) => api._post(`${appUrl}/services/${serviceId}/rules`, data),\n                    rule: (ruleId) => {\n                      const ruleUrl = `${appUrl}/services/${serviceId}/rules/${ruleId}`;\n                      return {\n                        get: () => api._get(ruleUrl),\n                        update: (data) => api._put(ruleUrl, data),\n                        remove: () => api._delete(ruleUrl)\n                      };\n                    }\n                  }),\n\n                  incomingWebhooks: () => ({\n                    list: () => api._get(`${appUrl}/services/${serviceId}/incoming_webhooks`),\n                    create: (data) => api._post(`${appUrl}/services/${serviceId}/incoming_webhooks`, data),\n                    incomingWebhook: (incomingWebhookId) => {\n                      const webhookUrl = `${appUrl}/services/${serviceId}/incoming_webhooks/${incomingWebhookId}`;\n                      return {\n                        get: () => api._get(webhookUrl),\n                        update: (data) => api._put(webhookUrl, data),\n                        remove: () => api._delete(webhookUrl)\n                      };\n                    }\n                  })\n\n                })\n              }),\n\n              pushNotifications: () => ({\n                list: (filter) => api._get(`${appUrl}/push/notifications`, filter),\n                create: (data) => api._post(`${appUrl}/push/notifications`, data),\n                pushNotification: (messageId) => ({\n                  get: () => api._get(`${appUrl}/push/notifications/${messageId}`),\n                  update: (data) => api._put(`${appUrl}/push/notifications/${messageId}`, data),\n                  setType: (type) => api._put(`${appUrl}/push/notifications/${messageId}/type`, { type }),\n                  remove: () => api._delete(`${appUrl}/push/notifications/${messageId}`)\n                })\n              }),\n\n              users: () => ({\n                list: (filter) => api._get(`${appUrl}/users`, filter),\n                create: (user) => api._post(`${appUrl}/users`, user),\n                user: (uid) => ({\n                  get: () => api._get(`${appUrl}/users/${uid}`),\n                  logout: () => api._put(`${appUrl}/users/${uid}/logout`),\n                  remove: () => api._delete(`${appUrl}/users/${uid}`)\n                })\n              }),\n\n              dev: () => ({\n                executePipeline: (body, userId, options) => {\n                  return api._post(\n                    `${appUrl}/dev/pipeline`,\n                    body,\n                    Object.assign({}, options, { user_id: userId }));\n                }\n              }),\n\n              authProviders: () => ({\n                list: () => api._get(`${appUrl}/auth_providers`),\n                create: (data) => api._post(`${appUrl}/auth_providers`, data),\n                authProvider: (providerId) => ({\n                  get: () => api._get(`${appUrl}/auth_providers/${providerId}`),\n                  update: (data) => api._patch(`${appUrl}/auth_providers/${providerId}`, data),\n                  enable: () => api._put(`${appUrl}/auth_providers/${providerId}/enable`),\n                  disable: () => api._put(`${appUrl}/auth_providers/${providerId}/disable`),\n                  remove: () => api._delete(`${appUrl}/auth_providers/${providerId}`)\n                })\n              }),\n\n              security: () => ({\n                allowedRequestOrigins: () => ({\n                  get: () => api._get(`${appUrl}/security/allowed_request_origins`),\n                  update: (data) => api._post(`${appUrl}/security/allowed_request_origins`, data)\n                })\n              }),\n\n              logs: () => ({\n                list: (filter) => api._get(`${appUrl}/logs`, filter)\n              }),\n\n              apiKeys: () => ({\n                list: () => api._get(`${appUrl}/api_keys`),\n                create: (data) => api._post(`${appUrl}/api_keys`, data),\n                apiKey: (apiKeyId) => ({\n                  get: () => api._get(`${appUrl}/api_keys/${apiKeyId}`),\n                  remove: () => api._delete(`${appUrl}/api_keys/${apiKeyId}`),\n                  enable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/enable`),\n                  disable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/disable`)\n                })\n              })\n            };\n          }\n        };\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin.js",";(function () {\n\n  var object =\n    typeof exports != 'undefined' ? exports :\n    typeof self != 'undefined' ? self : // #8: web workers\n    $.global; // #31: ExtendScript\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/Base64/base64.js\n// module id = 28\n// module chunks = 0","\"use strict\"\n\nvar writeIEEE754 = require('../float_parser').writeIEEE754\n\t, readIEEE754 = require('../float_parser').readIEEE754\n\t, Long = require('../long').Long\n  , Double = require('../double').Double\n  , Timestamp = require('../timestamp').Timestamp\n  , ObjectID = require('../objectid').ObjectID\n  , Symbol = require('../symbol').Symbol\n  , BSONRegExp = require('../regexp').BSONRegExp\n  , Code = require('../code').Code\n\t, Decimal128 = require('../decimal128')\n  , MinKey = require('../min_key').MinKey\n  , MaxKey = require('../max_key').MaxKey\n  , DBRef = require('../db_ref').DBRef\n  , Binary = require('../binary').Binary;\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return typeof d === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n}\n\nvar calculateObjectSize = function calculateObjectSize(object, serializeFunctions, ignoreUndefined) {\n  var totalLength = (4 + 1);\n\n  if(Array.isArray(object)) {\n    for(var i = 0; i < object.length; i++) {\n      totalLength += calculateElement(i.toString(), object[i], serializeFunctions, true, ignoreUndefined)\n    }\n  } else {\n\t\t// If we have toBSON defined, override the current object\n\t\tif(object.toBSON) {\n\t\t\tobject = object.toBSON();\n\t\t}\n\n\t\t// Calculate size\n    for(var key in object) {\n      totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined)\n    }\n  }\n\n  return totalLength;\n}\n\n/**\n * @ignore\n * @api private\n */\nfunction calculateElement(name, value, serializeFunctions, isArray, ignoreUndefined) {\n\t// If we have toBSON defined, override the current object\n  if(value && value.toBSON){\n    value = value.toBSON();\n  }\n\n  switch(typeof value) {\n    case 'string':\n      return 1 + Buffer.byteLength(name, 'utf8') + 1 + 4 + Buffer.byteLength(value, 'utf8') + 1;\n    case 'number':\n      if(Math.floor(value) === value && value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n        if(value >= BSON.BSON_INT32_MIN && value <= BSON.BSON_INT32_MAX) { // 32 bit\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (4 + 1);\n        } else {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (8 + 1);\n        }\n      } else {  // 64 bit\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (8 + 1);\n      }\n    case 'undefined':\n      if(isArray || !ignoreUndefined) return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (1);\n      return 0;\n    case 'boolean':\n      return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (1 + 1);\n    case 'object':\n      if(value == null || value instanceof MinKey || value instanceof MaxKey || value['_bsontype'] == 'MinKey' || value['_bsontype'] == 'MaxKey') {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (1);\n      } else if(value instanceof ObjectID || value['_bsontype'] == 'ObjectID') {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (12 + 1);\n      } else if(value instanceof Date || isDate(value)) {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (8 + 1);\n      } else if(typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (1 + 4 + 1) + value.length;\n      } else if(value instanceof Long || value instanceof Double || value instanceof Timestamp\n          || value['_bsontype'] == 'Long' || value['_bsontype'] == 'Double' || value['_bsontype'] == 'Timestamp') {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (8 + 1);\n\t\t\t} else if(value instanceof Decimal128 || value['_bsontype'] == 'Decimal128') {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (16 + 1);\n      } else if(value instanceof Code || value['_bsontype'] == 'Code') {\n        // Calculate size depending on the availability of a scope\n        if(value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + 4 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1;\n        }\n      } else if(value instanceof Binary || value['_bsontype'] == 'Binary') {\n        // Check what kind of subtype we have\n        if(value.sub_type == Binary.SUBTYPE_BYTE_ARRAY) {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (value.position + 1 + 4 + 1 + 4);\n        } else {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + (value.position + 1 + 4 + 1);\n        }\n      } else if(value instanceof Symbol || value['_bsontype'] == 'Symbol') {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + Buffer.byteLength(value.value, 'utf8') + 4 + 1 + 1;\n      } else if(value instanceof DBRef || value['_bsontype'] == 'DBRef') {\n        // Set up correct object for serialization\n        var ordered_values = {\n            '$ref': value.namespace\n          , '$id' : value.oid\n        };\n\n        // Add db reference if it exists\n        if(null != value.db) {\n          ordered_values['$db'] = value.db;\n        }\n\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + calculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined);\n      } else if(value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]') {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1\n            + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1\n      } else if(value instanceof BSONRegExp || value['_bsontype'] == 'BSONRegExp') {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + Buffer.byteLength(value.pattern, 'utf8') + 1\n            + Buffer.byteLength(value.options, 'utf8') + 1\n      } else {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + calculateObjectSize(value, serializeFunctions, ignoreUndefined) + 1;\n      }\n    case 'function':\n      // WTF for 0.4.X where typeof /someregexp/ === 'function'\n      if(value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]' || String.call(value) == '[object RegExp]') {\n        return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1\n          + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1\n      } else {\n        if(serializeFunctions && value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + 4 + 4 + Buffer.byteLength(value.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else if(serializeFunctions) {\n          return (name != null ? (Buffer.byteLength(name, 'utf8') + 1) : 0) + 1 + 4 + Buffer.byteLength(value.toString(), 'utf8') + 1;\n        }\n      }\n  }\n\n  return 0;\n}\n\nvar BSON = {};\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7FFFFFFF;\nBSON.BSON_INT32_MIN = -0x80000000;\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000;  // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000;  // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = calculateObjectSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/parser/calculate_size.js","\"use strict\"\n\nvar readIEEE754 = require('../float_parser').readIEEE754,\n\tf = require('util').format,\n\tLong = require('../long').Long,\n  Double = require('../double').Double,\n  Timestamp = require('../timestamp').Timestamp,\n  ObjectID = require('../objectid').ObjectID,\n  Symbol = require('../symbol').Symbol,\n  Code = require('../code').Code,\n  MinKey = require('../min_key').MinKey,\n  MaxKey = require('../max_key').MaxKey,\n\tDecimal128 = require('../decimal128'),\n\tInt32 = require('../int_32'),\n  DBRef = require('../db_ref').DBRef,\n  BSONRegExp = require('../regexp').BSONRegExp,\n  Binary = require('../binary').Binary;\n\nvar deserialize = function(buffer, options, isArray) {\n\toptions = options == null ? {} : options;\n\tvar index = options && options.index ? options.index : 0;\n\t// Read the document size\n  var size = buffer[index] | buffer[index+1] << 8 | buffer[index+2] << 16 | buffer[index+3] << 24;\n\n\t// Ensure buffer is valid size\n  if(size < 5 || buffer.length < size || (size + index) > buffer.length) {\n\t\tthrow new Error(\"corrupt bson message\");\n\t}\n\n\t// Illegal end value\n\tif(buffer[index + size - 1] != 0) {\n\t\tthrow new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n\t}\n\n\t// Start deserializtion\n\treturn deserializeObject(buffer, index, options, isArray);\n}\n\nvar deserializeObject = function(buffer, index, options, isArray) {\n\tvar evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];\n  var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];\n  var cacheFunctionsCrc32 = options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];\n\tvar fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];\n\n\t// Return raw bson buffer instead of parsing it\n\tvar raw = options['raw'] == null ? false : options['raw'];\n\n\t// Return BSONRegExp objects instead of native regular expressions\n  var bsonRegExp = typeof options['bsonRegExp'] == 'boolean' ? options['bsonRegExp'] : false;\n\n\t// Controls the promotion of values vs wrapper classes\n\tvar promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];\n\tvar promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];\n\tvar promoteValues = options['promoteValues'] == null ? true : options['promoteValues'];\n\n\t// Set the start index\n\tvar startIndex = index;\n\n  // Validate that we have at least 4 bytes of buffer\n  if(buffer.length < 5) throw new Error(\"corrupt bson message < 5 bytes long\");\n\n\t// Read the document size\n  var size = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n\t// Ensure buffer is valid size\n  if(size < 5 || size > buffer.length) throw new Error(\"corrupt bson message\");\n\n  // Create holding object\n  var object = isArray ? [] : {};\n\t// Used for arrays to skip having to perform utf8 decoding\n\tvar arrayIndex = 0;\n\n  // While we have more left data left keep parsing\n  while(true) {\n    // Read the type\n    var elementType = buffer[index++];\n    // If we get a zero it's the last byte, exit\n    if(elementType == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\t// Get the start search index\n\t\tvar i = index;\n\t\t// Locate the end of the c string\n\t\twhile(buffer[i] !== 0x00 && i < buffer.length) {\n\t\t\ti++\n\t\t}\n\n\t\t// If are at the end of the buffer there is a problem with the document\n\t\tif(i >= buffer.length) throw new Error(\"Bad BSON Document: illegal CString\")\n\t\tvar name = isArray ? arrayIndex++ : buffer.toString('utf8', index, i);\n\n\t\tindex = i + 1;\n\n\t\tif(elementType == BSON.BSON_DATA_STRING) {\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\tif(stringSize <= 0 || stringSize > (buffer.length - index) || buffer[index + stringSize - 1] != 0) throw new Error(\"bad string length in bson\");\n      object[name] = buffer.toString('utf8', index, index + stringSize - 1);\n      index = index + stringSize;\n\t\t} else if(elementType == BSON.BSON_DATA_OID) {\n\t\t\tvar oid = new Buffer(12);\n\t\t\tbuffer.copy(oid, 0, index, index + 12);\n      object[name] = new ObjectID(oid);\n      index = index + 12;\n\t\t} else if(elementType == BSON.BSON_DATA_INT && promoteValues == false) {\n\t\t\tobject[name] = new Int32(buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24);\n\t\t} else if(elementType == BSON.BSON_DATA_INT) {\n      object[name] = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t} else if(elementType == BSON.BSON_DATA_NUMBER && promoteValues == false) {\n\t\t\tobject[name] = new Double(buffer.readDoubleLE(index));\n\t\t\tindex = index + 8;\n\t\t} else if(elementType == BSON.BSON_DATA_NUMBER) {\n\t\t\tobject[name] = buffer.readDoubleLE(index);\n      index = index + 8;\n\t\t} else if(elementType == BSON.BSON_DATA_DATE) {\n      var lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      object[name] = new Date(new Long(lowBits, highBits).toNumber());\n\t\t} else if(elementType == BSON.BSON_DATA_BOOLEAN) {\n\t\t\tif(buffer[index] != 0 && buffer[index] != 1) throw new Error('illegal boolean type value');\n      object[name] = buffer[index++] == 1;\n\t\t} else if(elementType == BSON.BSON_DATA_OBJECT) {\n\t\t\tvar _index = index;\n      var objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n\t\t\tif(objectSize <= 0 || objectSize > (buffer.length - index)) throw new Error(\"bad embedded document length in bson\");\n\n\t\t\t// We have a raw value\n\t\t\tif(raw) {\n\t      object[name] = buffer.slice(index, index + objectSize);\n\t\t\t} else {\n\t      object[name] = deserializeObject(buffer, _index, options, false);\n\t\t\t}\n\n      index = index + objectSize;\n\t\t} else if(elementType == BSON.BSON_DATA_ARRAY) {\n\t\t\tvar _index = index;\n      var objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n\t\t\tvar arrayOptions = options;\n\n\t\t\t// Stop index\n\t\t\tvar stopIndex = index + objectSize;\n\n\t\t\t// All elements of array to be returned as raw bson\n\t\t\tif(fieldsAsRaw && fieldsAsRaw[name]) {\n\t\t\t\tarrayOptions = {};\n\t\t\t\tfor(var n in options) arrayOptions[n] = options[n];\n\t\t\t\tarrayOptions['raw'] = true;\n\t\t\t}\n\n      object[name] = deserializeObject(buffer, _index, arrayOptions, true);\n      index = index + objectSize;\n\n\t\t\tif(buffer[index - 1] != 0) throw new Error('invalid array terminator byte');\n\t\t\tif(index != stopIndex) throw new Error('corrupted array bson');\n\t\t} else if(elementType == BSON.BSON_DATA_UNDEFINED) {\n      object[name] = undefined;\n\t\t} else if(elementType == BSON.BSON_DATA_NULL) {\n\t\t\tobject[name] = null;\n\t\t} else if(elementType == BSON.BSON_DATA_LONG) {\n      // Unpack the low and high bits\n      var lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var long = new Long(lowBits, highBits);\n      // Promote the long if possible\n      if(promoteLongs && promoteValues == true) {\n        object[name] = long.lessThanOrEqual(JS_INT_MAX_LONG) && long.greaterThanOrEqual(JS_INT_MIN_LONG) ? long.toNumber() : long;\n      } else {\n        object[name] = long;\n      }\n\t\t} else if(elementType == BSON.BSON_DATA_DECIMAL128) {\n\t\t\t// Buffer to contain the decimal bytes\n\t\t\tvar bytes = new Buffer(16);\n\t\t\t// Copy the next 16 bytes into the bytes buffer\n\t\t\tbuffer.copy(bytes, 0, index, index + 16);\n\t\t\t// Update index\n\t\t\tindex = index + 16;\n\t\t\t// Assign the new Decimal128 value\n\t\t\tvar decimal128 = new Decimal128(bytes);\n\t\t\t// If we have an alternative mapper use that\n\t\t\tobject[name] = decimal128.toObject ? decimal128.toObject() : decimal128;\n\t\t} else if(elementType == BSON.BSON_DATA_BINARY) {\n      var binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\tvar totalBinarySize = binarySize;\n      var subType = buffer[index++];\n\n\t\t\t// Did we have a negative binary size, throw\n\t\t\tif(binarySize < 0) throw new Error('Negative binary type element size found');\n\n\t\t\t// Is the length longer than the document\n\t\t\tif(binarySize > buffer.length) throw new Error('Binary type size larger than document size');\n\n\t\t\t// Decode as raw Buffer object if options specifies it\n      if(buffer['slice'] != null) {\n        // If we have subtype 2 skip the 4 bytes for the size\n        if(subType == Binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\t\t\tif(binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n\t\t\t\t\tif(binarySize > (totalBinarySize - 4)) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n\t\t\t\t\tif(binarySize < (totalBinarySize - 4)) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        if(promoteBuffers && promoteValues) {\n          object[name] = buffer.slice(index, index + binarySize);\n        } else {\n          object[name] = new Binary(buffer.slice(index, index + binarySize), subType);\n        }\n      } else {\n        var _buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(binarySize)) : new Array(binarySize);\n        // If we have subtype 2 skip the 4 bytes for the size\n        if(subType == Binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\t\t\tif(binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n\t\t\t\t\tif(binarySize > (totalBinarySize - 4)) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n\t\t\t\t\tif(binarySize < (totalBinarySize - 4)) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        // Copy the data\n        for(var i = 0; i < binarySize; i++) {\n          _buffer[i] = buffer[index + i];\n        }\n\n        if(promoteBuffers && promoteValues) {\n          object[name] = _buffer;\n        } else {\n          object[name] = new Binary(_buffer, subType);\n        }\n      }\n\n      // Update the index\n      index = index + binarySize;\n\t\t} else if(elementType == BSON.BSON_DATA_REGEXP && bsonRegExp == false) {\n\t\t\t// Get the start search index\n\t\t\tvar i = index;\n\t\t\t// Locate the end of the c string\n\t\t\twhile(buffer[i] !== 0x00 && i < buffer.length) {\n\t\t\t\ti++\n\t\t\t}\n\t\t\t// If are at the end of the buffer there is a problem with the document\n\t\t\tif(i >= buffer.length) throw new Error(\"Bad BSON Document: illegal CString\")\n\t\t\t// Return the C string\n\t\t\tvar source = buffer.toString('utf8', index, i);\n      // Create the regexp\n\t\t\tindex = i + 1;\n\n\t\t\t// Get the start search index\n\t\t\tvar i = index;\n\t\t\t// Locate the end of the c string\n\t\t\twhile(buffer[i] !== 0x00 && i < buffer.length) {\n\t\t\t\ti++\n\t\t\t}\n\t\t\t// If are at the end of the buffer there is a problem with the document\n\t\t\tif(i >= buffer.length) throw new Error(\"Bad BSON Document: illegal CString\")\n\t\t\t// Return the C string\n\t\t\tvar regExpOptions = buffer.toString('utf8', index, i);\n\t\t\tindex = i + 1;\n\n      // For each option add the corresponding one for javascript\n      var optionsArray = new Array(regExpOptions.length);\n\n      // Parse options\n      for(var i = 0; i < regExpOptions.length; i++) {\n        switch(regExpOptions[i]) {\n          case 'm':\n            optionsArray[i] = 'm';\n            break;\n          case 's':\n            optionsArray[i] = 'g';\n            break;\n          case 'i':\n            optionsArray[i] = 'i';\n            break;\n        }\n      }\n\n      object[name] = new RegExp(source, optionsArray.join(''));\n    } else if(elementType == BSON.BSON_DATA_REGEXP && bsonRegExp == true) {\n\t\t\t// Get the start search index\n\t\t\tvar i = index;\n\t\t\t// Locate the end of the c string\n\t\t\twhile(buffer[i] !== 0x00 && i < buffer.length) {\n\t\t\t\ti++\n\t\t\t}\n\t\t\t// If are at the end of the buffer there is a problem with the document\n\t\t\tif(i >= buffer.length) throw new Error(\"Bad BSON Document: illegal CString\")\n\t\t\t// Return the C string\n\t\t\tvar source = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n\t\t\t// Get the start search index\n\t\t\tvar i = index;\n\t\t\t// Locate the end of the c string\n\t\t\twhile(buffer[i] !== 0x00 && i < buffer.length) {\n\t\t\t\ti++\n\t\t\t}\n\t\t\t// If are at the end of the buffer there is a problem with the document\n\t\t\tif(i >= buffer.length) throw new Error(\"Bad BSON Document: illegal CString\")\n\t\t\t// Return the C string\n\t\t\tvar regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Set the object\n      object[name] = new BSONRegExp(source, regExpOptions);\n\t\t} else if(elementType == BSON.BSON_DATA_SYMBOL) {\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\tif(stringSize <= 0 || stringSize > (buffer.length - index) || buffer[index + stringSize - 1] != 0) throw new Error(\"bad string length in bson\");\n      object[name] = new Symbol(buffer.toString('utf8', index, index + stringSize - 1));\n      index = index + stringSize;\n\t\t} else if(elementType == BSON.BSON_DATA_TIMESTAMP) {\n      var lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      object[name] = new Timestamp(lowBits, highBits);\n\t\t} else if(elementType == BSON.BSON_DATA_MIN_KEY) {\n      object[name] = new MinKey();\n\t\t} else if(elementType == BSON.BSON_DATA_MAX_KEY) {\n      object[name] = new MaxKey();\n\t\t} else if(elementType == BSON.BSON_DATA_CODE) {\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\tif(stringSize <= 0 || stringSize > (buffer.length - index) || buffer[index + stringSize - 1] != 0) throw new Error(\"bad string length in bson\");\n      var functionString = buffer.toString('utf8', index, index + stringSize - 1);\n\n      // If we are evaluating the functions\n      if(evalFunctions) {\n        var value = null;\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if(cacheFunctions) {\n          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n      } else {\n        object[name]  = new Code(functionString);\n      }\n\n      // Update parse index position\n      index = index + stringSize;\n\t\t} else if(elementType == BSON.BSON_DATA_CODE_W_SCOPE) {\n      var totalSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n\t\t\t// Element cannot be shorter than totalSize + stringSize + documentSize + terminator\n\t\t\tif(totalSize < (4 + 4 + 4 + 1)) {\n\t\t\t\tthrow new Error(\"code_w_scope total size shorter minimum expected length\");\n\t\t\t}\n\n\t\t\t// Get the code string size\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\t// Check if we have a valid string\n\t\t\tif(stringSize <= 0 || stringSize > (buffer.length - index) || buffer[index + stringSize - 1] != 0) throw new Error(\"bad string length in bson\");\n\n      // Javascript function\n      var functionString = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n      // Parse the element\n\t\t\tvar _index = index;\n      // Decode the size of the object document\n      var objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      // Decode the scope object\n      var scopeObject = deserializeObject(buffer, _index, options, false);\n      // Adjust the index\n      index = index + objectSize;\n\n\t\t\t// Check if field length is to short\n\t\t\tif(totalSize < (4 + 4 + objectSize + stringSize)) {\n\t\t\t\tthrow new Error('code_w_scope total size is to short, truncating scope');\n\t\t\t}\n\n\t\t\t// Check if totalSize field is to long\n\t\t\tif(totalSize > (4 + 4 + objectSize + stringSize)) {\n\t\t\t\tthrow new Error('code_w_scope total size is to long, clips outer document');\n\t\t\t}\n\n      // If we are evaluating the functions\n      if(evalFunctions) {\n        // Contains the value we are going to set\n        var value = null;\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if(cacheFunctions) {\n          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n\n        object[name].scope = scopeObject;\n      } else {\n        object[name]  = new Code(functionString, scopeObject);\n      }\n\t\t} else if(elementType == BSON.BSON_DATA_DBPOINTER) {\n\t\t\t// Get the code string size\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\t\t\t// Check if we have a valid string\n\t\t\tif(stringSize <= 0 || stringSize > (buffer.length - index) || buffer[index + stringSize - 1] != 0) throw new Error(\"bad string length in bson\");\n\t\t\t// Namespace\n      var namespace = buffer.toString('utf8', index, index + stringSize - 1);\n\t\t\t// Update parse index position\n      index = index + stringSize;\n\n\t\t\t// Read the oid\n\t\t\tvar oidBuffer = new Buffer(12);\n\t\t\tbuffer.copy(oidBuffer, 0, index, index + 12);\n      var oid = new ObjectID(oidBuffer);\n\n\t\t\t// Update the index\n\t\t\tindex = index + 12;\n\n\t\t\t// Split the namespace\n\t\t\tvar parts = namespace.split('.');\n\t\t\tvar db = parts.shift();\n\t\t\tvar collection = parts.join('.');\n\t\t\t// Upgrade to DBRef type\n\t\t\tobject[name] = new DBRef(collection, oid, db);\n    } else {\n\t\t\tthrow new Error(\"Detected unknown BSON type \" + elementType.toString(16) + \" for fieldname \\\"\" + name + \"\\\", are you using the latest BSON parser\");\n\t\t}\n  }\n\n\t// Check if the deserialization was against a valid array/object\n\tif(size != (index - startIndex)) {\n\t\tif(isArray) throw new Error('corrupt array bson');\n\t\tthrow new Error('corrupt object bson');\n\t}\n\n  // Check if we have a db ref object\n  if(object['$id'] != null) object = new DBRef(object['$ref'], object['$id'], object['$db']);\n  return object;\n}\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEvalWithHash = function(functionCache, hash, functionString, object) {\n  // Contains the value we are going to set\n  var value = null;\n\n  // Check for cache hit, eval if missing and return cached function\n  if(functionCache[hash] == null) {\n    eval(\"value = \" + functionString);\n    functionCache[hash] = value;\n  }\n  // Set the object\n  return functionCache[hash].bind(object);\n}\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEval = function(functionString) {\n  // Contains the value we are going to set\n  var value = null;\n  // Eval the function\n  eval(\"value = \" + functionString);\n  return value;\n}\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\nvar functionCache = BSON.functionCache = {};\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_DBPOINTER\n **/\nBSON.BSON_DATA_DBPOINTER = 12;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7FFFFFFF;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000;  // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000;  // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\nvar JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000);  // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000);  // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = deserialize\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/parser/deserializer.js","\"use strict\"\n\nvar writeIEEE754 = require('../float_parser').writeIEEE754,\n  readIEEE754 = require('../float_parser').readIEEE754,\n  Long = require('../long').Long,\n  Map = require('../map'),\n  Double = require('../double').Double,\n  Timestamp = require('../timestamp').Timestamp,\n  ObjectID = require('../objectid').ObjectID,\n  Symbol = require('../symbol').Symbol,\n  Code = require('../code').Code,\n  BSONRegExp = require('../regexp').BSONRegExp,\n  Int32 = require('../int_32').Int32,\n  MinKey = require('../min_key').MinKey,\n  MaxKey = require('../max_key').MaxKey,\n  Decimal128 = require('../decimal128'),\n  DBRef = require('../db_ref').DBRef,\n  Binary = require('../binary').Binary;\n\ntry {\n  var _Buffer = Uint8Array;\n} catch(e) {\n  var _Buffer = Buffer;\n}\n\nvar regexp = /\\x00/\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return typeof d === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n}\n\nvar isRegExp = function isRegExp(d) {\n  return Object.prototype.toString.call(d) === '[object RegExp]';\n}\n\nvar serializeString = function(buffer, key, value, index, isArray) {\n  // Encode String type\n  buffer[index++] = BSON.BSON_DATA_STRING;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes + 1;\n  buffer[index - 1] = 0;\n  // Write the string\n  var size = buffer.write(value, index + 4, 'utf8');\n  // Write the size of the string to buffer\n  buffer[index + 3] = (size + 1 >> 24) & 0xff;\n  buffer[index + 2] = (size + 1 >> 16) & 0xff;\n  buffer[index + 1] = (size + 1 >> 8) & 0xff;\n  buffer[index] = size + 1 & 0xff;\n  // Update index\n  index = index + 4 + size;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n}\n\nvar serializeNumber = function(buffer, key, value, index, isArray) {\n  // We have an integer value\n  if(Math.floor(value) === value && value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n    // If the value fits in 32 bits encode as int, if it fits in a double\n    // encode it as a double, otherwise long\n    if(value >= BSON.BSON_INT32_MIN && value <= BSON.BSON_INT32_MAX) {\n      // Set int type 32 bits or less\n      buffer[index++] = BSON.BSON_DATA_INT;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write the int value\n      buffer[index++] = value & 0xff;\n      buffer[index++] = (value >> 8) & 0xff;\n      buffer[index++] = (value >> 16) & 0xff;\n      buffer[index++] = (value >> 24) & 0xff;\n    } else if(value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n      // Encode as double\n      buffer[index++] = BSON.BSON_DATA_NUMBER;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write float\n      writeIEEE754(buffer, value, index, 'little', 52, 8);\n      // Ajust index\n      index = index + 8;\n    } else {\n      // Set long type\n      buffer[index++] = BSON.BSON_DATA_LONG;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      var longVal = Long.fromNumber(value);\n      var lowBits = longVal.getLowBits();\n      var highBits = longVal.getHighBits();\n      // Encode low bits\n      buffer[index++] = lowBits & 0xff;\n      buffer[index++] = (lowBits >> 8) & 0xff;\n      buffer[index++] = (lowBits >> 16) & 0xff;\n      buffer[index++] = (lowBits >> 24) & 0xff;\n      // Encode high bits\n      buffer[index++] = highBits & 0xff;\n      buffer[index++] = (highBits >> 8) & 0xff;\n      buffer[index++] = (highBits >> 16) & 0xff;\n      buffer[index++] = (highBits >> 24) & 0xff;\n    }\n  } else {\n    // Encode as double\n    buffer[index++] = BSON.BSON_DATA_NUMBER;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write float\n    writeIEEE754(buffer, value, index, 'little', 52, 8);\n    // Ajust index\n    index = index + 8;\n  }\n\n  return index;\n}\n\nvar serializeNull = function(buffer, key, value, index, isArray) {\n  // Set long type\n  buffer[index++] = BSON.BSON_DATA_NULL;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n}\n\nvar serializeBoolean = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BOOLEAN;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Encode the boolean value\n  buffer[index++] = value ? 1 : 0;\n  return index;\n}\n\nvar serializeDate = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_DATE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the date\n  var dateInMilis = Long.fromNumber(value.getTime());\n  var lowBits = dateInMilis.getLowBits();\n  var highBits = dateInMilis.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = (lowBits >> 8) & 0xff;\n  buffer[index++] = (lowBits >> 16) & 0xff;\n  buffer[index++] = (lowBits >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = (highBits >> 8) & 0xff;\n  buffer[index++] = (highBits >> 16) & 0xff;\n  buffer[index++] = (highBits >> 24) & 0xff;\n  return index;\n}\n\nvar serializeRegExp = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  if (value.source && value.source.match(regexp) != null) {\n    throw Error(\"value \" + value.source + \" must not contain null bytes\");\n  }\n  // Adjust the index\n  index = index + buffer.write(value.source, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the parameters\n  if(value.global) buffer[index++] = 0x73; // s\n  if(value.ignoreCase) buffer[index++] = 0x69; // i\n  if(value.multiline) buffer[index++] = 0x6d; // m\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n}\n\nvar serializeBSONRegExp = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Check the pattern for 0 bytes\n  if (value.pattern.match(regexp) != null) {\n    // The BSON spec doesn't allow keys with null bytes because keys are\n    // null-terminated.\n    throw Error(\"pattern \" + value.pattern + \" must not contain null bytes\");\n  }\n\n  // Adjust the index\n  index = index + buffer.write(value.pattern, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the options\n  index = index + buffer.write(value.options.split('').sort().join(''), index, 'utf8');\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n}\n\nvar serializeMinMax = function(buffer, key, value, index, isArray) {\n  // Write the type of either min or max key\n  if(value === null) {\n    buffer[index++] = BSON.BSON_DATA_NULL;\n  } else if(value instanceof MinKey) {\n    buffer[index++] = BSON.BSON_DATA_MIN_KEY;\n  } else {\n    buffer[index++] = BSON.BSON_DATA_MAX_KEY;\n  }\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n}\n\nvar serializeObjectId = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_OID;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the objectId into the shared buffer\n  if(typeof value.id == 'string') {\n    buffer.write(value.id, index, 'binary')\n  } else if(value.id && value.id.copy){\n    value.id.copy(buffer, index, 0, 12);\n  } else {\n    throw new Error('object [' + JSON.stringify(value) + \"] is not a valid ObjectId\");\n  }\n\n  // Ajust index\n  return index + 12;\n}\n\nvar serializeBuffer = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Get size of the buffer (current write point)\n  var size = value.length;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = (size >> 8) & 0xff;\n  buffer[index++] = (size >> 16) & 0xff;\n  buffer[index++] = (size >> 24) & 0xff;\n  // Write the default subtype\n  buffer[index++] = BSON.BSON_BINARY_SUBTYPE_DEFAULT;\n  // Copy the content form the binary field to the buffer\n  value.copy(buffer, index, 0, size);\n  // Adjust the index\n  index = index + size;\n  return index;\n}\n\nvar serializeObject = function(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray, path) {\n  for(var i = 0; i < path.length; i++) {\n    if(path[i] === value) throw new Error('cyclic dependency detected');\n  }\n\n  // Push value to stack\n  path.push(value);\n  // Write the type\n  buffer[index++] = Array.isArray(value) ? BSON.BSON_DATA_ARRAY : BSON.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  var endIndex = serializeInto(buffer, value, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path);\n  // Pop stack\n  path.pop();\n  // Write size\n  var size = endIndex - index;\n  return endIndex;\n}\n\nvar serializeDecimal128 = function(buffer, key, value, index, isArray) {\n  buffer[index++] = BSON.BSON_DATA_DECIMAL128;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the data from the value\n  value.bytes.copy(buffer, index, 0, 16);\n  return index + 16;\n}\n\nvar serializeLong = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = value._bsontype == 'Long' ? BSON.BSON_DATA_LONG : BSON.BSON_DATA_TIMESTAMP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the date\n  var lowBits = value.getLowBits();\n  var highBits = value.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = (lowBits >> 8) & 0xff;\n  buffer[index++] = (lowBits >> 16) & 0xff;\n  buffer[index++] = (lowBits >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = (highBits >> 8) & 0xff;\n  buffer[index++] = (highBits >> 16) & 0xff;\n  buffer[index++] = (highBits >> 24) & 0xff;\n  return index;\n}\n\nvar serializeInt32 = function(buffer, key, value, index, isArray) {\n  // Set int type 32 bits or less\n  buffer[index++] = BSON.BSON_DATA_INT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the int value\n  buffer[index++] = value & 0xff;\n  buffer[index++] = (value >> 8) & 0xff;\n  buffer[index++] = (value >> 16) & 0xff;\n  buffer[index++] = (value >> 24) & 0xff;\n  return index;\n}\n\nvar serializeDouble = function(buffer, key, value, index, isArray) {\n  // Encode as double\n  buffer[index++] = BSON.BSON_DATA_NUMBER;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write float\n  writeIEEE754(buffer, value, index, 'little', 52, 8);\n  // Ajust index\n  index = index + 8;\n  return index;\n}\n\nvar serializeFunction = function(buffer, key, value, index, checkKeys, depth, isArray) {\n  buffer[index++] = BSON.BSON_DATA_CODE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Function string\n  var functionString = value.toString();\n  // Write the string\n  var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = (size >> 8) & 0xff;\n  buffer[index + 2] = (size >> 16) & 0xff;\n  buffer[index + 3] = (size >> 24) & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n}\n\nvar serializeCode = function(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray) {\n  if(value.scope && typeof value.scope == 'object') {\n    // Write the type\n    buffer[index++] = BSON.BSON_DATA_CODE_W_SCOPE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Starting index\n    var startIndex = index;\n\n    // Serialize the function\n    // Get the function string\n    var functionString = typeof value.code == 'string' ? value.code : value.code.toString();\n    // Index adjustment\n    index = index + 4;\n    // Write string into buffer\n    var codeSize = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = codeSize & 0xff;\n    buffer[index + 1] = (codeSize >> 8) & 0xff;\n    buffer[index + 2] = (codeSize >> 16) & 0xff;\n    buffer[index + 3] = (codeSize >> 24) & 0xff;\n    // Write end 0\n    buffer[index + 4 + codeSize - 1] = 0;\n    // Write the\n    index = index + codeSize + 4;\n\n    //\n    // Serialize the scope value\n    var endIndex = serializeInto(buffer, value.scope, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined)\n    index = endIndex - 1;\n\n    // Writ the total\n    var totalSize = endIndex - startIndex;\n\n    // Write the total size of the object\n    buffer[startIndex++] = totalSize & 0xff;\n    buffer[startIndex++] = (totalSize >> 8) & 0xff;\n    buffer[startIndex++] = (totalSize >> 16) & 0xff;\n    buffer[startIndex++] = (totalSize >> 24) & 0xff;\n    // Write trailing zero\n    buffer[index++] = 0;\n  } else {\n    buffer[index++] = BSON.BSON_DATA_CODE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Function string\n    var functionString = value.code.toString();\n    // Write the string\n    var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = (size >> 8) & 0xff;\n    buffer[index + 2] = (size >> 16) & 0xff;\n    buffer[index + 3] = (size >> 24) & 0xff;\n    // Update index\n    index = index + 4 + size - 1;\n    // Write zero\n    buffer[index++] = 0;\n  }\n\n  return index;\n}\n\nvar serializeBinary = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Extract the buffer\n  var data = value.value(true);\n  // Calculate size\n  var size = value.position;\n  // Add the deprecated 02 type 4 bytes of size to total\n  if(value.sub_type == Binary.SUBTYPE_BYTE_ARRAY) size = size + 4;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = (size >> 8) & 0xff;\n  buffer[index++] = (size >> 16) & 0xff;\n  buffer[index++] = (size >> 24) & 0xff;\n  // Write the subtype to the buffer\n  buffer[index++] = value.sub_type;\n\n  // If we have binary type 2 the 4 first bytes are the size\n  if(value.sub_type == Binary.SUBTYPE_BYTE_ARRAY) {\n    size = size - 4;\n    buffer[index++] = size & 0xff;\n    buffer[index++] = (size >> 8) & 0xff;\n    buffer[index++] = (size >> 16) & 0xff;\n    buffer[index++] = (size >> 24) & 0xff;\n  }\n\n  // Write the data to the object\n  data.copy(buffer, index, 0, value.position);\n  // Adjust the index\n  index = index + value.position;\n  return index;\n}\n\nvar serializeSymbol = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_SYMBOL;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the string\n  var size = buffer.write(value.value, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = (size >> 8) & 0xff;\n  buffer[index + 2] = (size >> 16) & 0xff;\n  buffer[index + 3] = (size >> 24) & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0x00;\n  return index;\n}\n\nvar serializeDBRef = function(buffer, key, value, index, depth, serializeFunctions, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  var startIndex = index;\n  var endIndex;\n\n  // Serialize object\n  if(null != value.db) {\n    endIndex = serializeInto(buffer, {\n        '$ref': value.namespace\n      , '$id' : value.oid\n      , '$db' : value.db\n    }, false, index, depth + 1, serializeFunctions);\n  } else {\n    endIndex = serializeInto(buffer, {\n        '$ref': value.namespace\n      , '$id' : value.oid\n    }, false, index, depth + 1, serializeFunctions);\n  }\n\n  // Calculate object size\n  var size = endIndex - startIndex;\n  // Write the size\n  buffer[startIndex++] = size & 0xff;\n  buffer[startIndex++] = (size >> 8) & 0xff;\n  buffer[startIndex++] = (size >> 16) & 0xff;\n  buffer[startIndex++] = (size >> 24) & 0xff;\n  // Set index\n  return endIndex;\n}\n\nvar serializeInto = function serializeInto(buffer, object, checkKeys, startingIndex, depth, serializeFunctions, ignoreUndefined, path) {\n  startingIndex = startingIndex || 0;\n  path = path || [];\n\n  // Push the object to the path\n  path.push(object);\n\n  // Start place to serialize into\n  var index = startingIndex + 4;\n  var self = this;\n\n  // Special case isArray\n  if(Array.isArray(object)) {\n    // Get object keys\n    for(var i = 0; i < object.length; i++) {\n      var key = \"\" + i;\n      var value = object[i];\n\n      // Is there an override value\n      if(value && value.toBSON) {\n        if(typeof value.toBSON != 'function') throw new Error(\"toBSON is not a function\");\n        value = value.toBSON();\n      }\n\n      var type = typeof value;\n      if(type == 'string') {\n        index = serializeString(buffer, key, value, index, true);\n      } else if(type == 'number') {\n        index = serializeNumber(buffer, key, value, index, true);\n      } else if(type == 'boolean') {\n        index = serializeBoolean(buffer, key, value, index, true);\n      } else if(value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index, true);\n      } else if(value === undefined) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if(value === null) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index, true);\n      } else if(Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index, true);\n      } else if(value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index, true);\n      } else if(type == 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true, path);\n      } else if(type == 'object' && value['_bsontype'] == 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'Long' || value['_bsontype'] == 'Timestamp') {\n        index = serializeLong(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'Double') {\n        index = serializeDouble(buffer, key, value, index, true);\n      } else if(typeof value == 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions, true);\n      } else if(value['_bsontype'] == 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true);\n      } else if(value['_bsontype'] == 'Binary') {\n        index = serializeBinary(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, true);\n      } else if(value['_bsontype'] == 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'Int32') {\n        index = serializeInt32(buffer, key, value, index, true);\n      } else if(value['_bsontype'] == 'MinKey' || value['_bsontype'] == 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index, true);\n      }\n    }\n  } else if(object instanceof Map) {\n    var iterator = object.entries();\n    var done = false;\n\n    while(!done) {\n      // Unpack the next entry\n      var entry = iterator.next();\n      done = entry.done;\n      // Are we done, then skip and terminate\n      if(done) continue;\n\n      // Get the entry values\n      var key = entry.value[0];\n      var value = entry.value[1];\n\n      // Check the type of the value\n      var type = typeof value;\n\n      // Check the key and throw error if it's illegal\n      if(key != '$db' && key != '$ref' && key != '$id') {\n        if (key.match(regexp) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error(\"key \" + key + \" must not contain null bytes\");\n        }\n\n        if (checkKeys) {\n          if('$' == key[0]) {\n            throw Error(\"key \" + key + \" must not start with '$'\");\n          } else if (!!~key.indexOf('.')) {\n            throw Error(\"key \" + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if(type == 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if(type == 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if(type == 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if(value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if(value === undefined && ignoreUndefined == true) {\n      } else if(value === null || value === undefined) {\n        index = serializeNull(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if(Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if(value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if(type == 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if(type == 'object' && value['_bsontype'] == 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Long' || value['_bsontype'] == 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if(typeof value == 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if(value['_bsontype'] == 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if(value['_bsontype'] == 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'MinKey' || value['_bsontype'] == 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  } else {\n    // Did we provide a custom serialization method\n    if(object.toBSON) {\n      if(typeof object.toBSON != 'function') throw new Error(\"toBSON is not a function\");\n      object = object.toBSON();\n      if(object != null && typeof object != 'object') throw new Error(\"toBSON function did not return an object\");\n    }\n\n    // Iterate over all the keys\n    for(var key in object) {\n      var value = object[key];\n      // Is there an override value\n      if(value && value.toBSON) {\n        if(typeof value.toBSON != 'function') throw new Error(\"toBSON is not a function\");\n        value = value.toBSON();\n      }\n\n      // Check the type of the value\n      var type = typeof value;\n\n      // Check the key and throw error if it's illegal\n      if(key != '$db' && key != '$ref' && key != '$id') {\n        if (key.match(regexp) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error(\"key \" + key + \" must not contain null bytes\");\n        }\n\n        if (checkKeys) {\n          if('$' == key[0]) {\n            throw Error(\"key \" + key + \" must not start with '$'\");\n          } else if (!!~key.indexOf('.')) {\n            throw Error(\"key \" + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if(type == 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if(type == 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if(type == 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if(value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if(value === undefined && ignoreUndefined == true) {\n      } else if(value === null || value === undefined) {\n        index = serializeNull(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if(Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if(value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if(type == 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if(type == 'object' && value['_bsontype'] == 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Long' || value['_bsontype'] == 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if(typeof value == 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if(value['_bsontype'] == 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if(value['_bsontype'] == 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if(value['_bsontype'] == 'MinKey' || value['_bsontype'] == 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  }\n\n  // Remove the path\n  path.pop();\n\n  // Final padding byte for object\n  buffer[index++] = 0x00;\n\n  // Final size\n  var size = index - startingIndex;\n  // Write the size of the object\n  buffer[startingIndex++] = size & 0xff;\n  buffer[startingIndex++] = (size >> 8) & 0xff;\n  buffer[startingIndex++] = (size >> 16) & 0xff;\n  buffer[startingIndex++] = (size >> 24) & 0xff;\n  return index;\n}\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\nvar functionCache = BSON.functionCache = {};\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type, deprecated\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7FFFFFFF;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000;  // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000;  // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\nvar JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000);  // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000);  // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = serializeInto;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/parser/serializer.js","/* global window, document, fetch */\n\nimport { createStorage } from './storage';\nimport { createProviders, PROVIDER_TYPE_MONGODB_CLOUD } from './providers';\nimport { StitchError } from '../errors';\nimport * as authCommon from './common';\nimport * as common from '../common';\nimport * as _platform from 'detect-browser';\n\nconst jwtDecode = require('jwt-decode');\n\nconst EMBEDDED_USER_AUTH_DATA_PARTS = 4;\n\n/** @private */\nexport class AuthFactory {\n  constructor() {\n    throw new StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  static create(client, rootUrl, options) {\n    return newAuth(client, rootUrl, options);\n  }\n}\n\n/** @private */\nexport function newAuth(client, rootUrl, options) {\n  let auth = Object.create(Auth.prototype);\n  let namespace;\n  if (!client || client.clientAppID === '') {\n    namespace = 'admin';\n  } else {\n    namespace = `client.${client.clientAppID}`;\n  }\n\n  options = Object.assign({\n    codec: authCommon.APP_CLIENT_CODEC,\n    namespace: namespace,\n    storageType: 'localStorage'\n  }, options);\n\n  auth.client = client;\n  auth.rootUrl = rootUrl;\n  auth.codec = options.codec;\n  auth.platform = options.platform || _platform;\n  auth.storage = createStorage(options);\n  auth.providers = createProviders(auth, options);\n\n  return Promise.all([\n    auth._get(),\n    auth.storage.get(authCommon.REFRESH_TOKEN_KEY),\n    auth.storage.get(authCommon.USER_LOGGED_IN_PT_KEY),\n    auth.storage.get(authCommon.DEVICE_ID_KEY)\n  ]).then(([authObj, rt, loggedInProviderType, deviceId]) => {\n    auth.auth = authObj;\n    auth.authedId = authObj.userId;\n    auth.rt = rt;\n    auth.loggedInProviderType = loggedInProviderType;\n    auth.deviceId = deviceId;\n\n    return auth;\n  });\n}\n\n/** @private */\nexport class Auth {\n  constructor(client, rootUrl, options) {\n    throw new StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  /**\n   * Create the device info for this client.\n   *\n   * @private\n   * @memberof module:auth\n   * @method getDeviceInfo\n   * @param {String} appId The app ID for this client\n   * @param {String} appVersion The version of the app\n   * @returns {Object} The device info object\n   */\n  getDeviceInfo(deviceId, appId, appVersion = '') {\n    const deviceInfo = { appId, appVersion, sdkVersion: common.SDK_VERSION };\n\n    if (deviceId) {\n      deviceInfo.deviceId = deviceId;\n    }\n\n    if (this.platform) {\n      deviceInfo.platform = this.platform.name;\n      deviceInfo.platformVersion = this.platform.version;\n    }\n\n    return deviceInfo;\n  }\n\n  provider(name) {\n    if (!this.providers.hasOwnProperty(name)) {\n      throw new Error('Invalid auth provider specified: ' + name);\n    }\n\n    return this.providers[name];\n  }\n\n  refreshToken() {\n    return this.client.doSessionPost()\n      .then((json) => this.set(json));\n  }\n\n  pageRootUrl() {\n    return [window.location.protocol, '//', window.location.host, window.location.pathname].join('');\n  }\n\n  error() {\n    return this._error;\n  }\n\n  isAppClient() {\n    if (!this.client) {\n      return true; // Handle the case where Auth is constructed with null\n    }\n    return this.client.type === common.APP_CLIENT_TYPE;\n  }\n\n  handleRedirect() {\n    if (typeof (window) === 'undefined') {\n      // This means we're running in some environment other\n      // than a browser - so handling a redirect makes no sense here.\n      return;\n    }\n    if (!window.location || !window.location.hash) {\n      return;\n    }\n\n    return Promise.all([\n      this.storage.get(authCommon.STATE_KEY),\n      this.storage.get(authCommon.STITCH_REDIRECT_PROVIDER)\n    ]).then(([ourState, redirectProvider]) => {\n      let redirectFragment = window.location.hash.substring(1);\n      const redirectState = this.parseRedirectFragment(redirectFragment, ourState);\n      if (redirectState.lastError || (redirectState.found && !redirectProvider)) {\n        console.error(`StitchClient: error from redirect: ${redirectState.lastError ?\n          redirectState.lastError : 'provider type not set'}`);\n        this._error = redirectState.lastError;\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return Promise.reject();\n      }\n\n      if (!redirectState.found) {\n        return Promise.reject();\n      }\n\n      return Promise.all(\n        [\n          this.storage.remove(authCommon.STATE_KEY),\n          this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)\n        ]\n      ).then(() => ({redirectState, redirectProvider}));\n    }).then(({redirectState, redirectProvider}) => {\n      if (!redirectState.stateValid) {\n        console.error('StitchClient: state values did not match!');\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return;\n      }\n\n      if (!redirectState.ua) {\n        console.error('StitchClient: no UA value was returned from redirect!');\n        return;\n      }\n\n      // If we get here, the state is valid - set auth appropriately.\n      return this.set(redirectState.ua, redirectProvider);\n    }).then(() => window.history.replaceState(null, '', this.pageRootUrl()))\n      .catch(error => {\n        if (error) {\n          throw error;\n        }\n      });\n  }\n\n  getCookie(name) {\n    let splitCookies = document.cookie.split(' ');\n    for (let i = 0; i < splitCookies.length; i++) {\n      let cookie = splitCookies[i];\n      let sepIdx = cookie.indexOf('=');\n      let cookieName = cookie.substring(0, sepIdx);\n      if (cookieName === name) {\n        let cookieVal = cookie.substring(sepIdx + 1, cookie.length);\n        if (cookieVal[cookieVal.length - 1] === ';') {\n          return cookieVal.substring(0, cookie.length - 1);\n        }\n        return cookieVal;\n      }\n    }\n  }\n\n  handleCookie() {\n    if (typeof (window) === 'undefined' || typeof (document) === 'undefined') {\n      // This means we're running in some environment other\n      // than a browser - so handling a cookie makes no sense here.\n      return;\n    }\n    if (!document.cookie) {\n      return;\n    }\n\n    let uaCookie = this.getCookie(authCommon.USER_AUTH_COOKIE_NAME);\n    if (!uaCookie) {\n      return;\n    }\n\n    document.cookie = `${authCommon.USER_AUTH_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT;`;\n    const userAuth = this.unmarshallUserAuth(uaCookie);\n    return this.set(userAuth, PROVIDER_TYPE_MONGODB_CLOUD).then(() =>\n      window.history.replaceState(null, '', this.pageRootUrl())\n    );\n  }\n\n  clear() {\n    this.auth = null;\n    this.authedId = null;\n    this.rt = null;\n    this.loggedInProviderType = null;\n\n    return Promise.all(\n      [\n        this.storage.remove(authCommon.USER_AUTH_KEY),\n        this.storage.remove(authCommon.REFRESH_TOKEN_KEY),\n        this.storage.remove(authCommon.USER_LOGGED_IN_PT_KEY),\n        this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)\n      ]\n    );\n  }\n\n  getDeviceId() {\n    return this.deviceId;\n  }\n\n  // Returns whether or not the access token is expired or is going to expire within 'withinSeconds'\n  // seconds, according to current system time. Returns false if the token is malformed in any way.\n  isAccessTokenExpired(withinSeconds = authCommon.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS) {\n    const token = this.getAccessToken();\n    if (!token) {\n      return false;\n    }\n\n    let decodedToken;\n    try {\n      decodedToken = jwtDecode(token);\n    } catch (e) {\n      return false;\n    }\n\n    if (!decodedToken) {\n      return false;\n    }\n\n    return decodedToken.exp && Math.floor(Date.now() / 1000) >= decodedToken.exp - withinSeconds;\n  }\n\n  getAccessToken() {\n    return this.auth.accessToken;\n  }\n\n  getRefreshToken() {\n    return this.rt;\n  }\n\n  set(json, authType = '') {\n    if (!json) {\n      return;\n    }\n\n    let newUserAuth = {};\n    let setters = [];\n\n    if (authType) {\n      this.loggedInProviderType = authType;\n      setters.push(this.storage.set(authCommon.USER_LOGGED_IN_PT_KEY, authType));\n    }\n\n    if (json[this.codec.refreshToken]) {\n      this.rt = json[this.codec.refreshToken];\n      delete json[this.codec.refreshToken];\n      setters.push(this.storage.set(authCommon.REFRESH_TOKEN_KEY, this.rt));\n    }\n\n    if (json[this.codec.deviceId]) {\n      this.deviceId = json[this.codec.deviceId];\n      delete json[this.codec.deviceId];\n      setters.push(this.storage.set(authCommon.DEVICE_ID_KEY, this.deviceId));\n    }\n\n    // Merge in new fields with old fields. Typically the first json value\n    // is complete with every field inside a user auth, but subsequent requests\n    // do not include everything. This merging behavior is safe so long as json\n    // value responses with absent fields do not indicate that the field should\n    // be unset.\n    if (json[this.codec.accessToken]) {\n      newUserAuth.accessToken = json[this.codec.accessToken];\n    }\n    if (json[this.codec.userId]) {\n      newUserAuth.userId = json[this.codec.userId];\n    }\n\n    this.auth = Object.assign(this.auth ? this.auth : {}, newUserAuth);\n    this.authedId = this.auth.userId;\n    setters.push(this.storage.set(authCommon.USER_AUTH_KEY, JSON.stringify(this.auth)));\n    return Promise.all(setters).then(() => this.auth);\n  }\n\n  _get() {\n    return this.storage.get(authCommon.USER_AUTH_KEY).then((data) => {\n      if (!data) {\n        return {};\n      }\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        // Need to back out and clear auth otherwise we will never\n        // be able to do anything useful.\n        return this.clear().then(() => {\n          throw new StitchError('Failure retrieving stored auth');\n        });\n      }\n    });\n  }\n\n  getLoggedInProviderType() {\n    return this.loggedInProviderType;\n  }\n\n  parseRedirectFragment(fragment, ourState) {\n    // After being redirected from oauth, the URL will look like:\n    // https://todo.examples.stitch.mongodb.com/#_stitch_state=...&_stitch_ua=...\n    // This function parses out stitch-specific tokens from the fragment and\n    // builds an object describing the result.\n    const vars = fragment.split('&');\n    const result = { ua: null, found: false, stateValid: false, lastError: null };\n    let shouldBreak = false;\n    for (let i = 0; i < vars.length && !shouldBreak; ++i) {\n      const pairParts = vars[i].split('=');\n      const pairKey = decodeURIComponent(pairParts[0]);\n      switch (pairKey) {\n      case authCommon.STITCH_ERROR_KEY:\n        result.lastError = decodeURIComponent(pairParts[1]);\n        result.found = true;\n        shouldBreak = true;\n        break;\n      case authCommon.USER_AUTH_KEY:\n        try {\n          result.ua = this.unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n          result.found = true;\n        } catch (e) {\n          result.lastError = e;\n        }\n        continue;\n      case authCommon.STITCH_LINK_KEY:\n        result.found = true;\n        continue;\n      case authCommon.STATE_KEY:\n        result.found = true;\n        let theirState = decodeURIComponent(pairParts[1]);\n        if (ourState && ourState === theirState) {\n          result.stateValid = true;\n        }\n        continue;\n      default: continue;\n      }\n    }\n\n    return result;\n  }\n\n  unmarshallUserAuth(data) {\n    let parts = data.split('$');\n    if (parts.length !== EMBEDDED_USER_AUTH_DATA_PARTS) {\n      throw new RangeError('invalid user auth data provided: ' + data);\n    }\n\n    return {\n      [this.codec.accessToken]: parts[0],\n      [this.codec.refreshToken]: parts[1],\n      [this.codec.userId]: parts[2],\n      [this.codec.deviceId]: parts[3]\n    };\n  }\n\n  fetchArgsWithLink(fetchArgs, link) {\n    if (link) {\n      fetchArgs.headers.Authorization = `Bearer ${this.getAccessToken()}`;\n    }\n\n    return fetchArgs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/index.js","import { USER_AUTH_KEY, REFRESH_TOKEN_KEY, DEVICE_ID_KEY, STATE_KEY } from './common';\n\nexport class MemoryStorage {\n  constructor() {\n    this._data = {};\n    this._orderedKeys = [];\n    this.length = 0;\n  }\n\n  getItem(key) {\n    return (key in this._data) ? this._data[key] : null;\n  }\n\n  setItem(key, value) {\n    this._orderedKeys.push(key);\n    this._data[key] = value;\n    this.length++;\n    return this._data[key];\n  }\n\n  removeItem(key) {\n    this._orderedKeys.pop(key);\n    delete this._data[key];\n    this.length--;\n    return undefined;\n  }\n\n  key(index) {\n    return this._orderedKeys[index];\n  }\n}\n\nconst _VERSION = 1;\nconst _VERSION_KEY = '__stitch_storage_version__';\n\n/**\n  * Run a migration on the currently used storage\n  * that checks to see if the current version is up to date.\n  * If the version has not been set, this method will migrate\n  * to the latest version.\n  *\n  * @private\n  * @param {Integer} version version number of storage\n  * @param {Object} storage storage class being checked\n  * @returns {Promise} nullable promise containing migration logic\n  */\nfunction _runMigration(version, storage) {\n  switch (version) {\n  case null:\n  case undefined:\n    // return a promise,\n    // mapping each of the store's keys to a Promise\n    // that fetches the each value for each key,\n    // sets the old value to the new \"namespaced\" key\n    // remove the old key value pair,\n    // and set the version number\n    let migrations = [\n      USER_AUTH_KEY,\n      REFRESH_TOKEN_KEY,\n      DEVICE_ID_KEY,\n      STATE_KEY\n    ].map(key =>\n      Promise.resolve(storage.store.getItem(key))\n        .then(item => !!item && storage.store.setItem(storage._generateKey(key), item))\n        .then(() => storage.store.removeItem(key))\n    );\n    return Promise.all(migrations)\n      .then(() => storage.store.setItem(_VERSION_KEY, _VERSION));\n  // in future versions, `case 1:`, `case 2:` and so on\n  // could be added to perform similar migrations\n  default: break;\n  }\n}\n\n/** @private */\nclass Storage {\n  /**\n   * @param {Storage} store implementer of Storage interface\n   * @param {String} namespace clientAppID to be used for namespacing\n   * @param\n  */\n  constructor(store, namespace) {\n    this.store = store;\n    this.namespace = `_stitch.${namespace}`;\n\n    this._migration = Promise.resolve(this.store.getItem(_VERSION_KEY))\n      .then(version => _runMigration(version, this));\n  }\n\n  _generateKey(key) {\n    return `${this.namespace}.${key}`;\n  }\n\n  get(key) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.getItem(this._generateKey(key)));\n  }\n\n  set(key, value) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.setItem(this._generateKey(key), value))\n      .then(() => value);\n  }\n\n  remove(key) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.removeItem(this._generateKey(key)));\n  }\n}\n\nexport function createStorage(options) {\n  let { storageType, storage, namespace } = options;\n\n  if (storageType === 'localStorage') {\n    if ((typeof window !== 'undefined') && 'localStorage' in window && window.localStorage !== null) {\n      return new Storage(window.localStorage, namespace);\n    }\n  } else if (storageType === 'sessionStorage') {\n    if ((typeof window !== 'undefined') && 'sessionStorage' in window && window.sessionStorage !== null) {\n      return new Storage(window.sessionStorage, namespace);\n    }\n  } else if (storageType == 'customStorage') { //eslint-disable-line eqeqeq\n    return new Storage(storage, namespace);\n  }\n\n  // default to memory storage\n  return new Storage(new MemoryStorage(), namespace);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/storage.js","import { StitchClientFactory } from './client';\nimport { StitchAdminClientFactory } from './admin';\nimport { BSON } from 'mongodb-extjson';\n\nexport {\n  StitchClientFactory,\n  StitchAdminClientFactory,\n  BSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper around AWS S3 service (not meant to be instantiated directly,\n * use `.service('aws-s3', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {S3Service} a S3Service instance.\n */\nclass S3Service {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Put an object to S3 via Stitch. For small uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @param {String|BSON.Binary} body the content to put in the bucket\n   * @return {Promise} which resolves to an object containing a single field \"location\"\n   *                   which is the URL of the object that was put into the S3 bucket\n   */\n  put(bucket, key, acl, contentType, body) {\n    return serviceResponse(this, {\n      action: 'put',\n      args: { bucket, key, acl, contentType, body }\n    });\n  }\n\n  /**\n   * Sign a policy for putting via Stitch. For large uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @return {Promise}\n   */\n  signPolicy(bucket, key, acl, contentType) {\n    return serviceResponse(this, {\n      action: 'signPolicy',\n      args: { bucket, key, acl, contentType }\n    });\n  }\n}\n\nexport default S3Service;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/aws/s3_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper around AWS SES service (not meant to be instantiated directly,\n * use `.service('aws-ses', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {SESService} a SESService instance.\n */\nclass SESService {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send an email\n   *\n   * @method\n   * @param {String} fromAddress the email to send from\n   * @param {String} toAddress the email to send to\n   * @param {String} subject the subject of the email\n   * @param {String} body the body of the email\n   * @return {Promise} resolving to an object which contains the single string field\n   *                   \"messageId\", which is the SES message ID for the email message.\n   */\n  send(fromAddress, toAddress, subject, body) {\n    return serviceResponse(this, {\n      action: 'send',\n      args: { fromAddress, toAddress, subject, body }\n    });\n  }\n}\n\nexport default SESService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/aws/ses_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper for HTTP service (not meant to be instantiated directly,\n * use `.service('http', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {HTTPService} a HTTPService instance.\n */\nclass HTTPService {\n  constructor(client, serviceName) {\n    this.client = client;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a GET request to a resource (result must be application/json)\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of GET args\n   * @param {Object} [options] optional settings for the GET operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  get(urlOrOptions, options = {}) {\n    return buildResponse('get', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a POST request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of POST args\n   * @param {Object} [options] optional settings for the POST operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  post(urlOrOptions, options = {}) {\n    return buildResponse('post', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a PUT request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of PUT args\n   * @param {Object} [options] optional settings for the PUT operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  put(urlOrOptions, options = {}) {\n    return buildResponse('put', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a PATCH request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of PATCH args\n   * @param {Object} [options] optional settings for the PATCH operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  patch(urlOrOptions, options = {}) {\n    return buildResponse('patch', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a DELETE request to a resource\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of DELETE args\n   * @param {Object} [options] optional settings for the DELETE operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  delete(urlOrOptions, options = {}) {\n    return buildResponse('delete', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a HEAD request to a resource\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of HEAD args\n   * @param {Object} [options] optional settings for the HEAD operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  head(urlOrOptions, options = {}) {\n    return buildResponse('head', this, buildArgs(urlOrOptions, options));\n  }\n}\n\nfunction buildArgs(urlOrOptions, options) {\n  let args;\n  if (typeof urlOrOptions !== 'string') {\n    args = urlOrOptions;\n  } else {\n    args = { url: urlOrOptions };\n    if (!!options.authUrl) args.authUrl = options.authUrl;\n  }\n\n  return args;\n}\n\nfunction buildResponse(action, service, args) {\n  return serviceResponse(service, {\n    action,\n    args\n  });\n}\n\nexport default HTTPService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/http/http_service.js","import S3Service from './aws/s3_service';\nimport SESService from './aws/ses_service';\nimport HTTPService from './http/http_service';\nimport MongoDBService from './mongodb/mongodb_service';\nimport TwilioService from './twilio/twilio_service';\n\nexport default {\n  'aws-s3': S3Service,\n  'aws-ses': SESService,\n  'http': HTTPService,\n  'mongodb': MongoDBService,\n  'twilio': TwilioService\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","import { serviceResponse } from '../../util';\n\n/**\n * Creates a new Collection instance (not meant to be instantiated directly,\n * use `.collection()` on a {@link DB} instance).\n *\n * @class\n * @return {Collection} a Collection instance.\n */\nclass Collection {\n  /**\n   * @hideconstructor\n   */\n  constructor(db, name) {\n    this.db = db;\n    this.name = name;\n  }\n\n  /**\n   * Inserts a single document.\n   *\n   * @method\n   * @param {Object} doc The document to insert.\n   * @return {Promise<Object, Error>} a Promise for the operation.\n   */\n  insertOne(doc) {\n    const args = { document: doc };\n    return buildResponse('insertOne', this, buildArgs(this, args));\n  }\n\n  /**\n   * Inserts multiple documents.\n   *\n   * @method\n   * @param {Array} docs The documents to insert.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  insertMany(docs) {\n    const args = { documents: Array.isArray(docs) ? docs : [ docs ] };\n    return buildResponse('insertMany', this, buildArgs(this, args));\n  }\n\n  /**\n   * Deletes a single document.\n   *\n   * @method\n   * @param {Object} query The query used to match a single document.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  deleteOne(query) {\n    return buildResponse('deleteOne', this, buildArgs(this, { query }));\n  }\n\n  /**\n   * Deletes all documents matching query.\n   *\n   * @method\n   * @param {Object} query The query used to match the documents to delete.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  deleteMany(query) {\n    return buildResponse('deleteMany', this, buildArgs(this, { query }));\n  }\n\n  /**\n   * Updates a single document.\n   *\n   * @method\n   * @param {Object} query The query used to match a single document.\n   * @param {Object} update The update operations to perform on the matching document.\n   * @param {Object} [options] Additional options object.\n   * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n   * @return {Promise<Object, Error>} A Promise for the operation.\n   */\n  updateOne(query, update, options = {}) {\n    return updateOp(this, false, query, update, options);\n  }\n\n  /**\n   * Updates multiple documents.\n   *\n   * @method\n   * @param {Object} query The query used to match the documents.\n   * @param {Object} update The update operations to perform on the matching documents.\n   * @param {Object} [options] Additional options object.\n   * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  updateMany(query, update) {\n    return updateOp(this, true, query, update);\n  }\n\n  /**\n   * Finds documents.\n   *\n   * @method\n   * @param {Object} query The query used to match documents.\n   * @param {Object} [project] The query document projection.\n   * @return {MongoQuery} An object which allows for `limit` and `sort` parameters to be set.\n   * `execute` will return a {Promise} for the operation.\n   */\n  find(query, project) {\n    return new MongoQuery(this, query, project);\n  }\n\n  /**\n   * Finds one document.\n   *\n   * @method\n   * @param {Object} query The query used to match documents.\n   * @param {Object} [project] The query document projection.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation\n   */\n  findOne(query, project) {\n    return buildResponse('findOne', this, buildArgs(this, { query, project }));\n  }\n\n  /**\n   * Executes an aggregation pipeline.\n   *\n   * @param {Array} pipeline The aggregation pipeline.\n   * @returns {Array} The results of the aggregation.\n   */\n  aggregate(pipeline) {\n    return aggregateOp(this, pipeline);\n  }\n\n  /**\n   * Gets the number of documents matching the filter.\n   *\n   * @param {Object} query The query used to match documents.\n   * @param {Object} options Additional count options.\n   * @param {Number} [options.limit=null] The maximum number of documents to return.\n   * @return {Number} The results of the count operation.\n   */\n  count(query, options = {}) {\n    let outgoingOptions;\n    if (options.limit) {\n      outgoingOptions = { limit: options.limit };\n    }\n\n    return buildResponse('count', this, buildArgs(this, { count: true, query }, outgoingOptions));\n  }\n}\n\n// private\n\nfunction updateOp(service, isMulti, query, update, options = {}) {\n  const action = isMulti ? 'updateMany' : 'updateOne';\n\n  let outgoingOptions;\n  if (!isMulti && options.upsert) {\n    outgoingOptions = { upsert: true };\n  }\n\n  return buildResponse(action, service, buildArgs(service, { query, update }, outgoingOptions));\n}\n\nfunction findOp({ service, query, project, limit, sort }) {\n  return buildResponse('find', service, buildArgs(service, { query, project, limit, sort }));\n}\n\nfunction aggregateOp(service, pipeline) {\n  return buildResponse('aggregate', service, buildArgs(service, { pipeline }));\n}\n\nfunction buildArgs({ db: { name: database }, name: collection }, args, options = {}) {\n  return Object.assign(\n    { database, collection },\n    args,\n    options\n  );\n}\n\nfunction buildResponse(action, service, args) {\n  return serviceResponse(service.db, {\n    serviceName: service.db.service,\n    action,\n    args\n  });\n}\n\n// mongo query (find) support\n\nfunction MongoQuery(service, query, project) {\n  if (this instanceof MongoQuery) {\n    this.service = service;\n    this.query = query;\n    this.project = project;\n    return this;\n  }\n  return new MongoQuery(service, query, project);\n}\n\nMongoQuery.prototype.limit = function(limit) {\n  this.limit = limit;\n  return this;\n};\n\nMongoQuery.prototype.sort = function(sort) {\n  this.sort = sort;\n  return this;\n};\n\nMongoQuery.prototype.execute = function(resolve) {\n  return findOp(this);\n};\n\nexport default Collection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/collection.js","import Collection from './collection';\n\n/**\n * Creates a new DB instance (not meant to be instantiated directly, use `.db()` on\n * a {@link MongoDBService} instance).\n * @class\n * @return {DB} a DB instance.\n */\nclass DB {\n  /**\n   * @hideconstructor\n   */\n  constructor(client, service, name) {\n    this.client = client;\n    this.service = service;\n    this.name = name;\n  }\n\n  /**\n   * Returns a Collection instance representing a MongoDB Collection object.\n   *\n   * @method\n   * @param {String} name The collection name.\n   * @param {Object} [options] Additional options.\n   * @return {Collection} returns a Collection instance representing a MongoDb collection.\n   */\n  collection(name, options = {}) {\n    return new Collection(this, name, options);\n  }\n}\n\nexport default DB;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/db.js","import DB from './db';\n\n/**\n * Creates a new MongoDBService instance (not meant to be instantiated directly, use\n * `.service('mongodb', '<service-name>')` on a {@link StitchClient} instance.\n *\n * @class\n * @return {MongoDBService} a MongoDBService instance.\n */\nclass MongoDBService {\n  /**\n   * @hideconstructor\n   */\n  constructor(stitchClient, serviceName) {\n    this.stitchClient = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Get a DB instance\n   *\n   * @method\n   * @param {String} databaseName The MongoDB database name\n   * @param {Object} [options] Additional options.\n   * @return {DB} returns a DB instance representing a MongoDB database.\n   */\n  db(databaseName, options = {}) {\n    return new DB(this.stitchClient, this.serviceName, databaseName);\n  }\n}\n\n\nexport default MongoDBService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/mongodb_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Create a new TwilioService instance (not meant to be instantiated directly,\n * use `.service('twilio', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {TwilioService} a TwilioService instance.\n */\nclass TwilioService {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a text message to a number\n   *\n   * @method\n   * @param {String} from number to send from\n   * @param {String} to number to send to\n   * @param {String} body SMS body content\n   * @return {Promise} which resolves to 'null' when message is sent successfully,\n   *                   or is rejected when there is an error\n   */\n  send(from, to, body) {\n    return serviceResponse(this, {\n      action: 'send',\n      args: { from, to, body }\n    });\n  }\n}\n\nexport default TwilioService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/twilio/twilio_service.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/index.js\n// module id = 43\n// module chunks = 0","var detectBrowser = require('./lib/detectBrowser');\n\nvar agent;\n\nif (typeof navigator !== 'undefined' && navigator) {\n  agent = navigator.userAgent;\n}\n\nmodule.exports = detectBrowser(agent);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/browser.js\n// module id = 44\n// module chunks = 0","var detectOS = require('./detectOS.js');\n\nmodule.exports = function detectBrowser(userAgentString) {\n  if (!userAgentString) return null;\n\n  var browsers = [\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ]\n  ];\n\n  return browsers.map(function (rule) {\n      if (rule[1].test(userAgentString)) {\n          var match = rule[1].exec(userAgentString);\n          var version = match && match[1].split(/[._]/).slice(0,3);\n\n          if (version && version.length < 3) {\n              Array.prototype.push.apply(version, (version.length == 1) ? [0, 0] : [0]);\n          }\n\n          return {\n              name: rule[0],\n              version: version.join('.'),\n              os: detectOS(userAgentString)\n          };\n      }\n  }).filter(Boolean).shift();\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/lib/detectBrowser.js\n// module id = 45\n// module chunks = 0","module.exports = function detectOS(userAgentString) {\n  var operatingSystems = [\n    {\n      name: 'iOS',\n      rule: /iP(hone|od|ad)/\n    },\n    {\n      name: 'Android OS',\n      rule: /Android/\n    },\n    {\n      name: 'BlackBerry OS',\n      rule: /BlackBerry|BB10/\n    },\n    {\n      name: 'Windows Mobile',\n      rule: /IEMobile/\n    },\n    {\n      name: 'Amazon OS',\n      rule: /Kindle/\n    },\n    {\n      name: 'Windows 3.11',\n      rule: /Win16/\n    },\n    {\n      name: 'Windows 95',\n      rule: /(Windows 95)|(Win95)|(Windows_95)/\n    },\n    {\n      name: 'Windows 98',\n      rule: /(Windows 98)|(Win98)/\n    },\n    {\n      name: 'Windows 2000',\n      rule: /(Windows NT 5.0)|(Windows 2000)/\n    },\n    {\n      name: 'Windows XP',\n      rule: /(Windows NT 5.1)|(Windows XP)/\n    },\n    {\n      name: 'Windows Server 2003',\n      rule: /(Windows NT 5.2)/\n    },\n    {\n      name: 'Windows Vista',\n      rule: /(Windows NT 6.0)/\n    },\n    {\n      name: 'Windows 7',\n      rule: /(Windows NT 6.1)/\n    },\n    {\n      name: 'Windows 8',\n      rule: /(Windows NT 6.2)/\n    },\n    {\n      name: 'Windows 8.1',\n      rule: /(Windows NT 6.3)/\n    },\n    {\n      name: 'Windows 10',\n      rule: /(Windows NT 10.0)/\n    },\n    {\n      name: 'Windows ME',\n      rule: /Windows ME/\n    },\n    {\n      name: 'Open BSD',\n      rule: /OpenBSD/\n    },\n    {\n      name: 'Sun OS',\n      rule: /SunOS/\n    },\n    {\n      name: 'Linux',\n      rule: /(Linux)|(X11)/\n    },\n    {\n      name: 'Mac OS',\n      rule: /(Mac_PowerPC)|(Macintosh)/\n    },\n    {\n      name: 'QNX',\n      rule: /QNX/\n    },\n    {\n      name: 'BeOS',\n      rule: /BeOS/\n    },\n    {\n      name: 'OS/2',\n      rule: /OS\\/2/\n    },\n    {\n      name: 'Search Bot',\n      rule: /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/\n    }\n  ];\n\n  var detected = operatingSystems.filter(function (os) {\n    if (userAgentString.match(os.rule)) {\n      return true;\n    }\n  });\n\n  return detected && detected[0] ? detected[0].name : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/lib/detectOS.js\n// module id = 46\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 47\n// module chunks = 0","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/inherits/inherits_browser.js\n// module id = 48\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 49\n// module chunks = 0","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/atob.js\n// module id = 50\n// module chunks = 0","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/base64_url_decode.js\n// module id = 51\n// module chunks = 0","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/index.js\n// module id = 52\n// module chunks = 0","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-assign/index.js\n// module id = 53\n// module chunks = 0","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/query-string/index.js\n// module id = 54\n// module chunks = 0","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/strict-uri-encode/index.js\n// module id = 55\n// module chunks = 0","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/util/support/isBufferBrowser.js\n// module id = 56\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/util/util.js\n// module id = 57\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 58\n// module chunks = 0"],"sourceRoot":""}